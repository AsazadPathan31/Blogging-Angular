"use strict";(self.webpackChunkblogging=self.webpackChunkblogging||[]).push([[179],{51:(tr,Rn,He)=>{He.d(Rn,{BH:()=>Rt,G6:()=>nr,L:()=>ot,LL:()=>H,Pz:()=>et,Sg:()=>mi,UG:()=>X,ZB:()=>Te,ZR:()=>ne,aH:()=>Lt,b$:()=>_n,eu:()=>$,hl:()=>U,jU:()=>Ht,m9:()=>va,ne:()=>Ii,pd:()=>yn,r3:()=>P,ru:()=>qt,tV:()=>te,uI:()=>Nn,vZ:()=>ue,w1:()=>Tr,xO:()=>Tt,xb:()=>j,z$:()=>Ge,zd:()=>at});const Ue=function(C){const T=[];let D=0;for(let Z=0;Z<C.length;Z++){let N=C.charCodeAt(Z);N<128?T[D++]=N:N<2048?(T[D++]=N>>6|192,T[D++]=63&N|128):55296==(64512&N)&&Z+1<C.length&&56320==(64512&C.charCodeAt(Z+1))?(N=65536+((1023&N)<<10)+(1023&C.charCodeAt(++Z)),T[D++]=N>>18|240,T[D++]=N>>12&63|128,T[D++]=N>>6&63|128,T[D++]=63&N|128):(T[D++]=N>>12|224,T[D++]=N>>6&63|128,T[D++]=63&N|128)}return T},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(C,T){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const D=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let N=0;N<C.length;N+=3){const G=C[N],je=N+1<C.length,tt=je?C[N+1]:0,Ct=N+2<C.length,dn=Ct?C[N+2]:0;let ri=(15&tt)<<2|dn>>6,Bt=63&dn;Ct||(Bt=64,je||(ri=64)),Z.push(D[G>>2],D[(3&G)<<4|tt>>4],D[ri],D[Bt])}return Z.join("")},encodeString(C,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(C):this.encodeByteArray(Ue(C),T)},decodeString(C,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(C):function(C){const T=[];let D=0,Z=0;for(;D<C.length;){const N=C[D++];if(N<128)T[Z++]=String.fromCharCode(N);else if(N>191&&N<224){const G=C[D++];T[Z++]=String.fromCharCode((31&N)<<6|63&G)}else if(N>239&&N<365){const Ct=((7&N)<<18|(63&C[D++])<<12|(63&C[D++])<<6|63&C[D++])-65536;T[Z++]=String.fromCharCode(55296+(Ct>>10)),T[Z++]=String.fromCharCode(56320+(1023&Ct))}else{const G=C[D++],je=C[D++];T[Z++]=String.fromCharCode((15&N)<<12|(63&G)<<6|63&je)}}return T.join("")}(this.decodeStringToByteArray(C,T))},decodeStringToByteArray(C,T){this.init_();const D=T?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let N=0;N<C.length;){const G=D[C.charAt(N++)],tt=N<C.length?D[C.charAt(N)]:0;++N;const dn=N<C.length?D[C.charAt(N)]:64;++N;const Ce=N<C.length?D[C.charAt(N)]:64;if(++N,null==G||null==tt||null==dn||null==Ce)throw new en;Z.push(G<<2|tt>>4),64!==dn&&(Z.push(tt<<4&240|dn>>2),64!==Ce&&Z.push(dn<<6&192|Ce))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class en extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ot=function(C){return function(C){const T=Ue(C);return Jt.encodeByteArray(T,!0)}(C).replace(/\./g,"")},te=function(C){try{return Jt.decodeString(C,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function Te(C,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===C&&(C={});break;case Array:C=[];break;default:return T}for(const D in T)!T.hasOwnProperty(D)||!Je(D)||(C[D]=Te(C[D],T[D]));return C}function Je(C){return"__proto__"!==C}const Ze=()=>{try{return function _t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const C=process.env.__FIREBASE_DEFAULTS__;return C?JSON.parse(C):void 0})()||(()=>{if(typeof document>"u")return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=C&&te(C[1]);return T&&JSON.parse(T)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},Lt=()=>{var C;return null===(C=Ze())||void 0===C?void 0:C.config},et=C=>{var T;return null===(T=Ze())||void 0===T?void 0:T[`_${C}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,D)=>{this.resolve=T,this.reject=D})}wrapCallback(T){return(D,Z)=>{D?this.reject(D):this.resolve(Z),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(D):T(D,Z))}}}function mi(C,T){if(C.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=T||"demo-project",N=C.iat||0,G=C.sub||C.user_id;if(!G)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:N,exp:N+3600,auth_time:N,sub:G,user_id:G,firebase:{sign_in_provider:"custom",identities:{}}},C);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(je)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function X(){var C;const T=null===(C=Ze())||void 0===C?void 0:C.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function qt(){const C="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof C&&void 0!==C.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tr(){const C=Ge();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function nr(){return!X()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function $(){return new Promise((C,T)=>{try{let D=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(Z);N.onsuccess=()=>{N.result.close(),D||self.indexedDB.deleteDatabase(Z),C(!0)},N.onupgradeneeded=()=>{D=!1},N.onerror=()=>{var G;T((null===(G=N.error)||void 0===G?void 0:G.message)||"")}}catch(D){T(D)}})}class ne extends Error{constructor(T,D,Z){super(D),this.code=T,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(T,D,Z){this.service=T,this.serviceName=D,this.errors=Z}create(T,...D){const Z=D[0]||{},N=`${this.service}/${T}`,G=this.errors[T],je=G?function ve(C,T){return C.replace(ct,(D,Z)=>{const N=T[Z];return null!=N?String(N):`<${Z}?>`})}(G,Z):"Error";return new ne(N,`${this.serviceName}: ${je} (${N}).`,Z)}}const ct=/\{\$([^}]+)}/g;function P(C,T){return Object.prototype.hasOwnProperty.call(C,T)}function j(C){for(const T in C)if(Object.prototype.hasOwnProperty.call(C,T))return!1;return!0}function ue(C,T){if(C===T)return!0;const D=Object.keys(C),Z=Object.keys(T);for(const N of D){if(!Z.includes(N))return!1;const G=C[N],je=T[N];if(he(G)&&he(je)){if(!ue(G,je))return!1}else if(G!==je)return!1}for(const N of Z)if(!D.includes(N))return!1;return!0}function he(C){return null!==C&&"object"==typeof C}function Tt(C){const T=[];for(const[D,Z]of Object.entries(C))Array.isArray(Z)?Z.forEach(N=>{T.push(encodeURIComponent(D)+"="+encodeURIComponent(N))}):T.push(encodeURIComponent(D)+"="+encodeURIComponent(Z));return T.length?"&"+T.join("&"):""}function at(C){const T={};return C.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[N,G]=Z.split("=");T[decodeURIComponent(N)]=decodeURIComponent(G)}}),T}function yn(C){const T=C.indexOf("?");if(!T)return"";const D=C.indexOf("#",T);return C.substring(T,D>0?D:void 0)}function Ii(C,T){const D=new ir(C,T);return D.subscribe.bind(D)}class ir{constructor(T,D){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=D,this.task.then(()=>{T(this)}).catch(Z=>{this.error(Z)})}next(T){this.forEachObserver(D=>{D.next(T)})}error(T){this.forEachObserver(D=>{D.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,D,Z){let N;if(void 0===T&&void 0===D&&void 0===Z)throw new Error("Missing Observer.");N=function $n(C,T){if("object"!=typeof C||null===C)return!1;for(const D of T)if(D in C&&"function"==typeof C[D])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:D,complete:Z},void 0===N.next&&(N.next=Pt),void 0===N.error&&(N.error=Pt),void 0===N.complete&&(N.complete=Pt);const G=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),G}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let D=0;D<this.observers.length;D++)this.sendOne(D,T)}sendOne(T,D){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{D(this.observers[T])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function va(C){return C&&C._delegate?C._delegate:C}},261:(tr,Rn,He)=>{function E(n){return"function"==typeof n}function Oe(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const q=Oe(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ue(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(E(i))try{i()}catch(o){e=o instanceof q?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Yn(o)}catch(s){e=e??[],s instanceof q?e=[...e,...s.errors]:e.push(s)}}if(e)throw new q(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Yn(e);else{if(e instanceof rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ue(t,e)}remove(e){const{_finalizers:t}=this;t&&Ue(t,e),e instanceof rt&&e._removeParent(this)}}rt.EMPTY=(()=>{const n=new rt;return n.closed=!0,n})();const Jt=rt.EMPTY;function en(n){return n instanceof rt||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function Yn(n){E(n)?n():n.unsubscribe()}const ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},te={setTimeout(n,e,...t){const{delegate:i}=te;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=te;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ce(n){te.setTimeout(()=>{const{onUnhandledError:e}=ot;if(!e)throw n;e(n)})}function Te(){}const Je=bt("C",void 0,void 0);function bt(n,e,t){return{kind:n,value:e,error:t}}let Be=null;function Ze(n){if(ot.useDeprecatedSynchronousErrorHandling){const e=!Be;if(e&&(Be={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Be;if(Be=null,t)throw i}}else n()}class Pn extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,en(e)&&e.add(this)):this.destination=Ht}static create(e,t,i){return new mi(e,t,i)}next(e){this.isStopped?X(function cn(n){return bt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?X(function _t(n){return bt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?X(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Lt=Function.prototype.bind;function et(n,e){return Lt.call(n,e)}class Rt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ge(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ge(i)}else Ge(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ge(t)}}}class mi extends Pn{constructor(e,t,i){let r;if(super(),E(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ot.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&et(e.next,o),error:e.error&&et(e.error,o),complete:e.complete&&et(e.complete,o)}):r=e}this.destination=new Rt(r)}}function Ge(n){ot.useDeprecatedSynchronousErrorHandling?function kn(n){ot.useDeprecatedSynchronousErrorHandling&&Be&&(Be.errorThrown=!0,Be.error=n)}(n):ce(n)}function X(n,e){const{onStoppedNotification:t}=ot;t&&te.setTimeout(()=>t(n,e))}const Ht={closed:!0,next:Te,error:function Nn(n){throw n},complete:Te},qt="function"==typeof Symbol&&Symbol.observable||"@@observable";function _n(n){return n}function Tr(n){return 0===n.length?_n:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let st=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function U(n){return n&&n instanceof Pn||function nr(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&en(n)}(t)?t:new mi(t,i,r);return Ze(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=To(i))((r,o)=>{const s=new mi({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[qt](){return this}pipe(...t){return Tr(t)(this)}toPromise(t){return new(t=To(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function To(n){var e;return null!==(e=n??ot.Promise)&&void 0!==e?e:Promise}const $=Oe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new K(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new $}next(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Jt:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,Ue(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new st;return t.source=this,t}}return n.create=(e,t)=>new K(e,t),n})();class K extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Jt}}function ne(n){return E(n?.lift)}function H(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,i,r){return new ct(n,e,t,i,r)}class ct extends Pn{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(n,e){return H((t,i)=>{let r=0;t.subscribe(ve(i,o=>{i.next(n.call(e,o,r++))}))})}var Me=He(356);const yt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Kt(n){return E(n?.then)}function kt(n){return E(n[qt])}function Xn(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function xn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const M=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function j(n){return E(n?.[M])}function re(n){return(0,Me.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Me.qq)(t.read());if(r)return yield(0,Me.qq)(void 0);yield yield(0,Me.qq)(i)}}finally{t.releaseLock()}})}function ue(n){return E(n?.getReader)}function he(n){if(n instanceof st)return n;if(null!=n){if(kt(n))return function tn(n){return new st(e=>{const t=n[qt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yt(n))return function Tt(n){return new st(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Kt(n))return function at(n){return new st(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ce)})}(n);if(Xn(n))return Tn(n);if(j(n))return function yn(n){return new st(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ue(n))return function Ii(n){return Tn(re(n))}(n)}throw xn(n)}function Tn(n){return new st(e=>{(function ir(n,e){var t,i,r,o;return(0,Me.mG)(this,void 0,void 0,function*(){try{for(t=(0,Me.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function On(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Pt(n,e,t=1/0){return E(e)?Pt((i,r)=>_e((o,s)=>e(i,o,r,s))(he(n(i,r))),t):("number"==typeof e&&(t=e),H((i,r)=>function $n(n,e,t,i,r,o,s,a){const l=[];let d=0,f=0,p=!1;const g=()=>{p&&!l.length&&!d&&e.complete()},y=w=>d<i?b(w):l.push(w),b=w=>{o&&e.next(w),d++;let I=!1;he(t(w,f++)).subscribe(ve(e,k=>{r?.(k),o?y(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(d--;l.length&&d<i;){const k=l.shift();s?On(e,s,()=>b(k)):b(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(ve(e,y,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Mt(n=1/0){return Pt(_n,n)}const nn=new st(n=>n.complete());function Wo(n){return n[n.length-1]}function Ko(n){return function Oi(n){return n&&E(n.schedule)}(Wo(n))?n.pop():void 0}function xi(n,e=0){return H((t,i)=>{t.subscribe(ve(i,r=>On(i,n,()=>i.next(r),e),()=>On(i,n,()=>i.complete(),e),r=>On(i,n,()=>i.error(r),e)))})}function Fi(n,e=0){return H((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function va(n,e){if(!n)throw new Error("Iterable cannot be null");return new st(t=>{On(t,e,()=>{const i=n[Symbol.asyncIterator]();On(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function D(n,e){return e?function T(n,e){if(null!=n){if(kt(n))return function Zo(n,e){return he(n).pipe(Fi(e),xi(e))}(n,e);if(yt(n))return function dd(n,e){return new st(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Kt(n))return function ya(n,e){return he(n).pipe(Fi(e),xi(e))}(n,e);if(Xn(n))return va(n,e);if(j(n))return function Al(n,e){return new st(t=>{let i;return On(t,e,()=>{i=n[M](),On(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>E(i?.return)&&i.return()})}(n,e);if(ue(n))return function C(n,e){return va(re(n),e)}(n,e)}throw xn(n)}(n,e):he(n)}function Z(...n){const e=Ko(n),t=function _a(n,e){return"number"==typeof Wo(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?he(i[0]):Mt(t)(D(i,e)):nn}class N extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function G(...n){return D(n,Ko(n))}function je(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,d=0,f=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,f=p=!1},b=()=>{const w=s;y(),w?.unsubscribe()};return H((w,I)=>{d++,!p&&!f&&g();const k=l=l??e();I.add(()=>{d--,0===d&&!p&&!f&&(a=tt(b,r))}),k.subscribe(I),!s&&d>0&&(s=new mi({next:A=>k.next(A),error:A=>{p=!0,g(),a=tt(y,t,A),k.error(A)},complete:()=>{f=!0,g(),a=tt(y,i),k.complete()}}),he(w).subscribe(s))})(o)}}function tt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new mi({next:()=>{i.unsubscribe(),n()}});return he(e(...t)).subscribe(i)}function Ct(n,e){return H((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(ve(i,l=>{r?.unsubscribe();let d=0;const f=o++;he(n(l,f)).subscribe(r=ve(i,p=>i.next(e?e(l,p,f,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function dn(n,e=_n){return n=n??Jn,H((t,i)=>{let r,o=!0;t.subscribe(ve(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Jn(n,e){return n===e}function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function ri(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Bt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function to(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ud=Ce({__forward_ref__:Ce});function V(n){return n.__forward_ref__=V,n.toString=function(){return Bt(this())},n}function S(n){return ae(n)?n():n}function ae(n){return"function"==typeof n&&n.hasOwnProperty(ud)&&n.__forward_ref__===V}function De(n){return n&&!!n.\u0275providers}class O extends Error{constructor(e,t){super(function vn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function Sl(n,e){throw new O(-201,!1)}function Li(n,e){null==n&&function Fe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ml(n){return Bh(n,Rl)||Bh(n,Sg)}function Bh(n,e){return n.hasOwnProperty(e)?n[e]:null}function Co(n){return n&&(n.hasOwnProperty(kl)||n.hasOwnProperty(jh))?n[kl]:null}const Rl=Ce({\u0275prov:Ce}),kl=Ce({\u0275inj:Ce}),Sg=Ce({ngInjectableDef:Ce}),jh=Ce({ngInjectorDef:Ce});var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});let Pl;function pi(n){const e=Pl;return Pl=n,e}function Rg(n,e,t){const i=Ml(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void Sl(Bt(n))}const Nt=globalThis;class ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const or={},Ll="__NG_DI_FLAG__",fd="ngTempTokenPath",$w=/\n/gm,Lg="__source";let Yo;function io(n){const e=Yo;return Yo=n,e}function Hw(n,e=ht.Default){if(void 0===Yo)throw new O(-203,!1);return null===Yo?Rg(n,void 0,e):Yo.get(n,e&ht.Optional?null:void 0,e)}function J(n,e=ht.Default){return(function Mg(){return Pl}()||Hw)(S(n),e)}function fe(n,e=ht.Default){return J(n,pd(e))}function pd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hh(n){const e=[];for(let t=0;t<n.length;t++){const i=S(n[t]);if(Array.isArray(i)){if(0===i.length)throw new O(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],l=gS(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(J(r,o))}else e.push(J(i))}return e}function Do(n,e){return n[Ll]=e,n.prototype[Ll]=e,n}function gS(n){return n[Ll]}function Vi(n){return{toString:n}.toString()}var So=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(So||{}),sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(sr||{});const Lr={},Et=[],gd=Ce({\u0275cmp:Ce}),Xo=Ce({\u0275dir:Ce}),Gh=Ce({\u0275pipe:Ce}),Vl=Ce({\u0275mod:Ce}),ro=Ce({\u0275fac:Ce}),wa=Ce({__NG_ELEMENT_ID__:Ce}),_d=Ce({__NG_ENV_ID__:Ce});function ar(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function yd(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];vd(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Vg(n){return 3===n||4===n||6===n}function vd(n){return 64===n.charCodeAt(0)}function Jo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Wh(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Wh(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Kh="ng-template";function qw(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==ar(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function bd(n){return 4===n.type&&n.value!==Kh}function Zh(n,e,t){return e===(4!==n.type||t?n.value:Kh)}function Qh(n,e,t){let i=4;const r=n.attrs||[],o=function Ug(n){for(let e=0;e<n.length;e++)if(Vg(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Zh(n,l,t)||""===l&&1===e.length){if(Ui(i))return!1;s=!0}}else{const d=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!qw(n.attrs,d,t)){if(Ui(i))return!1;s=!0}continue}const p=Yh(8&i?"class":l,r,bd(n),t);if(-1===p){if(Ui(i))return!1;s=!0;continue}if(""!==d){let g;g=p>o?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==ar(y,d,0)||2&i&&d!==g){if(Ui(i))return!1;s=!0}}}}else{if(!s&&!Ui(i)&&!Ui(l))return!1;if(s&&Ui(l))continue;s=!1,i=l|1&i}}return Ui(i)||s}function Ui(n){return 0==(1&n)}function Yh(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ef(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Xh(n,e,t=!1){for(let i=0;i<e.length;i++)if(Qh(n,e[i],t))return!0;return!1}function wd(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ed(n,e){return n?":not("+e.trim()+")":e}function Bg(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Ui(s)&&(e+=Ed(o,r),r=""),i=s,o=o||!Ui(i);t++}return""!==r&&(e+=Ed(o,r)),e}function lr(n){return Vi(()=>{const e=xd(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===So.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};$g(t);const i=n.dependencies;return t.directiveDefs=Ea(i,!1),t.pipeDefs=Ea(i,!0),t.id=function rf(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function nf(n){return ft(n)||zn(n)}function Ww(n){return null!==n}function It(n){return Vi(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Id(n,e){if(null==n)return Lr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ee(n){return Vi(()=>{const e=xd(n);return $g(e),e})}function ft(n){return n[gd]||null}function zn(n){return n[Xo]||null}function Ti(n){return n[Gh]||null}function cr(n,e){const t=n[Vl]||null;if(!t&&!0===e)throw new Error(`Type ${Bt(n)} does not have '\u0275mod' property.`);return t}function xd(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Lr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Id(n.inputs,e),outputs:Id(n.outputs)}}function $g(n){n.features?.forEach(e=>e(n))}function Ea(n,e){if(!n)return null;const t=e?Ti:nf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Ww)}const bn=0,ye=1,Qe=2,Gt=3,Vr=4,Bl=5,ei=6,Ia=7,Cn=8,oo=9,xa=10,$e=11,jl=12,Td=13,Ta=14,un=15,$l=16,ts=17,so=18,Fs=19,Hg=20,ao=21,Mo=22,zl=23,Ca=24,lt=25,ns=1,sf=2,lo=7,Da=9,si=11;function dr(n){return Array.isArray(n)&&"object"==typeof n[ns]}function Bi(n){return Array.isArray(n)&&!0===n[ns]}function ql(n){return 0!=(4&n.flags)}function Ls(n){return n.componentOffset>-1}function Dd(n){return 1==(1&n.flags)}function co(n){return!!n.template}function qg(n){return 0!=(512&n[Qe])}function uo(n,e){return n.hasOwnProperty(ro)?n[ro]:null}let ai=null,is=!1;function Cr(n){const e=ai;return ai=n,e}const Dn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ad(n){if(!os(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Jg(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Xg(n){n.dirty=!0,function Yg(n){if(void 0===n.liveConsumerNode)return;const e=is;is=!0;try{for(const t of n.liveConsumerNode)t.dirty||Xg(t)}finally{is=e}}(n),n.consumerMarkedDirty?.(n)}function df(n){return n&&(n.nextProducerIndex=0),Cr(n)}function Sd(n,e){if(Cr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(os(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Jg(n){Sa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Ad(t),i!==t.version))return!0}return!1}function Wl(n){if(Sa(n),os(n))for(let e=0;e<n.producerNode.length;e++)rs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function rs(n,e){if(function Md(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Sa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)rs(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Sa(r),r.producerIndexOfThis[i]=e}}function os(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let n_=null;const o_=()=>{},e0=(()=>({...Dn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:o_}))();class t0{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ji(){return s_}function s_(n){return n.type.prototype.ngOnChanges&&(n.setInput=r0),n0}function n0(){const n=a_(this),e=n?.current;if(e){const t=n.previous;if(t===Lr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function r0(n,e,t,i){const r=this.declaredInputs[t],o=a_(n)||function mf(n,e){return n[kd]=e}(n,{previous:Lr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new t0(l&&l.currentValue,e,a===Lr),n[i]=e}ji.ngInherit=!0;const kd="__ngSimpleChanges__";function a_(n){return n[kd]||null}const ho=function(n,e,t){};function Vt(n){for(;Array.isArray(n);)n=n[bn];return n}function ti(n,e){return Vt(e[n.index])}function Nd(n,e){return n.data[e]}function ur(n,e){const t=e[n];return dr(t)?t:t[bn]}function ss(n,e){return null==e?null:n[e]}function c_(n){n[ts]=0}function vf(n){1024&n[Qe]||(n[Qe]|=1024,Od(n,1))}function d_(n){1024&n[Qe]&&(n[Qe]&=-1025,Od(n,-1))}function Od(n,e){let t=n[Gt];if(null===t)return;t[Bl]+=e;let i=t;for(t=t[Gt];null!==t&&(1===e&&1===i[Bl]||-1===e&&0===i[Bl]);)t[Bl]+=e,i=t,t=t[Gt]}const Ve={lFrame:__(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ld(){return Ve.bindingsEnabled}function as(){return null!==Ve.skipHydrationRootTNode}function oe(){return Ve.lFrame.lView}function mt(){return Ve.lFrame.tView}function Hn(){let n=p_();for(;null!==n&&64===n.type;)n=n.parent;return n}function p_(){return Ve.lFrame.currentTNode}function Dr(n,e){const t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function If(){return Ve.lFrame.isParent}function Yl(){Ve.lFrame.isParent=!1}function Df(n,e){const t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,Af(e)}function Af(n){Ve.lFrame.currentDirectiveIndex=n}function Ud(){return Ve.lFrame.currentQueryIndex}function Mf(n){Ve.lFrame.currentQueryIndex=n}function m0(n){const e=n[ye];return 2===e.type?e.declTNode:1===e.type?n[ei]:null}function Rf(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=m0(o),null===r||(o=o[Ta],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ve.lFrame=Xl();return i.currentTNode=e,i.lView=n,!0}function kf(n){const e=Xl(),t=n[ye];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xl(){const n=Ve.lFrame,e=null===n?null:n.child;return null===e?__(n):e}function __(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function y_(){const n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const v_=y_;function Pf(){const n=y_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return Ve.lFrame.selectedIndex}function $s(n){Ve.lFrame.selectedIndex=n}let Nf=!0;function Bd(){return Nf}function ls(n){Nf=n}function jd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function $d(n,e,t){I_(n,e,3,t)}function Pa(n,e,t,i){(3&n[Qe])===t&&I_(n,e,t,i)}function Jl(n,e){let t=n[Qe];(3&t)===e&&(t&=8191,t+=1,n[Qe]=t)}function I_(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[ts]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[ts]+=65536),(a<o||-1==o)&&(b0(n,t,e,l),n[ts]=(4294901760&n[ts])+l+2),l++}function zd(n,e){ho(4,n,e);const t=Cr(null);try{e.call(n)}finally{Cr(t),ho(5,n,e)}}function b0(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Qe]>>13<n[ts]>>16&&(3&n[Qe])===e&&(n[Qe]+=8192,zd(a,o)):zd(a,o)}const zs=-1;class ec{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ff(n){return n!==zs}function tc(n){return 32767&n}function nc(n,e){let t=function I0(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ta],t--;return i}let Lf=!0;function ic(n){const e=Lf;return Lf=n,e}const x0=255,cs=5;let T0=0;const mo={};function qd(n,e){const t=D_(n,e);if(-1!==t)return t;const i=e[ye];i.firstCreatePass&&(n.injectorIndex=e.length,rc(i.data,n),rc(e,null),rc(i.blueprint,null));const r=Gd(n,e),o=n.injectorIndex;if(Ff(r)){const s=tc(r),a=nc(r,e),l=a[ye].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=r,o}function rc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function D_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Gd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=P_(r),null===i)return zs;if(t++,r=r[Ta],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return zs}function oc(n,e,t){!function Vf(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(wa)&&(i=t[wa]),null==i&&(i=t[wa]=T0++);const r=i&x0;e.data[n+(r>>cs)]|=1<<r}(n,e,t)}function A_(n,e,t){if(t&ht.Optional||void 0!==n)return n;Sl()}function Wd(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[oo],o=pi(void 0);try{return r?r.get(e,i,t&ht.Optional):Rg(e,i,t&ht.Optional)}finally{pi(o)}}return A_(i,0,t)}function S_(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[Qe]&&!(i&ht.Self)){const s=function S0(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=M_(o,s,t,i|ht.Self,mo);if(a!==mo)return a;let l=o.parent;if(!l){const d=s[Hg];if(d){const f=d.get(t,mo,i);if(f!==mo)return f}l=P_(s),s=s[Ta]}o=l}return r}(n,e,t,i,mo);if(s!==mo)return s}const o=M_(n,e,t,i,mo);if(o!==mo)return o}return Wd(e,t,i,r)}function M_(n,e,t,i,r){const o=function R_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wa)?n[wa]:void 0;return"number"==typeof e?e>=0?e&x0:A0:e}(t);if("function"==typeof o){if(!Rf(e,n,i))return i&ht.Host?A_(r,0,i):Wd(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;Sl()}finally{v_()}}else if("number"==typeof o){let s=null,a=D_(n,e),l=zs,d=i&ht.Host?e[un][ei]:null;for((-1===a||i&ht.SkipSelf)&&(l=-1===a?Gd(n,e):e[a+8],l!==zs&&k_(i,!1)?(s=e[ye],a=tc(l),e=nc(l,e)):a=-1);-1!==a;){const f=e[ye];if(Zd(o,a,f.data)){const p=D0(a,e,t,s,i,d);if(p!==mo)return p}l=e[a+8],l!==zs&&k_(i,e[ye].data[a+8]===d)&&Zd(o,a,e)?(s=f,a=tc(l),e=nc(l,e)):a=-1}}return r}function D0(n,e,t,i,r,o){const s=e[ye],a=s.data[n+8],f=Kd(a,s,t,null==i?Ls(a)&&Lf:i!=s&&0!=(3&a.type),r&ht.Host&&o===a);return null!==f?Hs(e,s,f,a):mo}function Kd(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,f=o>>20,g=r?a+f:n.directiveEnd;for(let y=i?a:a+f;y<g;y++){const b=s[y];if(y<l&&t===b||y>=l&&b.type===t)return y}if(r){const y=s[l];if(y&&co(y)&&y.type===t)return l}return null}function Hs(n,e,t,i){let r=n[t];const o=e.data;if(function Of(n){return n instanceof ec}(r)){const s=r;s.resolving&&function ba(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${t}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=ic(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?pi(s.injectImpl):null;Rf(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function v0(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=s_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&pi(d),ic(a),s.resolving=!1,v_()}}return r}function Zd(n,e,t){return!!(t[e+(n>>cs)]&1<<n)}function k_(n,e){return!(n&ht.Self||n&ht.Host&&e)}class ci{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return S_(this._tNode,this._lView,e,pd(i),t)}}function A0(){return new ci(Hn(),oe())}function Fn(n){return Vi(()=>{const e=n.prototype.constructor,t=e[ro]||Na(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[ro]||Na(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Na(n){return ae(n)?()=>{const e=Na(S(n));return e&&e()}:uo(n)}function P_(n){const e=n[ye],t=e.type;return 2===t?e.declTNode:1===t?n[ei]:null}const Oa="__parameters__";function po(n,e,t){return Vi(()=>{const i=function Bf(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,d,f){const p=l.hasOwnProperty(Oa)?l[Oa]:Object.defineProperty(l,Oa,{value:[]})[Oa];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function La(n,e){n.forEach(t=>Array.isArray(t)?La(t,e):e(t))}function Yd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Va(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function fr(n,e,t){let i=Ua(n,e);return i>=0?n[1|i]=t:(i=~i,function us(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function jf(n,e){const t=Ua(n,e);if(t>=0)return n[1|t]}function Ua(n,e){return function Di(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const hs=Do(po("Optional"),8),dc=Do(po("SkipSelf"),4);function G_(n){return 128==(128&n.flags)}var ja=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ja||{});const j0=new Map;let w$=0;const z0="__ngContext__";function $i(n,e){dr(e)?(n[z0]=e[Fs],function I$(n){j0.set(n[Fs],n)}(e)):n[z0]=e}let H0;function q0(n,e){return H0(n,e)}function Kf(n){const e=n[Gt];return Bi(e)?e[Gt]:e}function iM(n){return oM(n[jl])}function rM(n){return oM(n[Vr])}function oM(n){for(;null!==n&&!Bi(n);)n=n[Vr];return n}function iu(n,e,t,i,r){if(null!=i){let o,s=!1;Bi(i)?o=i:dr(i)&&(s=!0,i=i[bn]);const a=Vt(i);0===n&&null!==t?null==r?cM(e,t,a):hc(e,t,a,r||null,!0):1===n&&null!==t?hc(e,t,a,r||null,!0):2===n?function J_(n,e,t){const i=Y_(n,e);i&&function $$(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function q$(n,e,t,i,r){const o=t[lo];o!==Vt(t)&&iu(e,n,i,o,r);for(let a=si;a<t.length;a++){const l=t[a];Qf(l[ye],l,n,e,i,o)}}(e,n,o,t,r)}}function Z_(n,e,t){return n.createElement(e,t)}function aM(n,e){const t=n[Da],i=t.indexOf(e);d_(e),t.splice(i,1)}function Q_(n,e){if(n.length<=si)return;const t=si+e,i=n[t];if(i){const r=i[$l];null!==r&&r!==n&&aM(r,i),e>0&&(n[t-1][Vr]=i[Vr]);const o=Va(n,si+e);!function N$(n,e){Qf(n,e,e[$e],2,null,null),e[bn]=null,e[ei]=null}(i[ye],i);const s=o[so];null!==s&&s.detachView(o[ye]),i[Gt]=null,i[Vr]=null,i[Qe]&=-129}return i}function W0(n,e){if(!(256&e[Qe])){const t=e[$e];e[zl]&&Wl(e[zl]),e[Ca]&&Wl(e[Ca]),t.destroyNode&&Qf(n,e,t,3,null,null),function L$(n){let e=n[jl];if(!e)return K0(n[ye],n);for(;e;){let t=null;if(dr(e))t=e[jl];else{const i=e[si];i&&(t=i)}if(!t){for(;e&&!e[Vr]&&e!==n;)dr(e)&&K0(e[ye],e),e=e[Gt];null===e&&(e=n),dr(e)&&K0(e[ye],e),t=e&&e[Vr]}e=t}}(e)}}function K0(n,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function j$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof ec)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];ho(4,a,l);try{l.call(a)}finally{ho(5,a,l)}}else{ho(4,r,o);try{o.call(r)}finally{ho(5,r,o)}}}}}(n,e),function B$(n,e){const t=n.cleanup,i=e[Ia];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ia]=null);const r=e[ao];if(null!==r){e[ao]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ye].type&&e[$e].destroy();const t=e[$l];if(null!==t&&Bi(e[Gt])){t!==e[Gt]&&aM(t,e);const i=e[so];null!==i&&i.detachView(n)}!function x$(n){j0.delete(n[Fs])}(e)}}function Z0(n,e,t){return function lM(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[bn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===sr.None||o===sr.Emulated)return null}return ti(i,t)}}(n,e.parent,t)}function hc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function cM(n,e,t){n.appendChild(e,t)}function dM(n,e,t,i,r){null!==i?hc(n,e,t,i,r):cM(n,e,t)}function Y_(n,e){return n.parentNode(e)}function uM(n,e,t){return fM(n,e,t)}let Q0,eE,fM=function hM(n,e,t){return 40&n.type?ti(n,t):null};function X_(n,e,t,i){const r=Z0(n,i,e),o=e[$e],a=uM(i.parent||e[ei],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)dM(o,r,t[l],a,!1);else dM(o,r,t,a,!1);void 0!==Q0&&Q0(o,i,e,t,r)}function Zf(n,e){if(null!==e){const t=e.type;if(3&t)return ti(e,n);if(4&t)return Y0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Zf(n,i);{const r=n[e.index];return Bi(r)?Y0(-1,r):Vt(r)}}if(32&t)return q0(e,n)()||Vt(n[e.index]);{const i=pM(n,e);return null!==i?Array.isArray(i)?i[0]:Zf(Kf(n[un]),i):Zf(n,e.next)}}return null}function pM(n,e){return null!==e?n[un][ei].projection[e.projection]:null}function Y0(n,e){const t=si+n+1;if(t<e.length){const i=e[t],r=i[ye].firstChild;if(null!==r)return Zf(i,r)}return e[lo]}function X0(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&$i(Vt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)X0(n,e,t.child,i,r,o,!1),iu(e,n,r,a,o);else if(32&l){const d=q0(t,i);let f;for(;f=d();)iu(e,n,r,f,o);iu(e,n,r,a,o)}else 16&l?_M(n,e,i,t,r,o):iu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Qf(n,e,t,i,r,o){X0(t,i,n.firstChild,e,r,o,!1)}function _M(n,e,t,i,r,o){const s=t[un],l=s[ei].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)iu(e,n,r,l[d],o);else{let d=l;const f=s[Gt];G_(i)&&(d.flags|=128),X0(n,e,d,f,r,o,!0)}}function yM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vM(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&yd(n,e,i),null!==r&&yM(n,e,r),null!==o&&function W$(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class fc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Jf=new ie("ENVIRONMENT_INITIALIZER"),PM=new ie("INJECTOR",-1),NM=new ie("INJECTOR_DEF_TYPES");class oE{get(e,t=or){if(t===or){const i=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw i.name="NullInjectorError",i}return t}}function T3(...n){return{\u0275providers:OM(0,n),\u0275fromNgModule:!0}}function OM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return La(e,s=>{const a=s;ry(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&FM(r,o),t}function FM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];aE(r,o=>{e(o,i)})}}function ry(n,e,t,i){if(!(n=S(n)))return!1;let r=null,o=Co(n);const s=!o&&ft(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Co(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of l)ry(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;i.add(r);try{La(o.imports,f=>{ry(f,e,t,i)&&(d||=[],d.push(f))})}finally{}void 0!==d&&FM(d,e)}if(!a){const d=uo(r)||(()=>new r);e({provide:r,useFactory:d,deps:Et},r),e({provide:NM,useValue:r,multi:!0},r),e({provide:Jf,useValue:()=>J(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const d=n;aE(l,f=>{e(f,d)})}}}return r!==n&&void 0!==n.providers}function aE(n,e){for(let t of n)De(t)&&(t=t.\u0275providers),Array.isArray(t)?aE(t,e):e(t)}const C3=Ce({provide:String,useValue:Ce});function lE(n){return null!==n&&"object"==typeof n&&C3 in n}function mc(n){return"function"==typeof n}const cE=new ie("Set Injector scope."),oy={},A3={};let dE;function sy(){return void 0===dE&&(dE=new oE),dE}class jr{}class su extends jr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hE(e,s=>this.processProvider(s)),this.records.set(PM,au(void 0,this)),r.has("environment")&&this.records.set(jr,au(void 0,this));const o=this.records.get(cE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(NM.multi,Et,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=io(this),i=pi(void 0);try{return e()}finally{io(t),pi(i)}}get(e,t=or,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_d))return e[_d](this);i=pd(i);const o=io(this),s=pi(void 0);try{if(!(i&ht.SkipSelf)){let l=this.records.get(e);if(void 0===l){const d=function P3(n){return"function"==typeof n||"object"==typeof n&&n instanceof ie}(e)&&Ml(e);l=d&&this.injectableDefInScope(d)?au(uE(e),oy):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ht.Self?sy():this.parent).get(e,t=i&ht.Optional&&t===or?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[fd]=a[fd]||[]).unshift(Bt(e)),o)throw a;return function qh(n,e,t,i){const r=n[fd];throw e[Lg]&&r.unshift(e[Lg]),n.message=function Ao(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Bt(e);if(Array.isArray(e))r=e.map(Bt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Bt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace($w,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[fd]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{pi(s),io(o)}}resolveInjectorInitializers(){const e=io(this),t=pi(void 0);try{const r=this.get(Jf.multi,Et,ht.Self);for(const o of r)o()}finally{io(e),pi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Bt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let t=mc(e=S(e))?e:S(e&&e.provide);const i=function M3(n){return lE(n)?au(void 0,n.useValue):au(UM(n),oy)}(e);if(mc(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=au(void 0,oy,!0),r.factory=()=>Hh(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===oy&&(t.value=A3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=S(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function uE(n){const e=Ml(n),t=null!==e?e.factory:uo(n);if(null!==t)return t;if(n instanceof ie)throw new O(204,!1);if(n instanceof Function)return function S3(n){const e=n.length;if(e>0)throw lc(e,"?"),new O(204,!1);const t=function Bw(n){return n&&(n[Rl]||n[Sg])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new O(204,!1)}function UM(n,e,t){let i;if(mc(n)){const r=S(n);return uo(r)||uE(r)}if(lE(n))i=()=>S(n.useValue);else if(function VM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Hh(n.deps||[]));else if(function LM(n){return!(!n||!n.useExisting)}(n))i=()=>J(S(n.useExisting));else{const r=S(n&&(n.useClass||n.provide));if(!function R3(n){return!!n.deps}(n))return uo(r)||uE(r);i=()=>new r(...Hh(n.deps))}return i}function au(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hE(n,e){for(const t of n)Array.isArray(t)?hE(t,e):t&&De(t)?hE(t.\u0275providers,e):e(t)}const ay=new ie("AppId",{providedIn:"root",factory:()=>N3}),N3="ng",BM=new ie("Platform Initializer"),Po=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),em=new ie("AnimationModuleType"),fE=new ie("CSP nonce",{providedIn:"root",factory:()=>function ou(){if(void 0!==eE)return eE;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jM=(n,e,t)=>null;function wE(n,e,t=!1){return jM(n,e,t)}class H3{}class HM{}class G3{resolveComponentFactory(e){throw function q3(n){const e=Error(`No component factory found for ${Bt(n)}.`);return e.ngComponent=n,e}(e)}}let fy=(()=>{class n{static#e=this.NULL=new G3}return n})();function W3(){return du(Hn(),oe())}function du(n,e){return new qn(ti(n,e))}let qn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=W3}return n})();function K3(n){return n instanceof qn?n.nativeElement:n}class im{}let Q3=(()=>{class n{static#e=this.\u0275prov=we({token:n,providedIn:"root",factory:()=>null})}return n})();class $a{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const GM=new $a("16.2.12"),xE={};function QM(n,e=null,t=null,i){const r=YM(n,e,t,i);return r.resolveInjectorInitializers(),r}function YM(n,e=null,t=null,i,r=new Set){const o=[t||Et,T3(n)];return i=i||("object"==typeof n?void 0:Bt(n)),new su(o,e||sy(),i||null,r)}let Sr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=or;static#t=this.NULL=new oE;static create(t,i){if(Array.isArray(t))return QM({name:""},i,t,"");{const r=t.name??"";return QM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=we({token:n,providedIn:"any",factory:()=>J(PM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function CE(n){return n.ngOriginalError}class No{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&CE(e);for(;t&&CE(t);)t=CE(t);return t||null}}function AE(n){return e=>{setTimeout(n,void 0,e)}}const hn=class iz extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=AE(o),r&&(r=AE(r)),s&&(s=AE(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof rt&&e.add(a),a}};function JM(...n){}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hn(!1),this.onMicrotaskEmpty=new hn(!1),this.onStable=new hn(!1),this.onError=new hn(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function rz(){const n="function"==typeof Nt.requestAnimationFrame;let e=Nt[n?"requestAnimationFrame":"setTimeout"],t=Nt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function az(n){const e=()=>{!function sz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ME(n),n.isCheckStableRunning=!0,SE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ME(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function cz(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return eR(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),tR(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return eR(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),tR(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ME(n),SE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new O(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,oz,JM,JM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const oz={};function SE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ME(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function eR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tR(n){n._nesting--,SE(n)}class lz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hn,this.onMicrotaskEmpty=new hn,this.onStable=new hn,this.onError=new hn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const nR=new ie("",{providedIn:"root",factory:iR});function iR(){const n=fe(pt);let e=!0;return Z(new st(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new st(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{pt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(je()))}function Ks(n){return n instanceof Function?n():n}let RE=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=we({token:n,providedIn:"root",factory:()=>new n})}return n})();function rm(n){for(;n;){n[Qe]|=64;const e=Kf(n);if(qg(n)&&!e)return n;n=e}return null}const lR=new ie("",{providedIn:"root",factory:()=>!1});let py=null;function hR(n,e){return n[e]??pR()}function fR(n,e){const t=pR();t.producerNode?.length&&(n[e]=py,t.lView=n,py=mR())}const vz={...Dn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{rm(n.lView)},lView:null};function mR(){return Object.create(vz)}function pR(){return py??=mR(),py}const Xe={};function W(n,e=ht.Default){const t=oe();return null===t?J(n,e):S_(Hn(),t,S(n),e)}function gy(n,e,t,i,r,o,s,a,l,d,f){const p=e.blueprint.slice();return p[bn]=r,p[Qe]=140|i,(null!==d||n&&2048&n[Qe])&&(p[Qe]|=2048),c_(p),p[Gt]=p[Ta]=n,p[Cn]=t,p[xa]=s||n&&n[xa],p[$e]=a||n&&n[$e],p[oo]=l||n&&n[oo]||null,p[ei]=o,p[Fs]=function E$(){return w$++}(),p[Mo]=f,p[Hg]=d,p[un]=2==e.type?n[un]:p,p}function fu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function kE(n,e,t,i,r){const o=p_(),s=If(),l=n.data[e]=function Dz(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return as()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function h0(){return Ve.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ql(){const n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Dr(o,!0),o}function om(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function yR(n,e,t,i,r){const o=hR(e,zl),s=Ci(),a=2&i;try{$s(-1),a&&e.length>lt&&function gR(n,e,t,i){if(!i)if(3==(3&e[Qe])){const o=n.preOrderCheckHooks;null!==o&&$d(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Pa(e,o,0,t)}$s(t)}(n,e,lt,!1),ho(a?2:0,r);const d=a?o:null,f=df(d);try{null!==d&&(d.dirty=!1),t(i,r)}finally{Sd(d,f)}}finally{a&&null===e[zl]&&fR(e,zl),$s(s),ho(a?3:1,r)}}function PE(n,e,t){if(ql(e)){const i=Cr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Cr(i)}}}function vR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=FE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function FE(n,e,t,i,r,o,s,a,l,d,f){const p=lt+i,g=p+r,y=function wz(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Xe);return t}(p,g),b="function"==typeof d?d():d;return y[ye]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:f}}let bR=n=>null;function wR(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?ER(t,e,r,o):i.hasOwnProperty(r)&&ER(t,e,i[r],o)}return t}function ER(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function IR(n,e,t,i,r,o){for(let d=0;d<i.length;d++)oc(qd(t,e),n,i[d].type);!function Uz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const f=i[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=om(n,e,i.length,null);for(let d=0;d<i.length;d++){const f=i[d];t.mergedAttrs=Jo(t.mergedAttrs,f.hostAttrs),Bz(n,t,e,l,f),Vz(l,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function Az(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,d=null;for(let f=e.directiveStart;f<r;f++){const p=o[f],g=t?t.get(p):null,b=g?g.outputs:null;l=wR(p.inputs,f,l,g?g.inputs:null),d=wR(p.outputs,f,d,b);const w=null===l||null===s||bd(e)?null:zz(l,f,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}(n,t,o)}function xR(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function f0(){return Ve.lFrame.currentDirectiveIndex}();try{$s(o);for(let a=i;a<r;a++){const l=n.data[a],d=e[a];Af(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Oz(l,d)}}finally{$s(-1),Af(s)}}function Oz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function VE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Vz(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;co(e)&&(t[""]=n)}}function Bz(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=uo(r.type)),s=new ec(o,co(r),W);n.blueprint[i]=s,t[i]=s,function kz(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Pz(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,om(n,t,r.hostVars,Xe),r)}function ms(n,e,t,i,r,o){const s=ti(n,e);!function UE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ae(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[$e],s,o,n.value,t,i,r)}function $z(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)TR(i,t,s[a++],s[a++],s[a++])}function TR(n,e,t,i,r){const o=Cr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Cr(o)}}function zz(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function DR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Mf(t[i]),s.contentQueries(2,e[o],o)}}}function _y(n,e){return n[jl]?n[Td][Vr]=e:n[jl]=e,n[Td]=e,e}function BE(n,e,t){Mf(0);const i=Cr(null);try{e(n,t)}finally{Cr(i)}}function AR(n){return n[Ia]||(n[Ia]=[])}function SR(n){return n.cleanup||(n.cleanup=[])}function RR(n,e){const t=n[oo],i=t?t.get(No,null):null;i&&i.handleError(e)}function jE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];TR(n.data[s],e[s],i,a,r)}}function Hz(n,e){const t=ur(e,n),i=t[ye];!function qz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[bn];null!==r&&null===t[Mo]&&(t[Mo]=wE(r,t[oo])),$E(i,t,t[Cn])}function $E(n,e,t){kf(e);try{const i=n.viewQuery;null!==i&&BE(1,i,t);const r=n.template;null!==r&&yR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DR(n,e),n.staticViewQueries&&BE(2,n.viewQuery,t);const o=n.components;null!==o&&function Gz(n,e){for(let t=0;t<e.length;t++)Hz(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Qe]&=-5,Pf()}}let kR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function Jw(n,e,t){const i=Object.create(e0);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Xg(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Jg(i))return;i.hasRun=!0;const s=df(i);try{i.cleanupFn(),i.cleanupFn=o_,i.fn(r)}finally{Sd(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=we({token:n,providedIn:"root",factory:()=>new n})}return n})();function yy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=to(r,a):2==o&&(i=to(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function sm(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Vt(o)),Bi(o)&&PR(o,i);const s=t.type;if(8&s)sm(n,e,t.child,i);else if(32&s){const a=q0(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=pM(e,t);if(Array.isArray(a))i.push(...a);else{const l=Kf(e[un]);sm(l[ye],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function PR(n,e){for(let t=si;t<n.length;t++){const i=n[t],r=i[ye].firstChild;null!==r&&sm(i[ye],i,r,e)}n[lo]!==n[bn]&&e.push(n[lo])}function vy(n,e,t,i=!0){const r=e[xa],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{NR(n,e,n.template,t)}catch(l){throw i&&RR(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function NR(n,e,t,i){const r=e[Qe];if(256!=(256&r)){e[xa].effectManager?.flush(),kf(e);try{c_(e),function Tf(n){return Ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&yR(n,e,t,2,i);const s=3==(3&r);if(s){const d=n.preOrderCheckHooks;null!==d&&$d(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Pa(e,d,0,null),Jl(e,0)}if(function Zz(n){for(let e=iM(n);null!==e;e=rM(e)){if(!e[sf])continue;const t=e[Da];for(let i=0;i<t.length;i++){vf(t[i])}}}(e),OR(e,2),null!==n.contentQueries&&DR(n,e),s){const d=n.contentCheckHooks;null!==d&&$d(e,d)}else{const d=n.contentHooks;null!==d&&Pa(e,d,1),Jl(e,1)}!function bz(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=hR(e,Ca);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)$s(~o);else{const s=o,a=t[++r],l=t[++r];Df(a,s),i.dirty=!1;const d=df(i);try{l(2,e[s])}finally{Sd(i,d)}}}}finally{null===e[Ca]&&fR(e,Ca),$s(-1)}}(n,e);const a=n.components;null!==a&&LR(e,a,0);const l=n.viewQuery;if(null!==l&&BE(2,l,i),s){const d=n.viewCheckHooks;null!==d&&$d(e,d)}else{const d=n.viewHooks;null!==d&&Pa(e,d,2),Jl(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Qe]&=-73,d_(e)}finally{Pf()}}}function OR(n,e){for(let t=iM(n);null!==t;t=rM(t))for(let i=si;i<t.length;i++)FR(t[i],e)}function Qz(n,e,t){FR(ur(e,n),t)}function FR(n,e){if(!function yf(n){return 128==(128&n[Qe])}(n))return;const t=n[ye],i=n[Qe];if(80&i&&0===e||1024&i||2===e)NR(t,n,t.template,n[Cn]);else if(n[Bl]>0){OR(n,1);const r=t.components;null!==r&&LR(n,r,1)}}function LR(n,e,t){for(let i=0;i<e.length;i++)Qz(n,e[i],t)}class am{get rootNodes(){const e=this._lView,t=e[ye];return sm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gt];if(Bi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Q_(e,i),Va(t,i))}this._attachedToViewContainer=!1}W0(this._lView[ye],this._lView)}onDestroy(e){!function u_(n,e){if(256==(256&n[Qe]))throw new O(911,!1);null===n[ao]&&(n[ao]=[]),n[ao].push(e)}(this._lView,e)}markForCheck(){rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){vy(this._lView[ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F$(n,e){Qf(n,e,e[$e],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class Yz extends am{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;vy(e[ye],e,e[Cn],!1)}checkNoChanges(){}get context(){return null}}class VR extends fy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ft(e);return new lm(t,this.ngModule)}}function UR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Jz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=pd(i);const r=this.injector.get(e,xE,i);return r!==xE||t===xE?r:this.parentInjector.get(e,t,i)}}class lm extends HM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=UR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return UR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function tf(n){return n.map(Bg).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof jr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Jz(e,o):e,a=s.get(im,null);if(null===a)throw new O(407,!1);const p={rendererFactory:a,sanitizer:s.get(Q3,null),effectManager:s.get(kR,null),afterRenderEventManager:s.get(RE,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=i?function Ez(n,e,t,i){const o=i.get(lR,!1)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return function Iz(n){bR(n)}(s),s}(g,i,this.componentDef.encapsulation,s):Z_(g,y,function Xz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==b&&(A=wE(b,s,!0));const L=FE(0,null,null,1,0,null,null,null,null,null,null),Y=gy(null,L,null,k,null,null,p,g,s,null,A);let de,Pe;kf(Y);try{const qe=this.componentDef;let Ut,Ir=null;qe.findHostDirectiveDefs?(Ut=[],Ir=new Map,qe.findHostDirectiveDefs(qe,Ut,Ir),Ut.push(qe)):Ut=[qe];const Fr=function tH(n,e){const t=n[ye],i=lt;return n[i]=e,fu(t,i,2,"#host",null)}(Y,b),kw=function nH(n,e,t,i,r,o,s){const a=r[ye];!function iH(n,e,t,i){for(const r of n)e.mergedAttrs=Jo(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(yy(e,e.mergedAttrs,!0),null!==t&&vM(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=wE(e,r[oo]));const d=o.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const p=gy(r,vR(t),null,f,r[n.index],n,o,d,null,null,l);return a.firstCreatePass&&VE(a,n,i.length-1),_y(r,p),r[n.index]=p}(Fr,b,qe,Ut,Y,p,g);Pe=Nd(L,lt),b&&function oH(n,e,t,i){if(i)yd(n,t,["ng-version",GM.full]);else{const{attrs:r,classes:o}=function jg(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Ui(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&yd(n,t,r),o&&o.length>0&&yM(n,t,o.join(" "))}}(g,qe,b,i),void 0!==t&&function sH(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Pe,this.ngContentSelectors,t),de=function rH(n,e,t,i,r,o){const s=Hn(),a=r[ye],l=ti(s,r);IR(a,r,s,t,null,i);for(let f=0;f<t.length;f++)$i(Hs(r,a,s.directiveStart+f,s),r);xR(a,r,s),l&&$i(l,r);const d=Hs(r,a,s.directiveStart+s.componentOffset,s);if(n[Cn]=r[Cn]=d,null!==o)for(const f of o)f(d,e);return PE(a,s,n),d}(kw,qe,Ut,Ir,Y,[aH]),$E(L,Y,null)}finally{Pf()}return new eH(this.componentType,de,du(Pe,Y),Y,Pe)}}class eH extends H3{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yz(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;jE(o[ye],o,r,e,t),this.previousInputValues.set(e,t),rm(ur(this._tNode.index,o))}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aH(){const n=Hn();jd(oe()[ye],n)}function xt(n){let e=function BR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(co(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=by(n.inputs),s.inputTransforms=by(n.inputTransforms),s.declaredInputs=by(n.declaredInputs),s.outputs=by(n.outputs);const a=r.hostBindings;a&&uH(n,a);const l=r.viewQuery,d=r.contentQueries;if(l&&cH(n,l),d&&dH(n,d),ri(n.inputs,r.inputs),ri(n.declaredInputs,r.declaredInputs),ri(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ri(s.inputTransforms,r.inputTransforms)),co(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===xt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function lH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Jo(r.hostAttrs,t=Jo(t,r.hostAttrs))}}(i)}function by(n){return n===Lr?{}:n===Et?[]:n}function cH(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function dH(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function uH(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function zi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function mr(n,e,t,i){const r=oe();return zi(r,function js(){return Ve.lFrame.bindingIndex++}(),e)&&(mt(),ms(function Zt(){const n=Ve.lFrame;return Nd(n.tView,n.selectedIndex)}(),r,n,e,t,i)),mr}function ZE(n,e,t,i,r){const s=r?"class":"style";jE(n,t,e.inputs[s],s,i)}function Ln(n,e,t,i){const r=oe(),o=mt(),s=lt+n,a=r[$e],l=o.firstCreatePass?function BH(n,e,t,i,r,o){const s=e.consts,l=fu(e,n,2,i,ss(s,r));return function LE(n,e,t,i){if(Ld()){const r=null===i?null:{"":-1},o=function Fz(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Xh(e,s.selectors,!1))if(i||(i=[]),co(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),VE(n,e,a.length)}else i.unshift(s),VE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&IR(n,e,t,s,r,a),r&&function Lz(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new O(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Jo(t.mergedAttrs,t.attrs)}(e,t,l,ss(s,o)),null!==l.attrs&&yy(l,l.attrs,!1),null!==l.mergedAttrs&&yy(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],d=ok(o,r,l,a,e,n);r[s]=d;const f=Dd(l);return Dr(l,!0),vM(a,d,l),32!=(32&l.flags)&&Bd()&&X_(o,r,d,l),0===function s0(){return Ve.lFrame.elementDepthCount}()&&$i(d,r),function a0(){Ve.lFrame.elementDepthCount++}(),f&&(function NE(n,e,t){Ld()&&(function Nz(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ls(t)&&function jz(n,e,t){const i=ti(e,n),r=vR(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=_y(n,gy(n,r,null,s,i,e,null,n[xa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||qd(t,e),$i(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],d=Hs(e,n,a,t);$i(d,e),null!==s&&$z(0,a-r,d,l,0,s),co(l)&&(ur(t.index,e)[Cn]=Hs(e,n,a,t))}}(n,e,t,ti(t,e)),64==(64&t.flags)&&xR(n,e,t))}(o,r,l),PE(o,l,r)),null!==i&&function OE(n,e,t=ti){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}(r,l),Ln}function gi(){let n=Hn();If()?Yl():(n=n.parent,Dr(n,!1));const e=n;(function l0(n){return Ve.skipHydrationRootTNode===n})(e)&&function c0(){Ve.skipHydrationRootTNode=null}(),function wf(){Ve.lFrame.elementDepthCount--}();const t=mt();return t.firstCreatePass&&(jd(t,n),ql(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function C_(n){return 0!=(8&n.flags)}(e)&&ZE(t,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Hd(n){return 0!=(16&n.flags)}(e)&&ZE(t,e,oe(),e.stylesWithoutHost,!1),gi}function _o(n,e,t,i){return Ln(n,e,t,i),gi(),_o}let ok=(n,e,t,i,r,o)=>(ls(!0),Z_(i,r,function E_(){return Ve.lFrame.currentNamespace}()));function fm(n){return!!n&&"function"==typeof n.then}function lk(n){return!!n&&"function"==typeof n.subscribe}function Gi(n,e,t,i){const r=oe(),o=mt(),s=Hn();return function dk(n,e,t,i,r,o,s){const a=Dd(i),d=n.firstCreatePass&&SR(n),f=e[Cn],p=AR(e);let g=!0;if(3&i.type||s){const w=ti(i,e),I=s?s(w):w,k=p.length,A=s?Y=>s(Vt(Y[i.index])):i.index;let L=null;if(!s&&a&&(L=function WH(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ia],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,g=!1;else{o=hk(i,e,f,o,!1);const Y=t.listen(I,r,o);p.push(o,Y),d&&d.push(r,A,k,k+1)}}else o=hk(i,e,f,o,!1);const y=i.outputs;let b;if(g&&null!==y&&(b=y[r])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const de=e[b[I]][b[I+1]].subscribe(o),Pe=p.length;p.push(o,de),d&&d.push(r,i.index,Pe,-(Pe+1))}}}(o,r,r[$e],s,n,e,i),Gi}function uk(n,e,t,i){try{return ho(6,e,t),!1!==t(i)}catch(r){return RR(n,r),!1}finally{ho(7,e,t)}}function hk(n,e,t,i,r){return function o(s){if(s===Function)return i;rm(n.componentOffset>-1?ur(n.index,e):e);let l=uk(e,t,i,s),d=o.__ngNextListenerFn__;for(;d;)l=uk(e,t,d,s)&&l,d=d.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function KH(n,e){let t=null;const i=function Jh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Xh(n,o,!0):wd(i,o))return r}else t=r}return t}function za(n){const e=oe()[un][ei];if(!e.projection){const i=e.projection=lc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?KH(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Gn(n,e=0,t){const i=oe(),r=mt(),o=fu(r,lt+n,16,null,t||null);null===o.projection&&(o.projection=e),Yl(),(!i[Mo]||as())&&32!=(32&o.flags)&&function H$(n,e,t){_M(e[$e],0,e,t,Z0(n,t,e),uM(t.parent||e[ei],t,e))}(r,i,o)}function Cy(n,e){return n<<17|e<<2}function Ha(n){return n>>17&32767}function JE(n){return 2|n}function _c(n){return(131068&n)>>2}function eI(n,e){return-131069&n|e<<2}function tI(n){return 1|n}function Ek(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Ha(o):_c(o),l=!1;for(;0!==a&&(!1===l||s);){const f=n[a+1];e6(n[a],e)&&(l=!0,n[a+1]=i?tI(f):JE(f)),a=i?Ha(f):_c(f)}l&&(n[t+1]=i?JE(o):tI(o))}function e6(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ua(n,e)>=0}function yo(n,e){return function Oo(n,e,t,i){const r=oe(),o=mt(),s=function fo(n){const e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function Rk(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ci()],s=function Mk(n,e){return e>=n.expandoStartIndex}(n,t);(function Ok(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function c6(n,e,t,i){const r=function Sf(n){const e=Ve.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=mm(t=nI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=nI(r,n,e,t,i),null===o){let l=function d6(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==_c(i))return n[Ha(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=nI(null,n,e,l[1],i),l=mm(l,e.attrs,i),function u6(n,e,t,i){n[Ha(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function h6(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=mm(i,n[o].hostAttrs,t);return mm(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function XH(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ha(s),l=_c(s);n[i]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||Ua(t,f)>0)&&(d=!0)):f=t,r)if(0!==l){const g=Ha(n[a+1]);n[i+1]=Cy(g,a),0!==g&&(n[g+1]=eI(n[g+1],i)),n[a+1]=function QH(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Cy(a,0),0!==a&&(n[a+1]=eI(n[a+1],i)),a=i;else n[i+1]=Cy(l,0),0===a?a=i:n[l+1]=eI(n[l+1],i),l=i;d&&(n[i+1]=JE(n[i+1])),Ek(n,f,i,!0),Ek(n,f,i,!1),function JH(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ua(o,e)>=0&&(t[i+1]=tI(t[i+1]))}(e,f,n,i,o),s=Cy(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==Xe&&zi(r,s,e)&&function Pk(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,d=l[a+1],f=function YH(n){return 1==(1&n)}(d)?Nk(l,e,t,r,_c(d),s):void 0;Dy(f)||(Dy(o)||function ZH(n){return 2==(2&n)}(d)&&(o=Nk(l,null,t,r,a,s)),function G$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ja.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ja.Important),n.setStyle(t,i,r,o))}}(i,s,function Ra(n,e){return Vt(e[n])}(Ci(),t),r,o))}(o,o.data[Ci()],r,r[$e],n,r[s+1]=function g6(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Bt(function Br(n){return n instanceof fc?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),i,s)}(n,e,null,!0),yo}function nI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=mm(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function mm(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Nk(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],d=Array.isArray(l),f=d?l[1]:l,p=null===f;let g=t[r+1];g===Xe&&(g=p?Et:void 0);let y=p?jf(g,i):f===i?g:void 0;if(d&&!Dy(y)&&(y=jf(l,i)),Dy(y)&&(a=y,s))return a;const b=n[r+1];r=s?Ha(b):_c(b)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=jf(l,i))}return a}function Dy(n){return void 0!==n}function iI(n,e=""){const t=oe(),i=mt(),r=n+lt,o=i.firstCreatePass?fu(i,r,1,e,null):i.data[r],s=Fk(i,t,o,e,n);t[r]=s,Bd()&&X_(i,t,s,o),Dr(o,!1)}let Fk=(n,e,t,i,r)=>(ls(!0),function K_(n,e){return n.createText(e)}(e[$e],i));const Tu="en-US";let oP=Tu;function aI(n,e,t,i,r){if(n=S(n),Array.isArray(n))for(let o=0;o<n.length;o++)aI(n[o],e,t,i,r);else{const o=mt(),s=oe(),a=Hn();let l=mc(n)?n:S(n.provide);const d=UM(n),f=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(mc(n)||!n.multi){const y=new ec(d,r,W),b=cI(l,e,r?f:f+g,p);-1===b?(oc(qd(a,s),o,l),lI(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{const y=cI(l,e,f+g,p),b=cI(l,e,f,f+g),I=b>=0&&t[b];if(r&&!I||!r&&!(y>=0&&t[y])){oc(qd(a,s),o,l);const k=function Lq(n,e,t,i,r){const o=new ec(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,MP(o,r,i&&!t),o}(r?Fq:Oq,t.length,r,i,d);!r&&I&&(t[b].providerFactory=k),lI(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else lI(o,n,y>-1?y:b,MP(t[r?b:y],d,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function lI(n,e,t,i){const r=mc(e),o=function D3(n){return!!n.useClass}(e);if(r||o){const l=(o?S(e.useClass):e).prototype.ngOnDestroy;if(l){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const f=d.indexOf(t);-1===f?d.push(t,[i,l]):d[f+1].push(i,l)}else d.push(t,l)}}}function MP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Oq(n,e,t,i){return dI(this.multi,[])}function Fq(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Hs(t,t[ye],this.providerFactory.index,i);o=a.slice(0,s),dI(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],dI(r,o);return o}function dI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Nq(n,e,t){const i=mt();if(i.firstCreatePass){const r=co(n);aI(t,i.data,i.blueprint,r,!0),aI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class vc{}class RP{}class uI extends vc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VR(this);const r=cr(e);this._bootstrapComponents=Ks(r.bootstrap),this._r3Injector=YM(e,t,[{provide:vc,useValue:this},{provide:fy,useValue:this.componentFactoryResolver},...i],Bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class hI extends RP{constructor(e){super(),this.moduleType=e}create(e){return new uI(this.moduleType,e,[])}}class kP extends vc{constructor(e){super(),this.componentFactoryResolver=new VR(this),this.instance=null;const t=new su([...e.providers,{provide:vc,useValue:this},{provide:fy,useValue:this.componentFactoryResolver}],e.parent||sy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function fI(n,e,t=null){return new kP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Bq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=OM(0,t.type),r=i.length>0?fI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=we({token:n,providedIn:"environment",factory:()=>new n(J(jr))})}return n})();function PP(n){n.getStandaloneInjector=e=>e.get(Bq).getOrCreateStandaloneInjector(n)}function h5(){return this._results[Symbol.iterator]()}class Em{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new hn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Em.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=h5)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function hr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ac(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function m5(n,e,t,i=!0){const r=e[ye];if(function V$(n,e,t,i){const r=si+i,o=t.length;i>0&&(t[r-1][Vr]=e),i<o-si?(e[Vr]=t[r],Yd(t,si+i,e)):(t.push(e),e[Vr]=null),e[Gt]=t;const s=e[$l];null!==s&&t!==s&&function U$(n,e){const t=n[Da];e[un]!==e[Gt][Gt][un]&&(n[sf]=!0),null===t?n[Da]=[e]:t.push(e)}(s,e);const a=e[so];null!==a&&a.insertView(n),e[Qe]|=128}(r,e,n,t),i){const o=Y0(t,n),s=e[$e],a=Y_(s,n[lo]);null!==a&&function O$(n,e,t,i,r,o){i[bn]=r,i[ei]=e,Qf(n,i,t,1,r,o)}(r,n[ei],s,e,a,o)}}let Ys=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=_5}return n})();const p5=Ys,g5=class extends p5{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function f5(n,e,t,i){const r=e.tView,a=gy(n,r,t,4096&n[Qe]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[$l]=n[e.index];const d=n[so];return null!==d&&(a[so]=d.createEmbeddedView(r)),$E(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new am(r)}};function _5(){return ky(Hn(),oe())}function ky(n,e){return 4&n.type?new g5(e,n,du(n,e)):null}let Lo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=I5}return n})();function I5(){return YP(Hn(),oe())}const x5=Lo,ZP=class extends x5{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gd(this._hostTNode,this._hostLView);if(Ff(e)){const t=nc(e,this._hostLView),i=tc(e);return new ci(t[ye].data[i+8],t)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-si}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function di(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?e:new lm(ft(e)),d=i||this.parentInjector;if(!o&&null==l.ngModule){const I=(s?d:this.parentInjector).get(jr,null);I&&(o=I)}ft(l.componentType??{});const y=l.create(d,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function l_(n){return Bi(n[Gt])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Gt],f=new ZP(d,d[ei],d[Gt]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return m5(a,r,s,!i),e.attachToViewContainerRef(),Yd(pI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Q_(this._lContainer,t);i&&(Va(pI(this._lContainer),t),W0(i[ye],i))}detach(e){const t=this._adjustIndex(e,-1),i=Q_(this._lContainer,t);return i&&null!=Va(pI(this._lContainer),t)?new am(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function QP(n){return n[8]}function pI(n){return n[8]||(n[8]=[])}function YP(n,e){let t;const i=e[n.index];return Bi(i)?t=i:(t=function CR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}(i,e,null,n),e[n.index]=t,_y(e,t)),XP(t,e,n,i),new ZP(t,n,e)}let XP=function JP(n,e,t,i){if(n[lo])return;let r;r=8&t.type?Vt(i):function T5(n,e){const t=n[$e],i=t.createComment(""),r=ti(e,n);return hc(t,Y_(t,r),i,function z$(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[lo]=r};class gI{constructor(e){this.queryList=e,this.matches=null}clone(){return new gI(this.queryList)}setDirty(){this.queryList.setDirty()}}class _I{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new _I(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rN(e,t).matches&&this.queries[t].setDirty()}}class eN{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class yI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new yI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new vI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,A5(t,o)),this.matchTNodeWithReadOption(e,t,Kd(t,e,o,!1,!1))}else i===Ys?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===qn||r===Lo||r===Ys&&4&t.type)this.addMatch(t.index,-2);else{const o=Kd(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function A5(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function M5(n,e,t,i){return-1===t?function S5(n,e){return 11&n.type?du(n,e):4&n.type?ky(n,e):null}(e,n):-2===t?function R5(n,e,t){return t===qn?du(e,n):t===Ys?ky(e,n):t===Lo?YP(e,n):void 0}(n,e,i):Hs(n,n[ye],t,e)}function tN(n,e,t,i){const r=e[so].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const d=s[l];a.push(d<0?null:M5(e,o[d],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function bI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=tN(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const d=o[a+1],f=e[-l];for(let p=si;p<f.length;p++){const g=f[p];g[$l]===g[Gt]&&bI(g[ye],g,d,i)}if(null!==f[Da]){const p=f[Da];for(let g=0;g<p.length;g++){const y=p[g];bI(y[ye],y,d,i)}}}}}return i}function Hr(n){const e=oe(),t=mt(),i=Ud();Mf(i+1);const r=rN(t,i);if(n.dirty&&function o0(n){return 4==(4&n[Qe])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?bI(t,e,i,[]):tN(t,e,r,i);n.reset(o,K3),n.notifyOnChanges()}return!0}return!1}function Ny(n,e,t){const i=mt();i.firstCreatePass&&(iN(i,new eN(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),nN(i,oe(),e)}function ys(n,e,t,i){const r=mt();if(r.firstCreatePass){const o=Hn();iN(r,new eN(e,t,i),o.index),function P5(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}nN(r,oe(),t)}function qr(){return function k5(n,e){return n[so].queries[e].queryList}(oe(),Ud())}function nN(n,e,t){const i=new Em(4==(4&t));(function Cz(n,e,t,i){const r=AR(e);r.push(t),n.firstCreatePass&&SR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[so]&&(e[so]=new _I),e[so].queries.push(new gI(i))}function iN(n,e,t){null===n.queries&&(n.queries=new yI),n.queries.track(new vI(e,t))}function rN(n,e){return n.queries.getByIndex(e)}const CI=new ie("Application Initializer");let DI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=fe(CI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(fm(o))t.push(o);else if(lk(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const vs=new ie("LocaleId",{providedIn:"root",factory:()=>fe(vs,ht.Optional|ht.SkipSelf)||function eG(){return typeof $localize<"u"&&$localize.locale||Tu}()});let Ly=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let EN=(()=>{class n{compileModuleSync(t){return new hI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Ks(cr(t).declarations).reduce((s,a)=>{const l=ft(a);return l&&s.push(new lm(l)),s},[]);return new iG(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CN=new ie(""),Uy=new ie("");let kI,MI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kI||(function TG(n){kI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(J(pt),J(RI),J(Uy))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),RI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return kI?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),qa=null;const DN=new ie("AllowMultipleToken"),PI=new ie("PlatformDestroyListeners"),NI=new ie("appBootstrapListener");class SN{constructor(e,t){this.name=e,this.token=t}}function RN(n,e,t=[]){const i=`Platform: ${e}`,r=new ie(i);return(o=[])=>{let s=OI();if(!s||s.injector.get(DN,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function AG(n){if(qa&&!qa.get(DN,!1))throw new O(400,!1);(function AN(){!function Ma(n){n_=n}(()=>{throw new O(600,!1)})})(),qa=n;const e=n.get(PN);(function MN(n){n.get(BM,null)?.forEach(t=>t())})(n)}(function kN(n=[],e){return Sr.create({name:e,providers:[{provide:cE,useValue:"platform"},{provide:PI,useValue:new Set([()=>qa=null])},...n]})}(a,i))}return function MG(n){const e=OI();if(!e)throw new O(401,!1);return e}()}}function OI(){return qa?.get(PN)??null}let PN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function RG(n="zone.js",e){return"noop"===n?new lz:"zone.js"===n?new pt(e):n}(i?.ngZone,function NN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Uq(n,e,t){return new uI(n,e,t)}(t.moduleType,this.injector,function UN(n){return[{provide:pt,useFactory:n},{provide:Jf,multi:!0,useFactory:()=>{const e=fe(PG,{optional:!0});return()=>e.initialize()}},{provide:VN,useFactory:kG},{provide:nR,useFactory:iR}]}(()=>r)),s=o.injector.get(No,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{By(this._modules,o),a.unsubscribe()})}),function ON(n,e,t){try{const i=t();return fm(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(DI);return a.runInitializers(),a.donePromise.then(()=>(function sP(n){Li(n,"Expected localeId to be defined"),"string"==typeof n&&(oP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(vs,Tu)||Tu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=FN({},i);return function CG(n,e,t){const i=new hI(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(bc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new O(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(PI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sr))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function FN(n,e){return Array.isArray(e)?e.reduce(FN,n):{...n,...e}}let bc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(VN),this.zoneIsStable=fe(nR),this.componentTypes=[],this.components=[],this.isStable=fe(Ly).hasPendingTasks.pipe(Ct(t=>t?G(!1):this.zoneIsStable),dn(),je()),this._injector=fe(jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof HM;if(!this._injector.get(DI).done)throw!r&&function es(n){const e=ft(n)||zn(n)||Ti(n);return null!==e&&e.standalone}(t),new O(405,!1);let s;s=r?t:this._injector.get(fy).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function DG(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vc),d=s.create(Sr.NULL,[],i||s.selector,a),f=d.location.nativeElement,p=d.injector.get(CN,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),By(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;By(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(NI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>By(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function By(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const VN=new ie("",{providedIn:"root",factory:()=>fe(No).handleError.bind(void 0)});function kG(){const n=fe(pt),e=fe(No);return t=>n.runOutsideAngular(()=>e.handleError(t))}let PG=(()=>{class n{constructor(){this.zone=fe(pt),this.applicationRef=fe(bc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Tm=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=OG}return n})();function OG(n){return function FG(n,e,t){if(Ls(n)&&!t){const i=ur(n.index,e);return new am(i,i)}return 47&n.type?new am(e[un],e):null}(Hn(),oe(),16==(16&n))}const ZG=RN(null,"core",[]);let QG=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(J(bc))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})(),jI=null;function Ga(){return jI}class d8{}const Sn=new ie("DocumentToken");let $I=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return fe(h8)},providedIn:"platform"})}return n})();const u8=new ie("Location Initialized");let h8=(()=>{class n extends $I{constructor(){super(),this._doc=fe(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ga().getBaseHref(this._doc)}onPopState(t){const i=Ga().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ga().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function zI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function o1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xs(n){return n&&"?"!==n[0]?"?"+n:n}let Ec=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return fe(a1)},providedIn:"root"})}return n})();const s1=new ie("appBaseHref");let a1=(()=>{class n extends Ec{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??fe(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Xs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Xs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Xs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(J($I),J(s1,8))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f8=(()=>{class n extends Ec{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=zI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Xs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Xs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(J($I),J(s1,8))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),HI=(()=>{class n{constructor(t){this._subject=new hn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function g8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(o1(l1(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Xs(i))}normalize(t){return n.stripTrailingSlash(function p8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,l1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Xs;static#t=this.joinWithSlash=zI;static#n=this.stripTrailingSlash=o1;static#i=this.\u0275fac=function(i){return new(i||n)(J(Ec))};static#r=this.\u0275prov=we({token:n,factory:function(){return function m8(){return new HI(J(Ec))}()},providedIn:"root"})}return n})();function l1(n){return n.replace(/\/index.html$/,"")}function _1(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let Sm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})();const C1="browser";function tv(n){return"server"===n}let O9=(()=>{class n{static#e=this.\u0275prov=we({token:n,providedIn:"root",factory:()=>new F9(J(Sn),window)})}return n})();class F9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function L9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class D1{}class sW extends d8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ax extends sW{static makeCurrent(){!function c8(n){jI||(jI=n)}(new ax)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aW(){return Rm=Rm||document.querySelector("base"),Rm?Rm.getAttribute("href"):null}();return null==t?null:function lW(n){rv=rv||document.createElement("a"),rv.setAttribute("href",n);const e=rv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _1(document.cookie,e)}}let rv,Rm=null,dW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const lx=new ie("EventManagerPlugins");let k1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(J(lx),J(pt))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();class P1{constructor(e){this._doc=e}}const cx="ng-app-id";let N1=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tv(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${cx}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(cx),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(cx,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn),J(ay),J(fE,8),J(Po))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const dx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ux=/%COMP%/g,mW=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function F1(n,e){return e.map(t=>t.replace(ux,n))}let hx=(()=>{class n{constructor(t,i,r,o,s,a,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=tv(a),this.defaultRenderer=new fx(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===sr.ShadowDom&&(i={...i,encapsulation:sr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof V1?r.applyToHost(t):r instanceof mx&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case sr.Emulated:o=new V1(l,d,i,this.appId,f,s,a,p);break;case sr.ShadowDom:return new yW(l,d,t,i,s,a,this.nonce,p);default:o=new mx(l,d,i,f,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(J(k1),J(N1),J(ay),J(mW),J(Sn),J(Po),J(pt),J(fE))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();class fx{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(dx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(L1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(L1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=dx[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=dx[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ja.DashCase|ja.Important)?e.style.setProperty(t,i,r&ja.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ja.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ga().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function L1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yW extends fx{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=F1(r.id,r.styles);for(const f of d){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mx extends fx{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?F1(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V1 extends mx{constructor(e,t,i,r,o,s,a,l){const d=r+"-"+i.id;super(e,t,i,o,s,a,l,d),this.contentAttr=function pW(n){return"_ngcontent-%COMP%".replace(ux,n)}(d),this.hostAttr=function gW(n){return"_nghost-%COMP%".replace(ux,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let vW=(()=>{class n extends P1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const U1=["alt","control","meta","shift"],bW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let EW=(()=>{class n extends P1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ga().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),U1.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=bW[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),U1.forEach(s=>{s!==r&&(0,wW[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const j1=[{provide:Po,useValue:C1},{provide:BM,useValue:function IW(){ax.makeCurrent()},multi:!0},{provide:Sn,useFactory:function TW(){return function Y$(n){eE=n}(document),document},deps:[]}],CW=RN(ZG,"browser",j1),DW=new ie(""),$1=[{provide:Uy,useClass:class cW{addToWindow(e){Nt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new O(5103,!1);return o},Nt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Nt.getAllAngularRootElements=()=>e.getAllRootElements(),Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(i=>{const r=Nt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ga().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:CN,useClass:MI,deps:[pt,RI,Uy]},{provide:MI,useClass:MI,deps:[pt,RI,Uy]}],z1=[{provide:cE,useValue:"root"},{provide:No,useFactory:function xW(){return new No},deps:[]},{provide:lx,useClass:vW,multi:!0,deps:[Sn,pt,Po]},{provide:lx,useClass:EW,multi:!0,deps:[Sn]},hx,N1,k1,{provide:im,useExisting:hx},{provide:D1,useClass:dW,deps:[]},[]];let px=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ay,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(J(DW,12))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({providers:[...z1,...$1],imports:[Sm,QG]})}return n})(),H1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn))};static#t=this.\u0275prov=we({token:n,factory:function(i){let r=null;return r=i?new i:function SW(){return new H1(J(Sn))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class Z1{}class NW{}const ta="*";function Q1(n,e=null){return{type:2,steps:n,options:e}}function ov(n){return{type:6,styles:n,offset:null}}class km{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Y1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function X1(n){return new O(3e3,!1)}function Ka(n){switch(n.length){case 0:return new km;case 1:return n[0];default:return new Y1(n)}}function J1(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const d=l.get("offset"),f=d==s,p=f&&a||new Map;l.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(y);break;case ta:w=i.get(y);break;default:w=n.normalizeStyleValue(y,b,w,r)}p.set(b,w)}),f||o.push(p),a=p,s=d}),r.length)throw function a7(n){return new O(3502,!1)}();return o}function vx(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&bx(t,"start",n)));break;case"done":n.onDone(()=>i(t&&bx(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&bx(t,"destroy",n)))}}function bx(n,e,t){const o=wx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function wx(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Wr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function eO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const v7=(()=>typeof document>"u"?null:document.documentElement)();function Ex(n){const e=n.parentNode||n.host||null;return e===v7?null:e}let Ic=null,tO=!1;function nO(n,e){for(;e;){if(e===n)return!0;e=Ex(e)}return!1}function iO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let rO=(()=>{class n{validateStyleProperty(t){return function w7(n){Ic||(Ic=function E7(){return typeof document<"u"?document.body:null}()||{},tO=!!Ic.style&&"WebkitAppearance"in Ic.style);let e=!0;return Ic.style&&!function b7(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ic.style,!e&&tO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ic.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return nO(t,i)}getParentElement(t){return Ex(t)}query(t,i,r){return iO(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new km(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})(),Ix=(()=>{class n{static#e=this.NOOP=new rO}return n})();const I7=1e3,xx="ng-enter",sv="ng-leave",av="ng-trigger",lv=".ng-trigger",sO="ng-animating",Tx=".ng-animating";function na(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cx(parseFloat(e[1]),e[2])}function Cx(n,e){return"s"===e?n*I7:n}function cv(n,e,t){return n.hasOwnProperty("duration")?n:function T7(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(X1()),{duration:0,delay:0,easing:""};r=Cx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Cx(parseFloat(l),a[4]));const d=a[5];d&&(s=d)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function UW(){return new O(3100,!1)}()),a=!0),o<0&&(e.push(function BW(){return new O(3101,!1)}()),a=!0),a&&e.splice(l,0,X1())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Pm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function aO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Za(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function bs(n,e,t){e.forEach((i,r)=>{const o=Ax(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function xc(n,e){e.forEach((t,i)=>{const r=Ax(i);n.style[r]=""})}function Nm(n){return Array.isArray(n)?1==n.length?n[0]:Q1(n):n}const Dx=new RegExp("{{\\s*(.+?)\\s*}}","g");function cO(n){let e=[];if("string"==typeof n){let t;for(;t=Dx.exec(n);)e.push(t[1]);Dx.lastIndex=0}return e}function Om(n,e,t){const i=n.toString(),r=i.replace(Dx,(o,s)=>{let a=e[s];return null==a&&(t.push(function $W(n){return new O(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function dv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const A7=/-+([a-z0-9])/g;function Ax(n){return n.replace(A7,(...e)=>e[1].toUpperCase())}function Kr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function zW(n){return new O(3004,!1)}()}}function dO(n,e){return window.getComputedStyle(n)[e]}const uv="*";function R7(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function k7(n,e,t){if(":"==n[0]){const l=function P7(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function i7(n){return new O(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function n7(n){return new O(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(uO(r,s));"<"==o[0]&&!(r==uv&&s==uv)&&e.push(uO(s,r))}(i,t,e)):t.push(n),t}const hv=new Set(["true","1"]),fv=new Set(["false","0"]);function uO(n,e){const t=hv.has(n)||fv.has(n),i=hv.has(e)||fv.has(e);return(r,o)=>{let s=n==uv||n==r,a=e==uv||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?hv.has(n):fv.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?hv.has(e):fv.has(e)),s&&a}}const N7=new RegExp("s*:selfs*,?","g");function Sx(n,e,t,i){return new O7(n).build(e,t,i)}class O7{constructor(e){this._driver=e}build(e,t,i){const r=new V7(t);return this._resetContextStyleTimingState(r),Kr(this,Nm(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function qW(){return new O(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,t))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function GW(){return new O(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{cO(l).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&(dv(o.values()),t.errors.push(function WW(n,e){return new O(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Kr(this,Nm(e.animation),t);return{type:1,matchers:R7(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Tc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Kr(this,i,t)),options:Tc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Kr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Tc(e.options)}}visitAnimate(e,t){const i=function B7(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Mx(cv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Mx(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=cv(t,e);return Mx(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ov({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const d={};i.easing&&(d.easing=i.easing),s=ov(d)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===ta?i.push(a):t.errors.push(new O(3002,!1)):i.push(aO(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const d=t.collectedStyles.get(t.currentQuerySelector),f=d.get(l);let p=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(t.errors.push(function ZW(n,e,t,i,r){return new O(3010,!1)}()),p=!1),o=f.startTime),p&&d.set(l,{startTime:o,endTime:r}),t.options&&function D7(n,e,t){const i=e.params||{},r=cO(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function jW(n){return new O(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function QW(){return new O(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,d=0;const f=e.steps.map(k=>{const A=this._makeStyleAst(k,t);let L=null!=A.offset?A.offset:function U7(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),Y=0;return null!=L&&(o++,Y=A.offset=L),l=l||Y<0||Y>1,a=a||Y<d,d=Y,s.push(Y),A});l&&t.errors.push(function YW(){return new O(3012,!1)}()),a&&t.errors.push(function XW(){return new O(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function JW(){return new O(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,b=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return f.forEach((k,A)=>{const L=g>0?A==y?1:g*A:s[A],Y=L*I;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(k,t),k.offset=L,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:Kr(this,Nm(e.animation),t),options:Tc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Tc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Tc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function F7(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(N7,"")),n=n.replace(/@\*/g,lv).replace(/@\w+/g,t=>lv+"-"+t.slice(1)).replace(/:animating/g,Tx),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Wr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Kr(this,Nm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Tc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e7(){return new O(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:cv(e.timings,t.errors,!0);return{type:12,animation:Kr(this,Nm(e.animation),t),timings:i,options:null}}}class V7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tc(n){return n?(n=Pm(n)).params&&(n.params=function L7(n){return n?Pm(n):null}(n.params)):n={},n}function Mx(n,e,t){return{duration:n,delay:e,easing:t}}function Rx(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class mv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const z7=new RegExp(":enter","g"),q7=new RegExp(":leave","g");function kx(n,e,t,i,r,o=new Map,s=new Map,a,l,d=[]){return(new G7).buildKeyframes(n,e,t,i,r,o,s,a,l,d)}class G7{buildKeyframes(e,t,i,r,o,s,a,l,d,f=[]){d=d||new mv;const p=new Px(e,t,d,r,o,f,[]);p.options=l;const g=l.delay?na(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),Kr(this,i,p);const y=p.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let w=y.length-1;w>=0;w--){const I=y[w];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[Rx(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:na(Om(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?na(i.duration):null,a=null!=i.delay?na(i.delay):null;return 0!==s&&e.forEach(l=>{const d=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Kr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pv);const s=na(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Kr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?na(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Kr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return cv(t.params?Om(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?na(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pv);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((d,f)=>{t.currentQueryIndex=f;const p=t.createSubContext(e.options,d);o&&p.delayNextStep(o),d===t.element&&(l=p.currentTimeline),Kr(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const f=t.currentTimeline;l&&f.delayNextStep(l);const p=f.currentTime;Kr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const pv={};class Px{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new gv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=na(i.duration)),null!=i.delay&&(r.delay=na(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Om(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Px(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=pv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new W7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(z7,"."+this._enterClassName)).replace(q7,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&0==a.length&&s.push(function t7(n){return new O(3014,!1)}()),a}}class gv{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ta),this._currentKeyframe.set(t,ta);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function K7(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ta)}else Za(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const d=Om(l,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ta),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const d=Za(a,new Map,this._backFill);d.forEach((f,p)=>{"!"===f?e.add(p):f===ta&&t.add(p)}),i||d.set("offset",l/this.duration),r.push(d)});const o=e.size?dv(e.values()):[],s=t.size?dv(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Rx(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class W7 extends gv{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=Za(e[0]);l.set("offset",0),o.push(l);const d=Za(e[0]);d.set("offset",mO(a)),o.push(d);const f=e.length-1;for(let p=1;p<=f;p++){let g=Za(e[p]);const y=g.get("offset");g.set("offset",mO((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return Rx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function mO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Nx{}const Z7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q7 extends Nx{normalizePropertyName(e,t){return Ax(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Z7.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function HW(n,e){return new O(3005,!1)}())}return s+o}}function pO(n,e,t,i,r,o,s,a,l,d,f,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:f,totalTime:p,errors:g}}const Ox={};class gO{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Y7(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,d,f){const p=[],g=this.ast.options&&this.ast.options.params||Ox,b=this.buildStyles(i,a&&a.params||Ox,p),w=l&&l.params||Ox,I=this.buildStyles(r,w,p),k=new Set,A=new Map,L=new Map,Y="void"===r,de={params:X7(w,g),delay:this.ast.options?.delay},Pe=f?[]:kx(e,t,this.ast.animation,o,s,b,I,de,d,p);let qe=0;if(Pe.forEach(Ir=>{qe=Math.max(Ir.duration+Ir.delay,qe)}),p.length)return pO(t,this._triggerName,i,r,Y,b,I,[],[],A,L,qe,p);Pe.forEach(Ir=>{const Fr=Ir.element,kw=Wr(A,Fr,new Set);Ir.preStyleProps.forEach(ld=>kw.add(ld));const xg=Wr(L,Fr,new Set);Ir.postStyleProps.forEach(ld=>xg.add(ld)),Fr!==t&&k.add(Fr)});const Ut=dv(k.values());return pO(t,this._triggerName,i,r,Y,b,I,Pe,Ut,A,L,qe)}}function X7(n,e){const t=Pm(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class J7{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Pm(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Om(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class tK{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new J7(r.style,r.options&&r.options.params||{},i))}),_O(this.states,"true","1"),_O(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new gO(e,r,this.states))}),this.fallbackTransition=function nK(n,e,t){return new gO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function _O(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const iK=new mv;class rK{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Sx(this._driver,t,i,[]);if(i.length)throw function l7(n){return new O(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=J1(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=kx(this._driver,t,o,xx,sv,new Map,new Map,i,iK,r),s.forEach(f=>{const p=Wr(a,f.element,new Map);f.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function c7(){return new O(3300,!1)}()),s=[]),r.length)throw function d7(n){return new O(3504,!1)}();a.forEach((f,p)=>{f.forEach((g,y)=>{f.set(y,this._driver.computeStyle(p,y,ta))})});const d=Ka(s.map(f=>{const p=a.get(f.element);return this._buildPlayer(f,new Map,p)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function u7(n){return new O(3301,!1)}();return t}listen(e,t,i,r){const o=wx(t,"","","");return vx(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const yO="ng-animate-queued",Fx="ng-animate-disabled",cK=[],vO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed";class Lx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function mK(n){return n??null}(i?e.value:e),i){const o=Pm(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Fm="void",Vx=new Lx(Fm);class uK{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function h7(n,e){return new O(3302,!1)}();if(null==i||0==i.length)throw function f7(n){return new O(3303,!1)}();if(!function pK(n){return"start"==n||"done"==n}(i))throw function m7(n,e){return new O(3400,!1)}();const o=Wr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Wr(this._engine.statesByElement,e,new Map);return a.has(t)||(wo(e,av),wo(e,av+"-"+t),a.set(t,Vx)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function p7(n){return new O(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new Ux(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(wo(e,av),wo(e,av+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const d=new Lx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(t,d),l||(l=Vx),d.value!==Fm&&l.value===d.value){if(!function yK(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,d.params)){const w=[],I=o.matchStyles(l.value,l.params,w),k=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{xc(e,I),bs(e,k)})}return}const g=Wr(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let y=o.matchTransition(l.value,d.value,e,d.params),b=!1;if(!y){if(!r)return;y=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:d,player:s,isFallbackTransition:b}),b||(wo(e,yO),s.onStart(()=>{Mu(e,yO)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let k=I.indexOf(s);k>=0&&I.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,lv,!0);i.forEach(r=>{if(r[Bo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){const f=this.trigger(e,d,Fm,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Ka(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,d=i.get(s)||Vx,f=new Lx(Fm),p=new Ux(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:d,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Bo];(!o||o===vO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=wx(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,vx(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class hK{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new uK(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const d=i.indexOf(l);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(_v(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!_v(t))return;const o=t[Bo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wo(e,Fx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Mu(e,Fx))}removeNode(e,t,i){if(_v(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Bo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return _v(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,lv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tx,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ka(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bo];if(t&&t.setForRemoval){if(e[Bo]=vO,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Fx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ka(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function g7(n){return new O(3402,!1)}()}_flushAnimations(e,t){const i=new mv,r=[],o=new Map,s=[],a=new Map,l=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(Re=>{f.add(Re);const Le=this.driver.query(Re,".ng-animate-queued",!0);for(let ze=0;ze<Le.length;ze++)f.add(Le[ze])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=EO(g,this.collectedEnterElements),b=new Map;let w=0;y.forEach((Re,Le)=>{const ze=xx+w++;b.set(Le,ze),Re.forEach(St=>wo(St,ze))});const I=[],k=new Set,A=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Le=this.collectedLeaveElements[Re],ze=Le[Bo];ze&&ze.setForRemoval&&(I.push(Le),k.add(Le),ze.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(St=>k.add(St)):A.add(Le))}const L=new Map,Y=EO(g,Array.from(k));Y.forEach((Re,Le)=>{const ze=sv+w++;L.set(Le,ze),Re.forEach(St=>wo(St,ze))}),e.push(()=>{y.forEach((Re,Le)=>{const ze=b.get(Le);Re.forEach(St=>Mu(St,ze))}),Y.forEach((Re,Le)=>{const ze=L.get(Le);Re.forEach(St=>Mu(St,ze))}),I.forEach(Re=>{this.processLeaveNode(Re)})});const de=[],Pe=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(t).forEach(ze=>{const St=ze.player,Ei=ze.element;if(de.push(St),this.collectedEnterElements.length){const er=Ei[Bo];if(er&&er.setForMove){if(er.previousTriggersValues&&er.previousTriggersValues.has(ze.triggerName)){const cd=er.previousTriggersValues.get(ze.triggerName),xo=this.statesByElement.get(ze.element);if(xo&&xo.has(ze.triggerName)){const Pw=xo.get(ze.triggerName);Pw.value=cd,xo.set(ze.triggerName,Pw)}}return void St.destroy()}}const Os=!p||!this.driver.containsElement(p,Ei),eo=L.get(Ei),Dl=b.get(Ei),Mn=this._buildInstruction(ze,i,Dl,eo,Os);if(Mn.errors&&Mn.errors.length)return void Pe.push(Mn);if(Os)return St.onStart(()=>xc(Ei,Mn.fromStyles)),St.onDestroy(()=>bs(Ei,Mn.toStyles)),void r.push(St);if(ze.isFallbackTransition)return St.onStart(()=>xc(Ei,Mn.fromStyles)),St.onDestroy(()=>bs(Ei,Mn.toStyles)),void r.push(St);const h$=[];Mn.timelines.forEach(er=>{er.stretchStartingKeyframe=!0,this.disabledNodes.has(er.element)||h$.push(er)}),Mn.timelines=h$,i.append(Ei,Mn.timelines),s.push({instruction:Mn,player:St,element:Ei}),Mn.queriedElements.forEach(er=>Wr(a,er,[]).push(St)),Mn.preStyleProps.forEach((er,cd)=>{if(er.size){let xo=l.get(cd);xo||l.set(cd,xo=new Set),er.forEach((Pw,oS)=>xo.add(oS))}}),Mn.postStyleProps.forEach((er,cd)=>{let xo=d.get(cd);xo||d.set(cd,xo=new Set),er.forEach((Pw,oS)=>xo.add(oS))})});if(Pe.length){const Re=[];Pe.forEach(Le=>{Re.push(function _7(n,e){return new O(3505,!1)}())}),de.forEach(Le=>Le.destroy()),this.reportError(Re)}const qe=new Map,Ut=new Map;s.forEach(Re=>{const Le=Re.element;i.has(Le)&&(Ut.set(Le,Le),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,qe))}),r.forEach(Re=>{const Le=Re.element;this._getPreviousPlayers(Le,!1,Re.namespaceId,Re.triggerName,null).forEach(St=>{Wr(qe,Le,[]).push(St),St.destroy()})});const Ir=I.filter(Re=>xO(Re,l,d)),Fr=new Map;wO(Fr,this.driver,A,d,ta).forEach(Re=>{xO(Re,l,d)&&Ir.push(Re)});const xg=new Map;y.forEach((Re,Le)=>{wO(xg,this.driver,new Set(Re),l,"!")}),Ir.forEach(Re=>{const Le=Fr.get(Re),ze=xg.get(Re);Fr.set(Re,new Map([...Le?.entries()??[],...ze?.entries()??[]]))});const ld=[],d$=[],u$={};s.forEach(Re=>{const{element:Le,player:ze,instruction:St}=Re;if(i.has(Le)){if(f.has(Le))return ze.onDestroy(()=>bs(Le,St.toStyles)),ze.disabled=!0,ze.overrideTotalTime(St.totalTime),void r.push(ze);let Ei=u$;if(Ut.size>1){let eo=Le;const Dl=[];for(;eo=eo.parentNode;){const Mn=Ut.get(eo);if(Mn){Ei=Mn;break}Dl.push(eo)}Dl.forEach(Mn=>Ut.set(Mn,Ei))}const Os=this._buildAnimation(ze.namespaceId,St,qe,o,xg,Fr);if(ze.setRealPlayer(Os),Ei===u$)ld.push(ze);else{const eo=this.playersByElement.get(Ei);eo&&eo.length&&(ze.parentPlayer=Ka(eo)),r.push(ze)}}else xc(Le,St.fromStyles),ze.onDestroy(()=>bs(Le,St.toStyles)),d$.push(ze),f.has(Le)&&r.push(ze)}),d$.forEach(Re=>{const Le=o.get(Re.element);if(Le&&Le.length){const ze=Ka(Le);Re.setRealPlayer(ze)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<I.length;Re++){const Le=I[Re],ze=Le[Bo];if(Mu(Le,sv),ze&&ze.hasAnimation)continue;let St=[];if(a.size){let Os=a.get(Le);Os&&Os.length&&St.push(...Os);let eo=this.driver.query(Le,Tx,!0);for(let Dl=0;Dl<eo.length;Dl++){let Mn=a.get(eo[Dl]);Mn&&Mn.length&&St.push(...Mn)}}const Ei=St.filter(Os=>!Os.destroyed);Ei.length?gK(this,Le,Ei):this.processLeaveNode(Le)}return I.length=0,ld.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Le=this.players.indexOf(Re);this.players.splice(Le,1)}),Re.play()}),ld}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Fm;a.forEach(d=>{d.queued||!l&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const d=l.element,f=d!==o,p=Wr(i,d,[]);this._getPreviousPlayers(d,f,s,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),p.push(y)})}xc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,d=[],f=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;f.add(w);const I=w[Bo];if(I&&I.removedBeforeQueried)return new km(b.duration,b.delay);const k=w!==l,A=function _K(n){const e=[];return IO(n,e),e}((i.get(w)||cK).map(qe=>qe.getRealPlayer())).filter(qe=>!!qe.element&&qe.element===w),L=o.get(w),Y=s.get(w),de=J1(this._normalizer,b.keyframes,L,Y),Pe=this._buildPlayer(b,de,A);if(b.subTimeline&&r&&p.add(w),k){const qe=new Ux(e,a,w);qe.setRealPlayer(Pe),d.push(qe)}return Pe});d.forEach(b=>{Wr(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function fK(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>wo(b,sO));const y=Ka(g);return y.onDestroy(()=>{f.forEach(b=>Mu(b,sO)),bs(l,t.toStyles)}),p.forEach(b=>{Wr(r,b,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new km(e.duration,e.delay)}}class Ux{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new km,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>vx(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _v(n){return n&&1===n.nodeType}function bO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function wO(n,e,t,i,r){const o=[];t.forEach(l=>o.push(bO(l)));const s=[];i.forEach((l,d)=>{const f=new Map;l.forEach(p=>{const g=e.computeStyle(d,p,r);f.set(p,g),(!g||0==g.length)&&(d[Bo]=dK,s.push(d))}),n.set(d,f)});let a=0;return t.forEach(l=>bO(l,o[a++])),s}function EO(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const d=a.parentNode;return l=t.has(d)?d:r.has(d)?1:s(d),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function wo(n,e){n.classList?.add(e)}function Mu(n,e){n.classList?.remove(e)}function gK(n,e,t){Ka(t).onDone(()=>n.processLeaveNode(e))}function IO(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Y1?IO(i.players,e):e.push(i)}}function xO(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class yv{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new hK(e,t,i),this._timelineEngine=new rK(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],f=Sx(this._driver,o,l,[]);if(l.length)throw function s7(n,e){return new O(3404,!1)}();a=function eK(n,e,t){return new tK(n,e,t)}(r,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=eO(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=eO(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let bK=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bs(this._element,this._initialStyles),this._endStyles&&(bs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),bs(this._element,this._initialStyles),this._state=3)}}return n})();function Bx(n){let e=null;return n.forEach((t,i)=>{(function wK(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class TO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:dO(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class EK{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return nO(e,t)}getParentElement(e){return Ex(e)}query(e,t,i){return iO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const d=new Map,f=s.filter(y=>y instanceof TO);(function S7(n,e){return 0===n||0===e})(i,r)&&f.forEach(y=>{y.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=function C7(n){return n.length?n[0]instanceof Map?n:n.map(e=>aO(e)):[]}(t).map(y=>Za(y));p=function M7(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,dO(n,a)))}}return e}(e,p,d);const g=function vK(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Bx(e[0]),e.length>1&&(i=Bx(e[e.length-1]))):e instanceof Map&&(t=Bx(e)),t||i?new bK(n,t,i):null}(e,p);return new TO(e,p,l,g)}}let IK=(()=>{class n extends Z1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:sr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Q1(t):t;return CO(this._renderer,null,i,"register",[r]),new xK(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(J(im),J(Sn))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();class xK extends NW{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new TK(this._id,e,t||{},this._renderer)}}class TK{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return CO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const DO="@.disabled";let CK=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(o);return f||(f=new AO("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,f)),f}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(s,a,t,f.name,f)};return i.data.animation.forEach(l),new DK(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(J(im),J(yv),J(pt))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();class AO{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==DO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class DK extends AO{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function AK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function SK(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let MK=(()=>{class n extends yv{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn),J(Ix),J(Nx),J(bc))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const SO=[{provide:Z1,useClass:IK},{provide:Nx,useFactory:function RK(){return new Q7}},{provide:yv,useClass:MK},{provide:im,useFactory:function kK(n,e,t){return new CK(n,e,t)},deps:[hx,yv,pt]}],jx=[{provide:Ix,useFactory:()=>new EK},{provide:em,useValue:"BrowserAnimations"},...SO],$x=[{provide:Ix,useClass:rO},{provide:em,useValue:"NoopAnimations"},...SO];let PK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$x:jx}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({providers:jx,imports:[px]})}return n})(),NK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({providers:$x,imports:[px]})}return n})();var Ru=He(451);(0,Ru.registerVersion)("firebase","10.7.0","app");class LK extends rt{constructor(e,t){super()}schedule(e,t=0){return this}}const bv={setInterval(n,e,...t){const{delegate:i}=bv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=bv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class MO extends LK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return bv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&bv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ue(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const zx={now:()=>(zx.delegate||Date).now(),delegate:void 0};class Lm{constructor(e,t=Lm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Lm.now=zx.now;class RO extends Lm{constructor(e,t=Lm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const BK=new class UK extends RO{}(class VK extends MO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Hx=new RO(MO);function Kn(n,e,t){const i=E(n)||e||t?{next:n,error:e,complete:t}:n;return i?H((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ve(o,l=>{var d;null===(d=i.next)||void 0===d||d.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,l),o.error(l)},()=>{var l,d;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):_n}const wv=new $a("ANGULARFIRE2_VERSION");class kO{constructor(){return((n,e)=>{const t=(0,Ru.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})($K)}}const $K="app-check";function ku(){}class PO{zone;delegate;constructor(e,t=BK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class zK{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ku,{},ku,ku)),t.pipe(Kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let NO=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new PO(Zone.current)),this.insideAngular=t.run(()=>new PO(Zone.current,Hx)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(J(pt))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zr(n){return function qK(n){return function(t){return(t=t.lift(new zK(n.ngZone))).pipe(Fi(n.outsideAngular),xi(n.insideAngular))}}(function Pu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var ia=He(320);ia.Z.registerVersion("firebase","10.7.0","app-compat");const ZK=["ngOnDestroy"];class OO{constructor(e){return e}}const Ev=new ie("angularfire2.app.options"),Iv=new ie("angularfire2.app.name");function qx(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=ia.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>ia.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;XK("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new OO(s)}const XK=(n,...e)=>{},JK={provide:OO,useFactory:qx,deps:[Ev,pt,[new hs,Iv]]};let eZ=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Ev,useValue:t},{provide:Iv,useValue:i}]}}constructor(t){ia.Z.registerVersion("angularfire",wv.full,"core"),ia.Z.registerVersion("angularfire",wv.full,"app-compat"),ia.Z.registerVersion("angular",GM.full,t.toString())}static \u0275fac=function(i){return new(i||n)(J(Po))};static \u0275mod=It({type:n});static \u0275inj=wt({providers:[JK]})}return n})();function FO(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function tZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(LO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${nZ?" You may need to reload as Firebase is not HMR aware.":""}`),LO("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const nZ=typeof module<"u"&&!!module.hot,LO=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],He(872);class iZ extends z{constructor(e=1/0,t=1/0,i=zx){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function VO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,je({connector:()=>new iZ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const xv=Oe(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kr(n,e){return H((t,i)=>{let r=0;t.subscribe(ve(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Dc(n){return n<=0?()=>nn:H((e,t)=>{let i=0;e.subscribe(ve(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Tv(n){return H((e,t)=>{let i=!1;e.subscribe(ve(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function UO(n=rZ){return H((e,t)=>{let i=!1;e.subscribe(ve(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rZ(){return new xv}function Qa(n,e){const t=arguments.length>=2;return i=>i.pipe(n?kr((r,o)=>n(r,o,i)):_n,Dc(1),t?Tv(e):UO(()=>new xv))}function BO(n,e){return E(e)?Ct(()=>n,e):Ct(()=>n)}const jO=new ie("angularfire2.auth.use-emulator"),$O=new ie("angularfire2.auth.settings"),zO=new ie("angularfire2.auth.tenant-id"),HO=new ie("angularfire2.auth.langugage-code"),qO=new ie("angularfire2.auth.use-device-language"),GO=new ie("angularfire.auth.persistence"),WO=(n,e,t,i,r,o,s,a)=>FO(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[d,f]of Object.entries(s))l.settings[d]=f;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]);let Gx=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,d,f,p,g,y){const b=new z,w=G(void 0).pipe(xi(s.outsideAngular),Ct(()=>o.runOutsideAngular(()=>Promise.resolve().then(He.bind(He,872)))),_e(()=>qx(t,o,i)),_e(I=>WO(I,o,a,d,f,p,l,g)),VO({bufferSize:1,refCount:!1}));if(tv(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{w.pipe(Qa()).subscribe();const I=w.pipe(Ct(L=>L.getRedirectResult().then(Y=>Y,()=>null)),Zr,VO({bufferSize:1,refCount:!1})),k=w.pipe(Ct(L=>new st(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))})))),A=w.pipe(Ct(L=>new st(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(de=>Y.next(de),de=>Y.error(de),()=>Y.complete()))}))));this.authState=I.pipe(BO(k),Fi(s.outsideAngular),xi(s.insideAngular)),this.user=I.pipe(BO(A),Fi(s.outsideAngular),xi(s.insideAngular)),this.idToken=this.user.pipe(Ct(L=>L?D(L.getIdToken()):G(null))),this.idTokenResult=this.user.pipe(Ct(L=>L?D(L.getIdTokenResult()):G(null))),this.credential=Z(I,b,this.authState.pipe(kr(L=>!L))).pipe(_e(L=>L?.user?L:null),Fi(s.outsideAngular),xi(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(ZK.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>t.run(()=>d)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,d)=>s.then(f=>{const p=f?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,p),p})})})}))(this,w,o,{spy:{apply:(I,k,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(L=>b.next(L))}}})}static \u0275fac=function(i){return new(i||n)(J(Ev),J(Iv,8),J(Po),J(pt),J(NO),J(jO,8),J($O,8),J(zO,8),J(HO,8),J(qO,8),J(GO,8),J(kO,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),sZ=(()=>{class n{constructor(){ia.Z.registerVersion("angularfire",wv.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=wt({providers:[Gx]})}return n})();function Cv(...n){return function aZ(){return Mt(1)}()(D(n,Ko(n)))}function Vm(...n){const e=Ko(n);return H((t,i)=>{(e?Cv(n,t,e):Cv(n,t)).subscribe(i)})}function Wx(){return H((n,e)=>{let t,i=!1;n.subscribe(ve(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function Dv(n,e){return H(function lZ(n,e,t,i,r){return(o,s)=>{let a=t,l=e,d=0;o.subscribe(ve(s,f=>{const p=d++;l=a?n(l,f,p):(a=!0,f),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}var be,ee=He(483),KO=He(426),ws=He(135),Xt=He(51),cZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jo={},Kx=Kx||{},Ye=cZ||self;function Av(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Um(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zx="closure_uid_"+(1e9*Math.random()>>>0),uZ=0;function hZ(n,e,t){return n.call.apply(n.bind,arguments)}function fZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wi(n,e,t){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hZ:fZ).apply(null,arguments)}function Sv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function _i(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ya(){this.s=this.s,this.o=this.o}Ya.prototype.s=!1,Ya.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dZ(n){Object.prototype.hasOwnProperty.call(n,Zx)&&n[Zx]||(n[Zx]=++uZ)}(this)},Ya.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function QO(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Av(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var pZ=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Ye.addEventListener("test",t,e),Ye.removeEventListener("test",t,e)}catch{}return n}();function Bm(n){return/^[\s\xa0]*$/.test(n)}function Mv(){var n=Ye.navigator;return n&&(n=n.userAgent)?n:""}function Es(n){return-1!=Mv().indexOf(n)}function Yx(n){return Yx[" "](n),n}Yx[" "]=function(){};var Jx,n,_Z=Es("Opera"),Nu=Es("Trident")||Es("MSIE"),YO=Es("Edge"),Xx=YO||Nu,XO=Es("Gecko")&&!(-1!=Mv().toLowerCase().indexOf("webkit")&&!Es("Edge"))&&!(Es("Trident")||Es("MSIE"))&&!Es("Edge"),yZ=-1!=Mv().toLowerCase().indexOf("webkit")&&!Es("Edge");function JO(){var n=Ye.document;return n?n.documentMode:void 0}e:{var eT="",tT=(n=Mv(),XO?/rv:([^\);]+)(\)|;)/.exec(n):YO?/Edge\/([\d\.]+)/.exec(n):Nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yZ?/WebKit\/(\S+)/.exec(n):_Z?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tT&&(eT=tT?tT[1]:""),Nu){var nT=JO();if(null!=nT&&nT>parseFloat(eT)){Jx=String(nT);break e}}Jx=eT}var vZ=Ye.document&&Nu&&(JO()||parseInt(Jx,10))||void 0;function jm(n,e){if(Ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XO){e:{try{Yx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jm.$.h.call(this)}}_i(jm,Ki);var bZ={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $m="closure_listenable_"+(1e6*Math.random()|0),wZ=0;function EZ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++wZ,this.fa=this.ia=!1}function Rv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function rT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function tF(n){const e={};for(const t in n)e[t]=n[t];return e}const nF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<nF.length;o++)t=nF[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function kv(n){this.src=n,this.g={},this.h=0}function oT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=ZO(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Rv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}kv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=sT(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new EZ(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var aT="closure_lm_"+(1e6*Math.random()|0),lT={};function rF(n,e,t,i,r){if(i&&i.once)return sF(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rF(n,e[o],t,i,r);return null}return t=hT(t),n&&n[$m]?n.O(e,t,Um(i)?!!i.capture:!!i,r):oF(n,e,t,!1,i,r)}function oF(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Um(r)?!!r.capture:!!r,a=dT(n);if(a||(n[aT]=a=new kv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function xZ(){const e=TZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)pZ||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(lF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function sF(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sF(n,e[o],t,i,r);return null}return t=hT(t),n&&n[$m]?n.P(e,t,Um(i)?!!i.capture:!!i,r):oF(n,e,t,!0,i,r)}function aF(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)aF(n,e[o],t,i,r);else i=Um(i)?!!i.capture:!!i,t=hT(t),n&&n[$m]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sT(o=n.g[e],t,i,r))&&(Rv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=dT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sT(e,t,i,r)),(t=-1<n?e[n]:null)&&cT(t))}function cT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[$m])oT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(lF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=dT(e))?(oT(t,n),0==t.h&&(t.src=null,e[aT]=null)):Rv(n)}}}function lF(n){return n in lT?lT[n]:lT[n]="on"+n}function TZ(n,e){if(n.fa)n=!0;else{e=new jm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&cT(n),n=t.call(i,e)}return n}function dT(n){return(n=n[aT])instanceof kv?n:null}var uT="__closure_events_fn_"+(1e9*Math.random()>>>0);function hT(n){return"function"==typeof n?n:(n[uT]||(n[uT]=function(e){return n.handleEvent(e)}),n[uT])}function yi(){Ya.call(this),this.i=new kv(this),this.S=this,this.J=null}function Si(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ki(e,n);else if(e instanceof Ki)e.target=e.target||n;else{var r=e;iF(e=new Ki(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Pv(s,i,!0,e)&&r}if(r=Pv(s=e.g=n,i,!0,e)&&r,r=Pv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Pv(s=e.g=t[o],i,!1,e)&&r}function Pv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&oT(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}_i(yi,Ya),yi.prototype[$m]=!0,yi.prototype.removeEventListener=function(n,e,t,i){aF(this,n,e,t,i)},yi.prototype.N=function(){if(yi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Rv(t[i]);delete n.g[e],n.h--}}this.J=null},yi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},yi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var fT=Ye.JSON.stringify;function DZ(){var n=mT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cF=new class CZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new SZ,n=>n.reset());class SZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function RZ(n){Ye.setTimeout(()=>{throw n},0)}let zm,Hm=!1,mT=new class AZ{constructor(){this.h=this.g=null}add(e,t){const i=cF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},dF=()=>{const n=Ye.Promise.resolve(void 0);zm=()=>{n.then(kZ)}};var kZ=()=>{for(var n;n=DZ();){try{n.h.call(n.g)}catch(t){RZ(t)}var e=cF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hm=!1};function Nv(n,e){yi.call(this),this.h=n||1,this.g=e||Ye,this.j=Wi(this.qb,this),this.l=Date.now()}function pT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function gT(n,e,t){if("function"==typeof n)t&&(n=Wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ye.setTimeout(n,e||0)}function uF(n){n.g=gT(()=>{n.g=null,n.i&&(n.i=!1,uF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_i(Nv,yi),(be=Nv.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Si(this,"tick"),this.ga&&(pT(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){Nv.$.N.call(this),pT(this),delete this.g};class PZ extends Ya{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uF(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qm(n){Ya.call(this),this.h=n,this.g={}}_i(qm,Ya);var hF=[];function fF(n,e,t,i){Array.isArray(t)||(t&&(hF[0]=t.toString()),t=hF);for(var r=0;r<t.length;r++){var o=rF(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function mF(n){rT(n.g,function(e,t){this.g.hasOwnProperty(t)&&cT(e)},n),n.g={}}function Ov(){this.g=!0}function Ou(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function LZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return fT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}qm.prototype.N=function(){qm.$.N.call(this),mF(this)},qm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ov.prototype.Ea=function(){this.g=!1},Ov.prototype.info=function(){};var Ac={},pF=null;function Fv(){return pF=pF||new yi}function gF(n){Ki.call(this,Ac.Ta,n)}function Gm(n){const e=Fv();Si(e,new gF(e))}function _F(n,e){Ki.call(this,Ac.STAT_EVENT,n),this.stat=e}function yr(n){const e=Fv();Si(e,new _F(e,n))}function yF(n,e){Ki.call(this,Ac.Ua,n),this.size=e}function Wm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){n()},e)}Ac.Ta="serverreachability",_i(gF,Ki),Ac.STAT_EVENT="statevent",_i(_F,Ki),Ac.Ua="timingevent",_i(yF,Ki);var Lv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _T(){}function wF(){}_T.prototype.h=null;var bT,Km={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yT(){Ki.call(this,"d")}function vT(){Ki.call(this,"c")}function Vv(){}function Zm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new qm(this),this.P=VZ,this.V=new Nv(n=Xx?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EF}function EF(){this.i=null,this.g="",this.h=!1}_i(yT,Ki),_i(vT,Ki),_i(Vv,_T),Vv.prototype.g=function(){return new XMLHttpRequest},Vv.prototype.i=function(){return{}},bT=new Vv;var VZ=45e3,IF={},wT={};function ET(n,e,t){n.L=1,n.A=$v(ra(e)),n.u=t,n.S=!0,xF(n,null)}function xF(n,e){n.G=Date.now(),Qm(n),n.B=ra(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),NF(t.i,"t",i),n.o=0,t=n.l.J,n.h=new EF,n.g=rL(n.l,t?e:null,!n.u),0<n.O&&(n.M=new PZ(Wi(n.Pa,n,n.g),n.O)),fF(n.U,n.g,"readystatechange",n.nb),e=n.I?tF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Gm(),function NZ(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var d=a[l].split("=");if(1<d.length){var f=d[0];d=d[1];var p=f.split("_");s=2<=p.length&&"type"==p[1]?s+(f+"=")+d+"&":s+(f+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function TF(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function CF(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=UZ(n,t),r==wT){4==e&&(n.s=4,yr(14),i=!1),Ou(n.j,n.m,null,"[Incomplete Response]");break}if(r==IF){n.s=4,yr(15),Ou(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ou(n.j,n.m,r,null),IT(n,r)}TF(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,yr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),MT(e),e.M=!0,yr(11))):(Ou(n.j,n.m,t,"[Invalid Chunked Response]"),Sc(n),Ym(n))}function UZ(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?wT:(t=Number(e.substring(t,i)),isNaN(t)?IF:(i+=1)+t>e.length?wT:(e=e.slice(i,i+t),n.o=i+t,e))}function Qm(n){n.Y=Date.now()+n.P,DF(n,n.P)}function DF(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Wm(Wi(n.lb,n),e)}function Uv(n){n.C&&(Ye.clearTimeout(n.C),n.C=null)}function Ym(n){0==n.l.H||n.J||eL(n.l,n)}function Sc(n){Uv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,pT(n.V),mF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function IT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||xT(t.i,n)))if(!n.K&&xT(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Kv(t),Gv(t)}ST(t),yr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wm(Wi(t.ib,t),6e3));if(1>=LF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Rc(t,11)}else if((n.K||t.g==n)&&Kv(t),!Bm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const f=d[3];null!=f&&(t.ra=f,t.l.info("VER="+t.ra));const p=d[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=d[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(TT(o,o.h),o.h=null))}if(i.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,fn(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=iL(i,i.J?i.pa:null,i.Y),s.K){VF(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(Uv(a),Qm(a)),i.g=s}else XF(i);0<t.j.length&&Wv(t)}else"stop"!=d[0]&&"close"!=d[0]||Rc(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Rc(t,7):AT(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Gm()}catch{}}function AF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Av(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Av(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function BZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Av(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(be=Zm.prototype).setTimeout=function(n){this.P=n},be.nb=function(n){n=n.target;const e=this.M;e&&3==Is(n)?e.l():this.Pa(n)},be.Pa=function(n){try{if(n==this.g)e:{const f=Is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>f)&&(3!=f||Xx||this.g&&(this.h.h||this.g.ja()||GF(this.g)))){this.J||4!=f||7==e||Gm(),Uv(this);var t=this.g.da();this.ca=t;t:if(TF(this)){var i=GF(this.g);n="";var r=i.length,o=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sc(this),Ym(this);var s="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function OZ(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,f,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bm(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.s=3,yr(12),Sc(this),Ym(this);break e}Ou(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IT(this,t)}this.S?(CF(this,f,s),Xx&&this.i&&3==f&&(fF(this.U,this.V,"tick",this.mb),this.V.start())):(Ou(this.j,this.m,s,null),IT(this,s)),4==f&&Sc(this),this.i&&!this.J&&(4==f?eL(this.l,this):(this.i=!1,Qm(this)))}else(function oQ(n){const e={};n=(n.g&&2<=Is(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Bm(n[i]))continue;var t=MZ(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function IZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,yr(12)):(this.s=0,yr(13)),Sc(this),Ym(this)}}}catch{}},be.mb=function(){if(this.g){var n=Is(this.g),e=this.g.ja();this.o<e.length&&(Uv(this),CF(this,n,e),this.i&&4!=n&&Qm(this))}},be.cancel=function(){this.J=!0,Sc(this)},be.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function FZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Gm(),yr(17)),Sc(this),this.s=2,Ym(this)):DF(this,this.Y-n)};var SF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Mc){this.h=n.h,Bv(this,n.j),this.s=n.s,this.g=n.g,jv(this,n.m),this.l=n.l;var e=n.i,t=new ep;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),MF(this,t),this.o=n.o}else n&&(e=String(n).match(SF))?(this.h=!1,Bv(this,e[1]||"",!0),this.s=Xm(e[2]||""),this.g=Xm(e[3]||"",!0),jv(this,e[4]),this.l=Xm(e[5]||"",!0),MF(this,e[6]||"",!0),this.o=Xm(e[7]||"")):(this.h=!1,this.i=new ep(null,this.h))}function ra(n){return new Mc(n)}function Bv(n,e,t){n.j=t?Xm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function MF(n,e,t){e instanceof ep?(n.i=e,function KZ(n,e){e&&!n.j&&(Xa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(kF(this,i),NF(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jm(e,GZ)),n.i=new ep(e,n.h))}function fn(n,e,t){n.i.set(e,t)}function $v(n){return fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jm(e,RF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jm(e,RF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jm(t,"/"==t.charAt(0)?qZ:HZ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jm(t,WZ)),n.join("")};var RF=/[#\/\?@]/g,HZ=/[#\?:]/g,qZ=/[#\?]/g,GZ=/[#\?@]/g,WZ=/#/g;function ep(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xa(n){n.g||(n.g=new Map,n.h=0,n.i&&function $Z(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kF(n,e){Xa(n),e=Fu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function PF(n,e){return Xa(n),e=Fu(n,e),n.g.has(e)}function NF(n,e,t){kF(n,e),0<t.length&&(n.i=null,n.g.set(Fu(n,e),Qx(t)),n.h+=t.length)}function Fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OF(n){this.l=n||QZ,n=Ye.PerformanceNavigationTiming?0<(n=Ye.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=ep.prototype).add=function(n,e){Xa(this),this.i=null,n=Fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},be.forEach=function(n,e){Xa(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},be.ta=function(){Xa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},be.Z=function(n){Xa(this);let e=[];if("string"==typeof n)PF(this,n)&&(e=e.concat(this.g.get(Fu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},be.set=function(n,e){return Xa(this),this.i=null,PF(this,n=Fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},be.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var QZ=10;function FF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LF(n){return n.h?1:n.g?n.g.size:0}function xT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function TT(n,e){n.g?n.g.add(e):n.h=e}function VF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qx(n.i)}OF.prototype.cancel=function(){if(this.i=UF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var YZ=class{stringify(n){return Ye.JSON.stringify(n,void 0)}parse(n){return Ye.JSON.parse(n,void 0)}};function XZ(){this.g=new YZ}function JZ(n,e,t){const i=t||"";try{AF(n,function(r,o){let s=r;Um(r)&&(s=fT(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function zv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function tp(n){this.l=n.ec||null,this.j=n.ob||!1}function Hv(n,e){yi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=CT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(tp,_T),tp.prototype.g=function(){return new Hv(this.l,this.j)},tp.prototype.i=function(n){return function(){return n}}({}),_i(Hv,yi);var CT=0;function BF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function np(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ip(n)}function ip(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(be=Hv.prototype).open=function(n,e){if(this.readyState!=CT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ip(this)},be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,np(this)),this.readyState=CT},be.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ip(this)),this.g&&(this.readyState=3,ip(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?np(this):ip(this),3==this.readyState&&BF(this)}},be.Za=function(n){this.g&&(this.response=this.responseText=n,np(this))},be.Ya=function(n){this.g&&(this.response=n,np(this))},be.ka=function(){this.g&&np(this)},be.setRequestHeader=function(n,e){this.v.append(n,e)},be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tQ=Ye.JSON.parse;function Un(n){yi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jF,this.L=this.M=!1}_i(Un,yi);var jF="",nQ=/^https?$/i,iQ=["POST","PUT"];function $F(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zF(n),qv(n)}function zF(n){n.F||(n.F=!0,Si(n,"complete"),Si(n,"error"))}function HF(n){if(n.h&&typeof Kx<"u"&&(!n.C[1]||4!=Is(n)||2!=n.da()))if(n.v&&4==Is(n))gT(n.La,0,n);else if(Si(n,"readystatechange"),4==Is(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(SF)[1]||null;!r&&Ye.self&&Ye.self.location&&(r=Ye.self.location.protocol.slice(0,-1)),i=!nQ.test(r?r.toLowerCase():"")}t=i}if(t)Si(n,"complete"),Si(n,"success");else{n.m=6;try{var o=2<Is(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",zF(n)}}finally{qv(n)}}}function qv(n,e){if(n.g){qF(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Si(n,"ready");try{t.onreadystatechange=i}catch{}}}function qF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ye.clearTimeout(n.A),n.A=null)}function Is(n){return n.g?n.g.readyState:0}function GF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case jF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WF(n){let e="";return rT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function DT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=WF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fn(n,e,t))}function rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KF(n){this.Ga=0,this.j=[],this.l=new Ov,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rp("baseRetryDelayMs",5e3,n),this.hb=rp("retryDelaySeedMs",1e4,n),this.eb=rp("forwardChannelMaxRetries",2,n),this.xa=rp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new OF(n&&n.concurrentRequestLimit),this.Ja=new XZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function AT(n){if(ZF(n),3==n.H){var e=n.W++,t=ra(n.I);if(fn(t,"SID",n.K),fn(t,"RID",e),fn(t,"TYPE","terminate"),op(n,t),(e=new Zm(n,n.l,e)).L=2,e.A=$v(ra(t)),t=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{t=Ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Ye.Image&&((new Image).src=e.A,t=!0),t||(e.g=rL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Qm(e)}nL(n)}function Gv(n){n.g&&(MT(n),n.g.cancel(),n.g=null)}function ZF(n){Gv(n),n.u&&(Ye.clearTimeout(n.u),n.u=null),Kv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ye.clearTimeout(n.m),n.m=null)}function Wv(n){if(!FF(n.i)&&!n.m){n.m=!0;var e=n.Na;zm||dF(),Hm||(zm(),Hm=!0),mT.add(e,n),n.C=0}}function QF(n,e){var t;t=e?e.m:n.W++;const i=ra(n.I);fn(i,"SID",n.K),fn(i,"RID",t),fn(i,"AID",n.V),op(n,i),n.o&&n.s&&DT(i,n.o,n.s),t=new Zm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=YF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),TT(n.i,t),ET(t,i,e)}function op(n,e){n.na&&rT(n.na,function(t,i){fn(e,i,t)}),n.h&&AF({},function(t,i){fn(e,i,t)})}function YF(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Wi(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let d=r[l].g;const f=r[l].map;if(d-=o,0>d)o=Math.max(0,r[l].g-100),a=!1;else try{JZ(f,s,"req"+d+"_")}catch{i&&i(f)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function XF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;zm||dF(),Hm||(zm(),Hm=!0),mT.add(e,n),n.A=0}}function ST(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wm(Wi(n.Ma,n),tL(n,n.A)),n.A++,0))}function MT(n){null!=n.B&&(Ye.clearTimeout(n.B),n.B=null)}function JF(n){n.g=new Zm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ra(n.wa);fn(e,"RID","rpc"),fn(e,"SID",n.K),fn(e,"AID",n.V),fn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&fn(e,"TO",n.qa),fn(e,"TYPE","xmlhttp"),op(n,e),n.o&&n.s&&DT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=$v(ra(e)),t.u=null,t.S=!0,xF(t,n)}function Kv(n){null!=n.v&&(Ye.clearTimeout(n.v),n.v=null)}function eL(n,e){var t=null;if(n.g==e){Kv(n),MT(n),n.g=null;var i=2}else{if(!xT(n.i,e))return;t=e.F,VF(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;Si(i=Fv(),new yF(i,t)),Wv(n)}else XF(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function sQ(n,e){return!(LF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wm(Wi(n.Na,n,e),tL(n,n.C)),n.C++,0)))}(n,e)||2==i&&ST(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Rc(n,5);break;case 4:Rc(n,10);break;case 3:Rc(n,6);break;default:Rc(n,2)}}function tL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Rc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Wi(n.pb,n);t||(t=new Mc("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||Bv(t,"https"),$v(t)),function eQ(n,e){const t=new Ov;if(Ye.Image){const i=new Image;i.onload=Sv(zv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Sv(zv,t,i,"TestLoadImage: error",!1,e),i.onabort=Sv(zv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Sv(zv,t,i,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else yr(2);n.H=0,n.h&&n.h.za(e),nL(n),ZF(n)}function nL(n){if(n.H=0,n.ma=[],n.h){const e=UF(n.i);(0!=e.length||0!=n.j.length)&&(QO(n.ma,e),QO(n.ma,n.j),n.i.i.length=0,Qx(n.j),n.j.length=0),n.h.ya()}}function iL(n,e,t){var i=t instanceof Mc?ra(t):new Mc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),jv(i,i.m);else{var r=Ye.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Mc(null);i&&Bv(o,i),e&&(o.g=e),r&&jv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&fn(i,t,e),fn(i,"VER",n.ra),op(n,i),i}function rL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(n.Ha&&!n.va?new tp({ob:t}):n.va)).Oa(n.J),e}function oL(){}function Zv(){if(Nu&&!(10<=Number(vZ)))throw Error("Environmental error: no available transport.")}function Qr(n,e){yi.call(this),this.g=new KF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lu(this)}function sL(n){yT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function aL(){vT.call(this),this.status=1}function Lu(n){this.g=n}function $o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function jt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(be=Un.prototype).Oa=function(n){this.M=n},be.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bT.g(),this.C=function bF(n){return n.h||(n.h=n.i())}(this.u?this.u:bT),this.g.onreadystatechange=Wi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void $F(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ye.FormData&&n instanceof Ye.FormData,!(0<=ZO(iQ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qF(this),0<this.B&&((this.L=function rQ(n){return Nu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.ua,this)):this.A=gT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){$F(this,o)}},be.ua=function(){typeof Kx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Si(this,"timeout"),this.abort(8))},be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Si(this,"complete"),Si(this,"abort"),qv(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qv(this,!0)),Un.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?HF(this):this.kb())},be.kb=function(){HF(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tQ(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=KF.prototype).ra=8,be.H=1,be.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zm(this,this.l,n);let o=this.s;if(this.U&&(o?(o=tF(o),iF(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=YF(this,r,e),fn(t=ra(this.I),"RID",n),fn(t,"CVER",22),this.F&&fn(t,"X-HTTP-Session-Id",this.F),op(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(WF(o)))+"&"+e:this.o&&DT(t,this.o,o)),TT(this.i,r),this.bb&&fn(t,"TYPE","init"),this.P?(fn(t,"$req",e),fn(t,"SID","null"),r.aa=!0,ET(r,t,null)):ET(r,t,e),this.H=2}}else 3==this.H&&(n?QF(this,n):0==this.j.length||FF(this.i)||QF(this))},be.Ma=function(){if(this.u=null,JF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wm(Wi(this.jb,this),n)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),Gv(this),JF(this))},be.ib=function(){null!=this.v&&(this.v=null,Gv(this),ST(this),yr(19))},be.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=oL.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},Zv.prototype.g=function(n,e){return new Qr(n,e)},_i(Qr,yi),Qr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=iL(n,null,n.Y),Wv(n)},Qr.prototype.close=function(){AT(this.g)},Qr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=fT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Wv(e)},Qr.prototype.N=function(){this.g.h=null,delete this.j,AT(this.g),delete this.g,Qr.$.N.call(this)},_i(sL,yT),_i(aL,vT),_i(Lu,oL),Lu.prototype.Ba=function(){Si(this.g,"a")},Lu.prototype.Aa=function(n){Si(this.g,new sL(n))},Lu.prototype.za=function(n){Si(this.g,new aL)},Lu.prototype.ya=function(){Si(this.g,"b")},_i($o,function aQ(){this.blockSize=-1}),$o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$o.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)RT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){RT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){RT(this,i),r=0;break}}this.h=r,this.i+=e},$o.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var lQ={};function kT(n){return-128<=n&&128>n?function gZ(n,e){var t=lQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new jt([0|e],0>e?-1:0)}):new jt([0|n],0>n?-1:0)}function xs(n){if(isNaN(n)||!isFinite(n))return Vu;if(0>n)return Mi(xs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=PT;return new jt(e,0)}var PT=4294967296,Vu=kT(0),NT=kT(1),cL=kT(16777216);function oa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Eo(n){return-1==n.h}function Mi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new jt(t,~n.h).add(NT)}function Qv(n,e){return n.add(Mi(e))}function Yv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sp(n,e){this.g=n,this.h=e}function Xv(n,e){if(oa(e))throw Error("division by zero");if(oa(n))return new sp(Vu,Vu);if(Eo(n))return e=Xv(Mi(n),e),new sp(Mi(e.g),Mi(e.h));if(Eo(e))return e=Xv(n,Mi(e)),new sp(Mi(e.g),e.h);if(30<n.g.length){if(Eo(n)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=NT,i=e;0>=i.X(n);)t=dL(t),i=dL(i);var r=Uu(t,1),o=Uu(i,1);for(i=Uu(i,2),t=Uu(t,2);!oa(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Uu(i,1),t=Uu(t,1)}return e=Qv(n,r.R(e)),new sp(r,e)}for(r=Vu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=xs(t)).R(e);Eo(s)||0<s.X(n);)s=(o=xs(t-=i)).R(e);oa(o)&&(o=NT),r=r.add(o),n=Qv(n,s)}return new sp(r,n)}function dL(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new jt(t,n.h)}function Uu(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new jt(r,n.h)}(be=jt.prototype).ea=function(){if(Eo(this))return-Mi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:PT+i)*e,e*=PT}return n},be.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(oa(this))return"0";if(Eo(this))return"-"+Mi(this).toString(n);for(var e=xs(Math.pow(n,6)),t=this,i="";;){var r=Xv(t,e).g,o=((0<(t=Qv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(oa(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},be.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},be.X=function(n){return Eo(n=Qv(this,n))?-1:oa(n)?0:1},be.abs=function(){return Eo(this)?Mi(this):this},be.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new jt(t,-2147483648&t[t.length-1]?-1:0)},be.R=function(n){if(oa(this)||oa(n))return Vu;if(Eo(this))return Eo(n)?Mi(this).R(Mi(n)):Mi(Mi(this).R(n));if(Eo(n))return Mi(this.R(Mi(n)));if(0>this.X(cL)&&0>n.X(cL))return xs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,Yv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,Yv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Yv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Yv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new jt(t,0)},be.gb=function(n){return Xv(this,n).h},be.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new jt(t,this.h&n.h)},be.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new jt(t,this.h|n.h)},be.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new jt(t,this.h^n.h)},Zv.prototype.createWebChannel=Zv.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,Lv.NO_ERROR=0,Lv.TIMEOUT=8,Lv.HTTP_ERROR=6,vF.COMPLETE="complete",wF.EventType=Km,Km.OPEN="a",Km.CLOSE="b",Km.ERROR="c",Km.MESSAGE="d",yi.prototype.listen=yi.prototype.O,Un.prototype.listenOnce=Un.prototype.P,Un.prototype.getLastError=Un.prototype.Sa,Un.prototype.getLastErrorCode=Un.prototype.Ia,Un.prototype.getStatus=Un.prototype.da,Un.prototype.getResponseJson=Un.prototype.Wa,Un.prototype.getResponseText=Un.prototype.ja,Un.prototype.send=Un.prototype.ha,Un.prototype.setWithCredentials=Un.prototype.Oa,$o.prototype.digest=$o.prototype.l,$o.prototype.reset=$o.prototype.reset,$o.prototype.update=$o.prototype.j,jt.prototype.add=jt.prototype.add,jt.prototype.multiply=jt.prototype.R,jt.prototype.modulo=jt.prototype.gb,jt.prototype.compare=jt.prototype.X,jt.prototype.toNumber=jt.prototype.ea,jt.prototype.toString=jt.prototype.toString,jt.prototype.getBits=jt.prototype.D,jt.fromNumber=xs,jt.fromString=function lL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Mi(lL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xs(Math.pow(e,8)),i=Vu,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=xs(Math.pow(e,o)),i=i.R(o).add(xs(s))):i=(i=i.R(t)).add(xs(s))}return i};var cQ=jo.createWebChannelTransport=function(){return new Zv},dQ=jo.getStatEventTarget=function(){return Fv()},OT=jo.ErrorCode=Lv,uQ=jo.EventType=vF,hQ=jo.Event=Ac,uL=jo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jv=(jo.FetchXmlHttpFactory=tp,jo.WebChannel=wF),fQ=jo.XhrIo=Un,mQ=jo.Md5=$o,Bu=jo.Integer=jt;const hL="@firebase/firestore";class vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");let ju="10.7.0";const Ja=new ws.Yd("@firebase/firestore");function $u(){return Ja.logLevel}function le(n,...e){if(Ja.logLevel<=ws.in.DEBUG){const t=e.map(FT);Ja.debug(`Firestore (${ju}): ${n}`,...t)}}function Zn(n,...e){if(Ja.logLevel<=ws.in.ERROR){const t=e.map(FT);Ja.error(`Firestore (${ju}): ${n}`,...t)}}function Pr(n,...e){if(Ja.logLevel<=ws.in.WARN){const t=e.map(FT);Ja.warn(`Firestore (${ju}): ${n}`,...t)}}function FT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xe(n="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function ke(n,e){n||xe()}function me(n,e){return n}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class yQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vQ{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,ee.Z)(function*(){yield d.promise,yield o(i.currentUser)}))},l=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke("string"==typeof i.accessToken),new fL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new vi(e)}}class bQ{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wQ{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new bQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new mL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function IQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class pL{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=IQ(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function zu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function gL(n){return n+"\0"}class En{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new En(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new En(0,0))}static max(){return new Ne(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ap{constructor(e,t,i){void 0===t?t=0:t>e.length&&xe(),void 0===i?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ap.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ap?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dt extends ap{construct(e,t,i){return new Dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Dt(t)}static emptyPath(){return new Dt([])}}const xQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends ap{construct(e,t,i){return new mn(e,t,i)}static isValidIdentifier(e){return xQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Dt.fromString(e))}static fromName(e){return new ge(Dt.fromString(e).popFirst(5))}static empty(){return new ge(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Dt(e.slice()))}}class Hu{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function LT(n){return n.fields.find(e=>2===e.kind)}function kc(n){return n.fields.filter(e=>2!==e.kind)}Hu.UNKNOWN_ID=-1;class Pc{constructor(e,t){this.fieldPath=e,this.kind=t}}class qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qu(0,Yr.min())}}function _L(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ne.fromTimestamp(1e9===i?new En(t+1,0):new En(t,i));return new Yr(r,ge.empty(),e)}function yL(n){return new Yr(n.readTime,n.key,-1)}class Yr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yr(Ne.min(),ge.empty(),-1)}static max(){return new Yr(Ne.max(),ge.empty(),-1)}}function VT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ke(n.largestBatchId,e.largestBatchId))}const vL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function el(n){return UT.apply(this,arguments)}function UT(){return UT=(0,ee.Z)(function*(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==vL)throw n;le("LocalStore","Unexpectedly lost primary lease")}),UT.apply(this,arguments)}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):F.reject(t)}static resolve(e){return new F((t,i)=>{t(e)})}static reject(e){return new F((t,i)=>{i(e)})}static waitFor(e){return new F((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=F.resolve(!1);for(const i of e)t=t.next(r=>r?F.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new F((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const d=l;t(e[d]).next(f=>{s[d]=f,++a,a===o&&i(s)},f=>r(f))}})}static doWhile(e,t){return new F((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class eb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new lp(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=BT(i.target.error);this.V.reject(new lp(e,r))}}static open(e,t,i,r){try{return new eb(t,e.transaction(r,i))}catch(o){throw new lp(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AQ(t)}}class zo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===zo.S((0,Xt.z$)())&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),Nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xt.hl)())return!1;if(zo.C())return!0;const e=(0,Xt.z$)(),t=zo.S(e),i=0<t&&t<10,r=zo.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,ee.Z)(function*(){return t.db||(le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new lp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new se(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new se(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new lp(e,a))},o.onupgradeneeded=s=>{le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,ee.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=eb.open(o.db,e,s?"readonly":"readwrite",i),d=r(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),F.reject(f))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){const d=l,f="FirebaseError"!==d.name&&a<3;if(le("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),o.close(),!f)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Nc(this.k.delete())}}class lp extends se{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tl(n){return"IndexedDbTransactionError"===n.name}class AQ{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Nc(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),Nc(this.store.add(e))}get(e){return Nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),Nc(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new F((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new F((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new F((i,r)=>{t.onerror=o=>{const s=BT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new F((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new DQ(a),d=t(a.primaryKey,a.value,l);if(d instanceof F){const f=d.catch(p=>(l.done(),F.reject(p)));i.push(f)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>F.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nc(n){return new F((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=BT(i.target.error);t(r)}})}let wL=!1;function BT(n){const e=zo.S((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wL||(wL=!0,setTimeout(()=>{throw i},0)),i}}return n}class SQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ee.Z)(function*(){t.task=null;try{le("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){tl(i)?le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield el(i)}yield t.ee(6e4)}))}}class MQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return F.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return le("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(le("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=yL(o);VT(s,i)>0&&(i=s)}),new Yr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function cp(n){return null==n}function dp(n){return 0===n&&1/n==-1/0}function EL(n){return"number"==typeof n&&Number.isInteger(n)&&!dp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Zi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IL(e)),e=RQ(n.get(t),e);return IL(e)}function RQ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function IL(n){return n+"\x01\x01"}function Ts(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Dt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&xe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:xe()}o=s+2}return new Dt(i)}const xL=["userId","batchId"];function tb(n,e){return[n,Zi(e)]}function TL(n,e,t){return[n,Zi(e),t]}const kQ={},PQ=["prefixPath","collectionGroup","readTime","documentId"],NQ=["prefixPath","collectionGroup","documentId"],OQ=["collectionGroup","readTime","prefixPath","documentId"],FQ=["canonicalId","targetId"],LQ=["targetId","path"],VQ=["path","targetId"],UQ=["collectionId","parent"],BQ=["indexId","uid"],jQ=["uid","sequenceNumber"],$Q=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zQ=["indexId","uid","orderedDocumentKey"],HQ=["userId","collectionPath","documentId"],qQ=["userId","collectionPath","largestBatchId"],GQ=["userId","collectionGroup","largestBatchId"],CL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WQ=[...CL,"documentOverlays"],DL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AL=DL,KQ=[...AL,"indexConfiguration","indexState","indexEntries"];class jT extends bL{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function bi(n,e){const t=me(n);return zo.M(t.ae,e)}function SL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ML(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class an{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nb(this.root,e,this.comparator,!1)}getReverseIterator(){return new nb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nb(this.root,e,this.comparator,!0)}}class nb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ri.RED,this.left=r??Ri.EMPTY,this.right=o??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ri(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ri.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RL(this.data.getIterator())}getIteratorFrom(e){return new RL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class RL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gu(n){return n.hasNext()?n.getNext():void 0}class Nr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new Wt(mn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class kL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kL("Invalid base64 string: "+o):o}}(e);return new fi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const QQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(ke(!!n),"string"==typeof n){let e=0;const t=QQ.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sa(n){return"string"==typeof n?fi.fromBase64String(n):fi.fromUint8Array(n)}function ib(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rb(n){const e=n.mapValue.fields.__previous_value__;return ib(e)?rb(e):e}function up(n){const e=il(n.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}class YQ{constructor(e,t,i,r,o,s,a,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}const ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ob={nullValue:"NULL_VALUE"};function sl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ib(n)?4:FL(n)?9007199254740991:10:xe()}function Cs(n,e){if(n===e)return!0;const t=sl(n);if(t!==sl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return up(n).isEqual(up(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=il(r.timestampValue),a=il(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,sa(n.bytesValue).isEqual(sa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Bn(r.geoPointValue.latitude)===Bn(o.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bn(r.integerValue)===Bn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Bn(r.doubleValue),a=Bn(o.doubleValue);return s===a?dp(s)===dp(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return zu(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(SL(s)!==SL(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Cs(s[l],a[l])))return!1;return!0}(n,e);default:return xe()}var o}function hp(n,e){return void 0!==(n.values||[]).find(t=>Cs(t,e))}function al(n,e){if(n===e)return 0;const t=sl(n),i=sl(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Bn(o.integerValue||o.doubleValue),l=Bn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return PL(n.timestampValue,e.timestampValue);case 4:return PL(up(n),up(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(o,s){const a=sa(o),l=sa(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){const f=Ke(a[d],l[d]);if(0!==f)return f}return Ke(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(Bn(o.latitude),Bn(s.latitude));return 0!==a?a:Ke(Bn(o.longitude),Bn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){const f=al(a[d],l[d]);if(f)return f}return Ke(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ol.mapValue&&s===ol.mapValue)return 0;if(o===ol.mapValue)return 1;if(s===ol.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const g=Ke(l[p],f[p]);if(0!==g)return g;const y=al(a[l[p]],d[f[p]]);if(0!==y)return y}return Ke(l.length,f.length)}(n.mapValue,e.mapValue);default:throw xe()}}function PL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ke(n,e);const t=il(n),i=il(e),r=Ke(t.seconds,i.seconds);return 0!==r?r:Ke(t.nanos,i.nanos)}function Wu(n){return $T(n)}function $T(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=il(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sa(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=$T(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${$T(t.fields[s])}`;return r+"}"}(n.mapValue):xe()}function Oc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zT(n){return!!n&&"integerValue"in n}function fp(n){return!!n&&"arrayValue"in n}function NL(n){return!!n&&"nullValue"in n}function OL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ab(n){return!!n&&"mapValue"in n}function mp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=mp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function XQ(n){return"nullValue"in n?ob:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Oc(rl.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xe()}function JQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Oc(rl.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ol:xe()}function LL(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function VL(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ab(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(t)}setAll(e){let t=mn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=mp(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());ab(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ab(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){nl(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new ki(mp(this.value))}}function UL(n){const e=[];return nl(n.fields,(t,i)=>{const r=new mn([t]);if(ab(i)){const o=UL(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Nr(e)}class pn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Ne.min(),Ne.min(),Ne.min(),ki.empty(),0)}static newFoundDocument(e,t,i,r){return new pn(e,1,t,Ne.min(),i,r,0)}static newNoDocument(e,t){return new pn(e,2,t,Ne.min(),Ne.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ne.min(),Ne.min(),ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ll{constructor(e,t){this.position=e,this.inclusive=t}}function BL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):al(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function jL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}class pp{constructor(e,t="asc"){this.field=e,this.dir=t}}function eY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $L{}class vt extends $L{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new tY(e,t,i):"array-contains"===t?new rY(e,i):"in"===t?new KL(e,i):"not-in"===t?new oY(e,i):"array-contains-any"===t?new sY(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new nY(e,i):new iY(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(al(t,this.value)):null!==t&&sl(this.value)===sl(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends $L{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new $t(e,t)}matches(e){return Ku(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ku(n){return"and"===n.op}function HT(n){return"or"===n.op}function qT(n){return zL(n)&&Ku(n)}function zL(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}function GT(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Wu(n.value);if(qT(n))return n.filters.map(e=>GT(e)).join(",");{const e=n.filters.map(t=>GT(t)).join(",");return`${n.op}(${e})`}}function HL(n,e){return n instanceof vt?(i=n,(r=e)instanceof vt&&i.op===r.op&&i.field.isEqual(r.field)&&Cs(i.value,r.value)):n instanceof $t?function(i,r){return r instanceof $t&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&HL(s,r.filters[a]),!0)}(n,e):void xe();var i,r}function qL(n,e){const t=n.filters.concat(e);return $t.create(t,n.op)}function GL(n){return n instanceof vt?`${(t=n).field.canonicalString()} ${t.op} ${Wu(t.value)}`:n instanceof $t?function(t){return t.op.toString()+" {"+t.getFilters().map(GL).join(" ,")+"}"}(n):"Filter";var t}class tY extends vt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class nY extends vt{constructor(e,t){super(e,"in",t),this.keys=WL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iY extends vt{constructor(e,t){super(e,"not-in",t),this.keys=WL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class rY extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&hp(t.arrayValue,this.value)}}class KL extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hp(this.value.arrayValue,t)}}class oY extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hp(this.value.arrayValue,t)}}class sY extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>hp(this.value.arrayValue,i))}}class aY{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function WT(n,e=null,t=[],i=[],r=null,o=null,s=null){return new aY(n,e,t,i,r,o,s)}function Fc(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>GT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wu(i)).join(",")),e.ce=t}return e.ce}function gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jL(n.startAt,e.startAt)&&jL(n.endAt,e.endAt)}function lb(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cb(n,e){return n.filters.filter(t=>t instanceof vt&&t.field.isEqual(e))}function ZL(n,e,t){let i=ob,r=!0;for(const o of cb(n,e)){let s=ob,a=!0;switch(o.op){case"<":case"<=":s=XQ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=ob}LL({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];LL({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function QL(n,e,t){let i=ol,r=!0;for(const o of cb(n,e)){let s=ol,a=!0;switch(o.op){case">=":case">":s=JQ(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ol}VL({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];VL({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class aa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function YL(n,e,t,i,r,o,s,a){return new aa(n,e,t,i,r,o,s,a)}function Zu(n){return new aa(n)}function XL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function KT(n){return null!==n.collectionGroup}function Qu(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Wt(mn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new pp(o,i))}),t.has(mn.keyField().canonicalString())||e.le.push(new pp(mn.keyField(),i))}return e.le}function vr(n){const e=me(n);return e.he||(e.he=function JL(n,e){if("F"===n.limitType)return WT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new pp(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new ll(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ll(n.startAt.position,n.startAt.inclusive):null;return WT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Qu(n))),e.he}function ZT(n,e){const t=n.filters.concat([e]);return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function db(n,e,t){return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _p(n,e){return gp(vr(n),vr(e))&&n.limitType===e.limitType}function eV(n){return`${Fc(vr(n))}|lt:${n.limitType}`}function Yu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>GL(r)).join(", ")}]`),cp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Wu(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Wu(r)).join(",")),`Target(${i})`}(vr(n))}; limitType=${n.limitType})`}function yp(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Qu(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const d=BL(s,a,l);return s.inclusive?d<=0:d<0}(i.startAt,Qu(i),r)||i.endAt&&!function(s,a,l){const d=BL(s,a,l);return s.inclusive?d>=0:d>0}(i.endAt,Qu(i),r)));var i,r}function tV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nV(n){return(e,t)=>{let i=!1;for(const r of Qu(n)){const o=lY(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function lY(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),d=a.data.field(o);return null!==l&&null!==d?al(l,d):xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ML(this.inner)}size(){return this.innerSize}}const cY=new an(ge.comparator);function Or(){return cY}const iV=new an(ge.comparator);function vp(...n){let e=iV;for(const t of n)e=e.insert(t.key,t);return e}function rV(n){let e=iV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ds(){return bp()}function oV(){return bp()}function bp(){return new la(n=>n.toString(),(n,e)=>n.isEqual(e))}const dY=new an(ge.comparator),uY=new Wt(ge.comparator);function nt(...n){let e=uY;for(const t of n)e=e.add(t);return e}const hY=new Wt(Ke);function QT(){return hY}function sV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dp(e)?"-0":e}}function aV(n){return{integerValue:""+n}}function lV(n,e){return EL(e)?aV(e):sV(n,e)}class ub{constructor(){this._=void 0}}function fY(n,e,t){return n instanceof Xu?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ib(o)&&(o=rb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Lc?dV(n,e):n instanceof Vc?uV(n,e):function(r,o){const s=cV(r,o),a=hV(s)+hV(r.Ie);return zT(s)&&zT(r.Ie)?aV(a):sV(r.serializer,a)}(n,e)}function mY(n,e,t){return n instanceof Lc?dV(n,e):n instanceof Vc?uV(n,e):t}function cV(n,e){return n instanceof Ju?zT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Xu extends ub{}class Lc extends ub{constructor(e){super(),this.elements=e}}function dV(n,e){const t=fV(e);for(const i of n.elements)t.some(r=>Cs(r,i))||t.push(i);return{arrayValue:{values:t}}}class Vc extends ub{constructor(e){super(),this.elements=e}}function uV(n,e){let t=fV(e);for(const i of n.elements)t=t.filter(r=>!Cs(r,i));return{arrayValue:{values:t}}}class Ju extends ub{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function hV(n){return Bn(n.integerValue||n.doubleValue)}function fV(n){return fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wp{constructor(e,t){this.field=e,this.transform=t}}class gY{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fb{}function mV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new th(n.key,In.none()):new eh(n.key,n.data,In.none());{const t=n.data,i=ki.empty();let r=new Wt(mn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new ca(n.key,i,new Nr(r.toArray()),In.none())}}function _Y(n,e,t){n instanceof eh?function(r,o,s){const a=r.value.clone(),l=_V(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ca?function(r,o,s){if(!hb(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=_V(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(gV(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ep(n,e,t,i){return n instanceof eh?function(o,s,a,l){if(!hb(o.precondition,s))return a;const d=o.value.clone(),f=yV(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof ca?function(o,s,a,l){if(!hb(o.precondition,s))return a;const d=yV(o.fieldTransforms,l,s),f=s.data;return f.setAll(gV(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,hb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function yY(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=cV(i.transform,r||null);null!=o&&(null===t&&(t=ki.empty()),t.set(i.field,o))}return t||null}function pV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&zu(i,r,(o,s)=>function pY(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Lc&&r instanceof Lc||i instanceof Vc&&r instanceof Vc?zu(i.elements,r.elements,Cs):i instanceof Ju&&r instanceof Ju?Cs(i.Ie,r.Ie):i instanceof Xu&&r instanceof Xu);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class eh extends fb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ca extends fb{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function _V(n,e,t){const i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,mY(s,a,t[r]))}return i}function yV(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,fY(o,s,e))}return i}class th extends fb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YT extends fb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&_Y(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ep(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ep(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=oV();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=mV(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(t,i)=>pV(t,i))&&zu(this.baseMutations,e.baseMutations,(t,i)=>pV(t,i))}}class JT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ke(e.mutations.length===i.length);let r=dY;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new JT(e,t,i,r)}}class eC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bY{constructor(e,t){this.count=e,this.unchangedNames=t}}var ii,At;function vV(n){switch(n){default:return xe();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function bV(n){if(void 0===n)return Zn("GRPC error has no .code"),B.UNKNOWN;switch(n){case ii.OK:return B.OK;case ii.CANCELLED:return B.CANCELLED;case ii.UNKNOWN:return B.UNKNOWN;case ii.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ii.INTERNAL:return B.INTERNAL;case ii.UNAVAILABLE:return B.UNAVAILABLE;case ii.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ii.NOT_FOUND:return B.NOT_FOUND;case ii.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ii.ABORTED:return B.ABORTED;case ii.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ii.DATA_LOSS:return B.DATA_LOSS;default:return xe()}}(At=ii||(ii={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function wV(){return new TextEncoder}const wY=new Bu([4294967295,4294967295],0);function EV(n){const e=wV().encode(n),t=new mQ;return t.update(e),new Uint8Array(t.digest())}function IV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bu([t,i],0),new Bu([r,o],0)]}class tC{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ip(`Invalid padding: ${t}`);if(i<0)throw new Ip(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Ip(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Ip(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Bu.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Bu.fromNumber(i)));return 1===r.compare(wY)&&(r=new Bu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=EV(e),[i,r]=IV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new tC(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=EV(e),[i,r]=IV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xp{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Tp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new xp(Ne.min(),r,new an(Ke),Or(),nt())}}class Tp{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tp(i,t,nt(),nt(),nt())}}class pb{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class xV{constructor(e,t){this.targetId=e,this.fe=t}}class TV{constructor(e,t,i=fi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class CV{constructor(){this.ge=0,this.pe=AV(),this.ye=fi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nt(),t=nt(),i=nt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xe()}}),new Tp(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=AV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class EY{constructor(e){this.Le=e,this.ke=new Map,this.qe=Or(),this.Qe=DV(),this.Ke=new an(Ke)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(lb(o))if(0===i){const s=new ge(o.path);this.We(t,s,pn.newNoDocument(s,Ne.min()))}else ke(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=sa(i).toUint8Array()}catch(l){if(l instanceof kL)return Pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tC(s,r,o)}catch(l){return Pr(l instanceof Ip?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&lb(a.target)){const l=new ge(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,pn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=nt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const d=this.Ye(l);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new xp(e,t,this.Ke,this.qe,i);return this.qe=Or(),this.Qe=DV(),this.Ke=new an(Ke),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new CV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Wt(Ke),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new CV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function DV(){return new an(ge.comparator)}function AV(){return new an(ge.comparator)}const IY={asc:"ASCENDING",desc:"DESCENDING"},xY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TY={and:"AND",or:"OR"};class CY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nC(n,e){return n.useProto3Json||cp(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DY(n,e){return nh(n,e.toTimestamp())}function Qn(n){return ke(!!n),Ne.fromTimestamp(function(t){const i=il(t);return new En(i.seconds,i.nanos)}(n))}function iC(n,e){return(i=n,new Dt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function MV(n){const e=Dt.fromString(n);return ke(UV(e)),e}function Cp(n,e){return iC(n.databaseId,e.path)}function As(n,e){const t=MV(e);if(t.get(1)!==n.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(kV(t))}function rC(n,e){return iC(n.databaseId,e)}function RV(n){const e=MV(n);return 4===e.length?Dt.emptyPath():kV(e)}function Dp(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kV(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function PV(n,e,t){return{name:Cp(n,e),fields:t.value.mapValue.fields}}function NV(n,e,t){const i=As(n,e.name),r=Qn(e.updateTime),o=e.createTime?Qn(e.createTime):Ne.min(),s=new ki({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Ap(n,e){let t;if(e instanceof eh)t={update:PV(n,e.key,e.value)};else if(e instanceof th)t={delete:Cp(n,e.key)};else if(e instanceof ca)t={update:PV(n,e.key,e.data),updateMask:OY(e.fieldMask)};else{if(!(e instanceof YT))return xe();t={verify:Cp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Xu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ju)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw xe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:DY(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:xe()),t;var o}function oC(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?In.updateTime(Qn(o.updateTime)):void 0!==o.exists?In.exists(o.exists):In.none():In.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),l=new Xu):"appendMissingElements"in a?l=new Lc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Vc(a.removeAllFromArray.values||[]):"increment"in a?l=new Ju(s,a.increment):xe();const d=mn.fromServerFormat(a.fieldPath);return new wp(d,l)}(n,r)):[];var o;if(e.update){const r=As(n,e.update.name),o=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Nr((e.updateMask.fieldPaths||[]).map(f=>mn.fromServerFormat(f)));return new ca(r,o,s,t,i)}return new eh(r,o,t,i)}if(e.delete){const r=As(n,e.delete);return new th(r,t)}if(e.verify){const r=As(n,e.verify);return new YT(r,t)}return xe()}function OV(n,e){return{documents:[rC(n,e.path)]}}function sC(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=rC(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rC(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return VV($t.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(d=>{return{field:cl((p=d).field),direction:kY(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=nC(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function FV(n){let e=RV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ke(1===i);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){const g=LV(p);return g instanceof $t&&qT(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new pp(ih((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,cp(g)?null:g}(t.limit));let l=null;var p;t.startAt&&(l=new ll((p=t.startAt).values||[],!!p.before));let d=null;return t.endAt&&(d=function(p){return new ll(p.values||[],!p.before)}(t.endAt)),YL(e,r,s,o,a,"F",l,d)}function LV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ih(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ih(t.unaryFilter.field);return vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ih(t.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ih(t.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):void 0!==n.fieldFilter?vt.create(ih((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $t.create(t.compositeFilter.filters.map(i=>LV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe();var t}function kY(n){return IY[n]}function PY(n){return xY[n]}function NY(n){return TY[n]}function cl(n){return{fieldPath:n.canonicalString()}}function ih(n){return mn.fromServerFormat(n.fieldPath)}function VV(n){return n instanceof vt?function(t){if("=="===t.op){if(OL(t.value))return{unaryFilter:{field:cl(t.field),op:"IS_NAN"}};if(NL(t.value))return{unaryFilter:{field:cl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(OL(t.value))return{unaryFilter:{field:cl(t.field),op:"IS_NOT_NAN"}};if(NL(t.value))return{unaryFilter:{field:cl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(t.field),op:PY(t.op),value:t.value}}}(n):n instanceof $t?function(t){const i=t.getFilters().map(r=>VV(r));return 1===i.length?i[0]:{compositeFilter:{op:NY(t.op),filters:i}}}(n):xe()}function OY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class da{constructor(e,t,i,r,o=Ne.min(),s=Ne.min(),a=fi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BV{constructor(e){this.ut=e}}function jV(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Cp(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:nh(o,s.version.toTimestamp()),createTime:nh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Uc(e.version)};else{if(!e.isUnknownDocument())return xe();i.unknownDocument={path:t.path.toArray(),version:Uc(e.version)}}var o,s;return i}function gb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Uc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bc(n){const e=new En(n.seconds,n.nanoseconds);return Ne.fromTimestamp(e)}function jc(n,e){const t=(e.baseMutations||[]).map(o=>oC(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>oC(n.ut,o)),r=En.fromMillis(e.localWriteTimeMs);return new XT(e.batchId,r,t,i)}function Sp(n){const e=Bc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bc(n.lastLimboFreeSnapshotVersion):Ne.min();let i;return i=void 0!==n.query.documents?(ke(1===(o=n.query).documents.length),vr(Zu(RV(o.documents[0])))):function(o){return vr(FV(o))}(n.query),new da(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fi.fromBase64String(n.resumeToken));var o}function $V(n,e){const t=Uc(e.snapshotVersion),i=Uc(e.lastLimboFreeSnapshotVersion);let r;r=lb(e.target)?OV(n.ut,e.target):sC(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fc(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aC(n){const e=FV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?db(e,e.limit,"L"):e}function lC(n,e){return new eC(e.largestBatchId,oC(n.ut,e.overlayMutation))}function zV(n,e){const t=e.path.lastSegment();return[n,Zi(e.path.popLast()),t]}function HV(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Uc(i.readTime),documentKey:Zi(i.documentKey.path),largestBatchId:i.largestBatchId}}class LY{getBundleMetadata(e,t){return qV(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Bc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qV(e).put({bundleId:(r=t).id,createTime:Uc(Qn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return GV(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:aC(o.bundledQuery),readTime:Bc(o.readTime)};var o})}saveNamedQuery(e,t){return GV(e).put({name:(r=t).name,readTime:Uc(Qn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qV(n){return bi(n,"bundles")}function GV(n){return bi(n,"namedQueries")}class _b{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new _b(e,t.uid||"")}getOverlay(e,t){return Mp(e).get(zV(this.userId,t)).next(i=>i?lC(this.serializer,i):null)}getOverlays(e,t){const i=Ds();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new eC(t,s);r.push(this.lt(e,a))}),F.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(Zi(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Mp(e).H("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ds(),o=Zi(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Mp(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const d=lC(this.serializer,l);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ds();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mp(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,d,f)=>{const p=lC(this.serializer,d);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):f.done()}).next(()=>o)}lt(e,t){return Mp(e).put(function(r,o,s){const[a,l,d]=zV(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ap(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function Mp(n){return bi(n,"documentOverlays")}class $c{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Bn(e.integerValue));else if("doubleValue"in e){const i=Bn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),dp(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(sa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?FL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):xe()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function VY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function WV(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=VY(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}$c.St=new $c;class UY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=WV(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=WV(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class BY{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class jY{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Rp{constructor(){this.Wt=new UY,this.Gt=new BY(this.Wt),this.zt=new jY(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class zc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new zc(this.indexId,this.documentKey,this.arrayValue,i)}}function dl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=KV(n.arrayValue,e.arrayValue),0!==t?t:(t=KV(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function KV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ZV{constructor(e){this.Jt=new Wt((t,i)=>mn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=LT(e);if(void 0!==t&&!this.tn(t))return!1;const i=kc(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Wt(mn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Pc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Pc(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Pc(i.field,"asc"===i.dir?0:1)));return new Hu(Hu.UNKNOWN_ID,this.collectionId,t,qu.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function QV(n){var e,t;if(ke(n instanceof vt||n instanceof $t),n instanceof vt){if(n instanceof KL){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>vt.create(n.field,"==",o)))||[];return $t.create(r,"or")}return n}const i=n.filters.map(r=>QV(r));return $t.create(i,n.op)}function $Y(n){if(0===n.getFilters().length)return[];const e=uC(QV(n));return ke(YV(e)),cC(e)||dC(e)?[e]:e.getFilters()}function cC(n){return n instanceof vt}function dC(n){return n instanceof $t&&qT(n)}function YV(n){return cC(n)||dC(n)||function(t){if(t instanceof $t&&HT(t)){for(const i of t.getFilters())if(!cC(i)&&!dC(i))return!1;return!0}return!1}(n)}function uC(n){if(ke(n instanceof vt||n instanceof $t),n instanceof vt)return n;if(1===n.filters.length)return uC(n.filters[0]);const e=n.filters.map(i=>uC(i));let t=$t.create(e,n.op);return t=yb(t),YV(t)?t:(ke(t instanceof $t),ke(Ku(t)),ke(t.filters.length>1),t.filters.reduce((i,r)=>hC(i,r)))}function hC(n,e){let t;return ke(n instanceof vt||n instanceof $t),ke(e instanceof vt||e instanceof $t),t=n instanceof vt?e instanceof vt?$t.create([n,e],"and"):XV(n,e):e instanceof vt?XV(e,n):function(r,o){if(ke(r.filters.length>0&&o.filters.length>0),Ku(r)&&Ku(o))return qL(r,o.getFilters());const s=HT(r)?r:o,a=HT(r)?o:r,l=s.filters.map(d=>hC(d,a));return $t.create(l,"or")}(n,e),yb(t)}function XV(n,e){if(Ku(e))return qL(e,n.getFilters());{const t=e.filters.map(i=>hC(n,i));return $t.create(t,"or")}}function yb(n){if(ke(n instanceof vt||n instanceof $t),n instanceof vt)return n;const e=n.getFilters();if(1===e.length)return yb(e[0]);if(zL(n))return n;const t=e.map(r=>yb(r)),i=[];return t.forEach(r=>{r instanceof vt?i.push(r):r instanceof $t&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$t.create(i,n.op)}class zY{constructor(){this.on=new fC}addToCollectionParentIndex(e,t){return this.on.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Yr.min())}updateCollectionGroup(e,t,i){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class fC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Wt(Dt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wt(Dt.comparator)).toArray()}}const vb=new Uint8Array(0);class HY{constructor(e,t){this.user=e,this.databaseId=t,this._n=new fC,this.an=new la(i=>Fc(i),(i,r)=>gp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:Zi(r)};return JV(e).put(o)}return F.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[gL(t),""],!1,!0);return JV(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ts(s.parent))}return i})}addFieldIndex(e,t){const i=kp(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=oh(e);return o.next(a=>{s.put(HV(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=kp(e),r=oh(e),o=rh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=kp(e),i=rh(e),r=oh(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return F.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new ZV(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=rh(e);let r=!0;const o=new Map;return F.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=nt();const a=[];return F.forEach(o,(l,d)=>{var L;le("IndexedDbIndexManager",`Using index ${L=l,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Fc(t)}`);const f=function(L,Y){const de=LT(Y);if(void 0===de)return null;for(const Pe of cb(L,de.fieldPath))switch(Pe.op){case"array-contains-any":return Pe.value.arrayValue.values||[];case"array-contains":return[Pe.value]}return null}(d,l),p=function(L,Y){const de=new Map;for(const Pe of kc(Y))for(const qe of cb(L,Pe.fieldPath))switch(qe.op){case"==":case"in":de.set(Pe.fieldPath.canonicalString(),qe.value);break;case"not-in":case"!=":return de.set(Pe.fieldPath.canonicalString(),qe.value),Array.from(de.values())}return null}(d,l),g=function(L,Y){const de=[];let Pe=!0;for(const qe of kc(Y)){const Ut=0===qe.kind?ZL(L,qe.fieldPath,L.startAt):QL(L,qe.fieldPath,L.startAt);de.push(Ut.value),Pe&&(Pe=Ut.inclusive)}return new ll(de,Pe)}(d,l),y=function(L,Y){const de=[];let Pe=!0;for(const qe of kc(Y)){const Ut=0===qe.kind?QL(L,qe.fieldPath,L.endAt):ZL(L,qe.fieldPath,L.endAt);de.push(Ut.value),Pe&&(Pe=Ut.inclusive)}return new ll(de,Pe)}(d,l),b=this.ln(l,d,g),w=this.ln(l,d,y),I=this.hn(l,d,p),k=this.Pn(l.indexId,f,b,g.inclusive,w,y.inclusive,I);return F.forEach(k,A=>i.j(A,t.limit).next(L=>{L.forEach(Y=>{const de=ge.fromSegments(Y.documentKey);s.has(de)||(s=s.add(de),a.push(de))})}))}).next(()=>a)}return F.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:$Y($t.create(e.filters,"and")).map(i=>WT(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const l=(null!=t?t.length:1)*Math.max(i.length,o.length),d=l/(null!=t?t.length:1),f=[];for(let p=0;p<l;++p){const g=t?this.In(t[p/d]):vb,y=this.Tn(e,g,i[p%d],r),b=this.En(e,g,o[p%d],s),w=a.map(I=>this.Tn(e,g,I,!0));f.push(...this.createRange(y,b,w))}return f}Tn(e,t,i,r){const o=new zc(e,ge.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new zc(e,ge.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new ZV(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return F.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(l){let d=new Wt(mn.comparator),f=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?f=!0:d=d.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new Rp;for(const r of kc(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);$c.St.ht(o,s)}return i.Ut()}In(e){const t=new Rp;return $c.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Rp;return $c.St.ht(Oc(this.databaseId,t),i.jt(function(o){const s=kc(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Rp);let o=0;for(const s of kc(e)){const a=i[o++];for(const l of r)if(this.Rn(t,s.fieldPath)&&fp(a))r=this.Vn(r,s,a);else{const d=l.jt(s.kind);$c.St.ht(a,d)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Rp;l.seed(a.Ut()),$c.St.ht(s,l.jt(t.kind)),o.push(l)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof vt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=kp(e),r=oh(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return F.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(f,p){const g=p?new qu(p.sequenceNumber,new Yr(Bc(p.readTime),new ge(Ts(p.documentKey)),p.largestBatchId)):qu.empty(),y=f.fields.map(([b,w])=>new Pc(mn.fromServerFormat(b),w));return new Hu(f.indexId,f.collectionGroup,y,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ke(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=kp(e),o=oh(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>F.forEach(a,l=>o.put(HV(l.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return F.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),F.forEach(a,l=>this.gn(e,r,l).next(d=>{const f=this.pn(o,l);return d.isEqual(f)?F.resolve():this.yn(e,o,l,d,f)}))))})}wn(e,t,i,r){return rh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return rh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=rh(e);let o=new Wt(dl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new zc(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new Wt(dl);const r=this.dn(t,e);if(null==r)return i;const o=LT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(fp(s))for(const a of s.arrayValue.values||[])i=i.add(new zc(t.indexId,e.key,this.In(a),r))}else i=i.add(new zc(t.indexId,e.key,vb,r));return i}yn(e,t,i,r,o){le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,d,f,p,g){const y=l.getIterator(),b=d.getIterator();let w=Gu(y),I=Gu(b);for(;w||I;){let k=!1,A=!1;if(w&&I){const L=f(w,I);L<0?A=!0:L>0&&(k=!0)}else null!=w?A=!0:k=!0;k?(p(I),I=Gu(b)):A?(g(w),w=Gu(y)):(w=Gu(y),I=Gu(b))}}(r,o,dl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),F.waitFor(s)}fn(e){let t=1;return oh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>dl(s,a)).filter((s,a,l)=>!a||0!==dl(s,l[a-1]));const r=[];r.push(e);for(const s of i){const a=dl(s,e),l=dl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,vb,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,vb,[]]))}return o}bn(e,t){return dl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(e2)}getMinOffset(e,t){return F.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||xe())).next(e2)}}function JV(n){return bi(n,"collectionParents")}function rh(n){return bi(n,"indexEntries")}function kp(n){return bi(n,"indexConfiguration")}function oh(n){return bi(n,"indexState")}function e2(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;VT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Yr(e.readTime,e.documentKey,t)}const t2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Qi(e,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=i.Y({range:s},(f,p,g)=>(a++,g.delete()));o.push(l.next(()=>{ke(1===a)}));const d=[];for(const f of t.mutations){const p=TL(e,f.key.path,t.batchId);o.push(r.delete(p)),d.push(f.key)}return F.waitFor(o).next(()=>d)}function bb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xe();e=n.noDocument}return JSON.stringify(e).length}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);class wb{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new wb(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=sh(e),s=ul(e);return s.add({}).next(a=>{ke("number"==typeof a);const l=new XT(a,t,i,r),d=function(y,b,w){const I=w.baseMutations.map(A=>Ap(y.ut,A)),k=w.mutations.map(A=>Ap(y.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:k}}(this.serializer,this.userId,l),f=[];let p=new Wt((g,y)=>Ke(g.canonicalString(),y.canonicalString()));for(const g of r){const y=TL(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),f.push(s.put(d)),f.push(o.put(y,kQ))}return p.forEach(g=>{f.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),F.waitFor(f).next(()=>l)})}lookupMutationBatch(e,t){return ul(e).get(t).next(i=>i?(ke(i.userId===this.userId),jc(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?F.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ul(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ke(a.batchId>=i),o=jc(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ul(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).W("userMutationsIndex",t).next(i=>i.map(r=>jc(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=tb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return sh(e).Y({range:r},(s,a,l)=>{const[d,f,p]=s,g=Ts(f);if(d===this.userId&&t.path.isEqual(g))return ul(e).get(p).next(y=>{if(!y)throw xe();ke(y.userId===this.userId),o.push(jc(this.serializer,y))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wt(Ke);const r=[];return t.forEach(o=>{const s=tb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=sh(e).Y({range:a},(d,f,p)=>{const[g,y,b]=d,w=Ts(y);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(l)}),F.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=tb(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Wt(Ke);return sh(e).Y({range:s},(l,d,f)=>{const[p,g,y]=l,b=Ts(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(y)):f.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(ul(e).get(o).next(s=>{if(null===s)throw xe();ke(s.userId===this.userId),i.push(jc(this.serializer,s))}))}),F.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return n2(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),F.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return F.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return sh(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Ts(o[1]);r.push(l)}else a.done()}).next(()=>{ke(0===r.length)})})}containsKey(e,t){return r2(e,this.userId,t)}Mn(e){return o2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function r2(n,e,t){const i=tb(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return sh(n).Y({range:o,J:!0},(a,l,d)=>{const[f,p,g]=a;f===e&&p===r&&(s=!0),d.done()}).next(()=>s)}function ul(n){return bi(n,"mutations")}function sh(n){return bi(n,"documentMutations")}function o2(n){return bi(n,"mutationQueues")}class Hc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Hc(0)}static Nn(){return new Hc(-1)}}class qY{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Hc(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Ne.fromTimestamp(new En(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ah(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(ke(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return ah(e).Y((s,a)=>{const l=Sp(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>F.waitFor(o)).next(()=>r)}forEachTarget(e,t){return ah(e).Y((i,r)=>{const o=Sp(r);t(o)})}Bn(e){return s2(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return s2(e).put("targetGlobalKey",t)}kn(e,t){return ah(e).put($V(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Fc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ah(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const d=Sp(a);gp(t,d.target)&&(o=d,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=hl(e);return t.forEach(s=>{const a=Zi(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),F.waitFor(r)}removeMatchingKeys(e,t,i){const r=hl(e);return F.forEach(t,o=>{const s=Zi(o.path);return F.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=hl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=hl(e);let o=nt();return r.Y({range:i,J:!0},(s,a,l)=>{const d=Ts(s[1]),f=new ge(d);o=o.add(f)}).next(()=>o)}containsKey(e,t){const i=Zi(t.path),r=IDBKeyRange.bound([i],[gL(i)],!1,!0);let o=0;return hl(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}_t(e,t){return ah(e).get(t).next(i=>i?Sp(i):null)}}function ah(n){return bi(n,"targets")}function s2(n){return bi(n,"targetGlobal")}function hl(n){return bi(n,"targetDocuments")}function a2([n,e],[t,i]){const r=Ke(n,t);return 0===r?Ke(e,i):r}class GY{constructor(e){this.Qn=e,this.buffer=new Wt(a2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();a2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ee.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){tl(i)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield el(i)}yield t.Gn(3e5)}))}}class WY{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return F.resolve(Xr._e);const i=new GY(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(t2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,l,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(d=Date.now(),$u()<=ws.in.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-f}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${p} documents in `+(d-l)+`ms\nTotal Duration: ${d-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class KY{constructor(e,t){this.db=e,this.garbageCollector=function c2(n,e){return new WY(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return Eb(e,i)}removeReference(e,t,i){return Eb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Eb(e,t)}Xn(e,t){return function(r,o){let s=!1;return o2(r).Z(a=>r2(r,a,o).next(l=>(l&&(s=!0),F.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const l=this.Xn(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Ne.min()),hl(e).delete([0,Zi(s.path)])))});r.push(l)}}).next(()=>F.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Eb(e,t)}Zn(e,t){const i=hl(e);let r,o=Xr._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:d})=>{0===s?(o!==Xr._e&&t(new ge(Ts(r)),o),o=d,r=l):o=Xr._e}).next(()=>{o!==Xr._e&&t(new ge(Ts(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eb(n,e){return hl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Zi(e.path),sequenceNumber:r}));var r}class d2{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?F.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return qc(e).put(i)}removeEntry(e,t,i){return qc(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],gb(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=pn.newInvalidDocument(t);return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Pp(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:pn.newInvalidDocument(t)};return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Pp(t))},(r,o)=>{i={document:this.tr(t,o),size:bb(o)}}).next(()=>i)}getEntries(e,t){let i=Or();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Or(),r=new an(ge.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,bb(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return F.resolve();let r=new Wt(m2);t.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Pp(r.first()),Pp(r.last())),s=r.getIterator();let a=s.getNext();return qc(e).Y({index:"documentKeyIndex",range:o},(l,d,f)=>{const p=ge.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&m2(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?f.U(Pp(a)):f.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),gb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qc(e).W(IDBKeyRange.bound(a,l,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let f=Or();for(const p of d){const g=this.tr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(yp(t,g)||r.has(g.key))&&(f=f.insert(g.key,g))}return f})}getAllFromCollectionGroup(e,t,i,r){let o=Or();const s=f2(t,i),a=f2(t,Yr.max());return qc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,d,f)=>{const p=this.tr(ge.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===r&&f.done()}).next(()=>o)}newChangeBuffer(e){return new QY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return h2(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return h2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function FY(n,e){let t;if(e.document)t=NV(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ge.fromSegments(e.noDocument.path),r=Bc(e.noDocument.readTime);t=pn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe();{const i=ge.fromSegments(e.unknownDocument.path),r=Bc(e.unknownDocument.version);t=pn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new En(r[0],r[1]);return Ne.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ne.min()))return i}return pn.newInvalidDocument(e)}}function u2(n){return new ZY(n)}class QY extends d2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new la(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Wt((o,s)=>Ke(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=jV(this._r.serializer,s);r=r.add(o.path.popLast());const d=bb(l);i+=d-a.size,t.push(this._r.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=jV(this._r.serializer,s.convertToNoDocument(Ne.min()));t.push(this._r.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),F.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function h2(n){return bi(n,"remoteDocumentGlobal")}function qc(n){return bi(n,"remoteDocumentsV14")}function Pp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f2(n,e){const t=e.documentKey.path.toArray();return[n,gb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function m2(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Ke(t[o],i[o]),r)return r;return r=Ke(t.length,i.length),r||(r=Ke(t[t.length-2],i[i.length-2]),r||Ke(t[t.length-1],i[i.length-1]))}class YY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class p2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ep(i.mutation,r,Nr.empty(),En.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=vp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Or();const s=bp(),a=bp();return t.forEach((l,d)=>{const f=i.get(d.key);r.has(d.key)&&(void 0===f||f.mutation instanceof ca)?o=o.insert(d.key,d):void 0!==f?(s.set(d.key,f.mutation.getFieldMask()),Ep(f.mutation,d,f.mutation.getFieldMask(),En.now())):s.set(d.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var p;return a.set(d,new YY(f,null!==(p=s.get(d))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=bp();let r=new an((s,a)=>s-a),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const d=t.get(l);if(null===d)return;let f=i.get(l)||Nr.empty();f=a.applyToLocalView(d,f),i.set(l,f);const p=(r.get(a.batchId)||nt()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,f=l.value,p=oV();f.forEach(g=>{if(!o.has(g)){const y=mV(t.get(g),i.get(g));null!==y&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return F.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):KT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):F.resolve(Ds());let a=-1,l=o;return s.next(d=>F.forEach(d,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,nt())).next(f=>({batchId:a,changes:rV(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=vp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=vp();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,l=>{const d=(p=t,g=l.child(o),new aa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,d)=>{const f=d.getKey();null===s.get(f)&&(s=s.insert(f,pn.newInvalidDocument(f)))});let a=vp();return s.forEach((l,d)=>{const f=o.get(l);void 0!==f&&Ep(f.mutation,d,Nr.empty(),En.now()),yp(t,d)&&(a=a.insert(l,d))}),a})}}class XY{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return F.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Qn(r.createTime)}),F.resolve();var r}getNamedQuery(e,t){return F.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:aC(r.bundledQuery),readTime:Qn(r.readTime)}),F.resolve();var r}}class JY{constructor(){this.overlays=new an(ge.comparator),this.lr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ds();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),F.resolve()}getOverlaysForCollection(e,t,i){const r=Ds(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new an((d,f)=>d-f);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let f=o.get(d.largestBatchId);null===f&&(f=Ds(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=Ds(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=r)););return F.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new eC(t,i));let o=this.lr.get(t);void 0===o&&(o=nt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class mC{constructor(){this.hr=new Wt(wi.Pr),this.Ir=new Wt(wi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new wi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new wi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new Dt([])),i=new wi(t,e),r=new wi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new Dt([])),i=new wi(t,e),r=new wi(t,e+1);let o=nt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new wi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class wi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Ke(e.gr,t.gr)}static Tr(e,t){return Ke(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class eX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Wt(wi.Pr)}checkEmpty(e){return F.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new XT(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new wi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new wi(t,0),r=new wi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wt(Ke);return t.forEach(r=>{const o=new wi(r,0),s=new wi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),F.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new wi(new ge(o),0);let a=new Wt(Ke);return this.yr.forEachWhile(l=>{const d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(l.gr)),!0)},s),F.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return F.forEach(t.mutations,r=>{const o=new wi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new wi(t,0),r=this.yr.firstAfterOrEqual(i);return F.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return F.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tX{constructor(e){this.Cr=e,this.docs=new an(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return F.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let i=Or();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():pn.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Or();const s=t.path,a=new ge(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||VT(yL(f),i)<=0||(r.has(f.key)||yp(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,i,r){xe()}vr(e,t){return F.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nX(this)}getSize(e){return F.resolve(this.size)}}class nX extends d2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),F.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class iX{constructor(e){this.persistence=e,this.Fr=new la(t=>Fc(t),gp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new mC,this.targetCount=0,this.Nr=Hc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),F.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Hc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.kn(t),F.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(o).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return F.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),F.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),F.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return F.resolve(i)}containsKey(e,t){return F.resolve(this.Or.containsKey(t))}}class pC{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Xr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iX(this),this.indexManager=new zY,this.remoteDocumentCache=new tX(i=>this.referenceDelegate.Qr(i)),this.serializer=new BV(t),this.Kr=new XY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new eX(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new rX(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return F.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class rX extends bL{constructor(e){super(),this.currentSequenceNumber=e}}class Ib{constructor(e){this.persistence=e,this.Gr=new mC,this.zr=null}static jr(e){return new Ib(e)}get Hr(){if(this.zr)return this.zr;throw xe()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),F.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Ne.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return F.or([()=>F.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class oX{constructor(e){this.serializer=e}N(e,t,i,r){const o=new eb("createOrUpgrade",t);var l;i<1&&r>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xL,{unique:!0}),l.createObjectStore("documentMutations"),g2(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),g2(e)),s=s.next(()=>function(l){const d=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,d){return d.store("mutations").W().next(f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xL,{unique:!0});const p=d.store("mutations"),g=f.map(y=>p.put(y));return F.waitFor(g)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const d=l.createObjectStore("documentOverlays",{keyPath:HQ});d.createIndex("collectionPathOverlayIndex",qQ,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",GQ,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:PQ});d.createIndex("documentKeyIndex",NQ),d.createIndex("collectionGroupIndex",OQ)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:BQ}).createIndex("sequenceNumberIndex",jQ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:$Q}).createIndex("documentKeyIndex",zQ,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=bb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>F.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>F.forEach(a,l=>{ke(l.userId===o.userId);const d=jc(this.serializer,l);return n2(e,o.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new Dt(s),d=[0,Zi(l)];o.push(t.get(d).next(f=>f?F.resolve():t.put({targetId:0,path:Zi(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>F.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:UQ});const i=t.store("collectionParents"),r=new fC,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:Zi(l)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Dt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,l],d)=>{const f=Ts(a);return o(f.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=Sp(r),s=$V(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),l=(p=s,p.document?new ge(Dt.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):xe()).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(d))}).next(()=>F.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=u2(this.serializer),o=new pC(Ib.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var d;let f=null!==(d=a.get(l.userId))&&void 0!==d?d:nt();jc(this.serializer,l).keys().forEach(p=>f=f.add(p)),a.set(l.userId,f)}),F.forEach(a,(l,d)=>{const f=new vi(d),p=_b.ct(this.serializer,f),g=o.getIndexManager(f),y=wb.ct(f,this.serializer,g,o.referenceDelegate);return new p2(r,y,p,g).recalculateAndSaveOverlaysForDocumentKeys(new jT(t,Xr._e),l).next()})})}}function g2(n){n.createObjectStore("targetDocuments",{keyPath:LQ}).createIndex("documentTargetsIndex",VQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FQ,{unique:!0}),n.createObjectStore("targetGlobal")}const gC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _C{constructor(e,t,i,r,o,s,a,l,d,f,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=d,this._i=f,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!_C.D())throw new se(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KY(this,r),this.Ii=t+"main",this.serializer=new BV(l),this.Ti=new zo(this.Ii,this.ai,new oX(this.serializer)),this.qr=new qY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=u2(this.serializer),this.Kr=new LY,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===f&&Zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(B.FAILED_PRECONDITION,gC);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Xr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ee.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(tl(e))return le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Np(e).get("owner").next(t=>F.resolve(this.wi(t)))}Si(e){return Tb(e).delete(this.clientId)}bi(){var e=this;return(0,ee.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=bi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return F.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?F.resolve(!0):Np(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new se(B.FAILED_PRECONDITION,gC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tb(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ee.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new jT(t,Xr._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Tb(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return wb.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HY(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return _b.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(l=this.ai)?KQ:14===l?AL:13===l?DL:12===l?WQ:11===l?CL:void xe();var l;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new jT(a,this.Lr?this.Lr.next():Xr._e),"readwrite-primary"===t?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new se(B.FAILED_PRECONDITION,vL);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Np(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new se(B.FAILED_PRECONDITION,gC)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Np(e).put("owner",t)}static D(){return zo.D()}pi(e){const t=Np(e);return t.get("owner").next(i=>this.wi(i)?(le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):F.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Zn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,Xt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Zn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Zn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Np(n){return bi(n,"owner")}function Tb(n){return bi(n,"clientMetadata")}function yC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class vC{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=nt(),r=nt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new vC(e,t.fromCache,i,r)}}class sX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sX;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?($u()<=ws.in.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Yu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),F.resolve()):($u()<=ws.in.DEBUG&&le("QueryEngine","Query:",Yu(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?($u()<=ws.in.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Yu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):F.resolve())}zi(e,t){if(XL(t))return F.resolve(null);let i=vr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=db(t,null,"F"),i=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=nt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const d=this.Yi(t,a);return this.Zi(t,d,s,l.readTime)?this.zi(e,db(t,null,"F")):this.Xi(e,d,t,l)}))})))}ji(e,t,i,r){return XL(t)||r.isEqual(Ne.min())?F.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?F.resolve(null):($u()<=ws.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yu(t)),this.Xi(e,s,t,_L(r,-1)).next(a=>a))})}Yi(e,t){let i=new Wt(nV(e));return t.forEach((r,o)=>{yp(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return $u()<=ws.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.Gi.getDocumentsMatchingQuery(e,t,Yr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class aX{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new an(Ke),this.ns=new la(o=>Fc(o),gp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function y2(n,e,t,i){return new aX(n,e,t,i)}function v2(n,e){return bC.apply(this,arguments)}function bC(){return bC=(0,ee.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=nt();for(const d of r){s.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of o){a.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(i,l).next(d=>({_s:d,removedBatchIds:s,addedBatchIds:a}))})})}),bC.apply(this,arguments)}function b2(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function w2(n,e,t){let i=nt(),r=nt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Or();return t.forEach((a,l)=>{const d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||0===l.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{us:s,cs:r}})}function dX(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lh(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,F.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new da(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function ch(n,e,t){return wC.apply(this,arguments)}function wC(){return wC=(0,ee.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!tl(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),wC.apply(this,arguments)}function Cb(n,e,t){const i=me(n);let r=Ne.min(),o=nt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){const p=me(l),g=p.ns.get(f);return void 0!==g?F.resolve(p.ts.get(g)):p.qr.getTargetData(d,f)}(i,s,vr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Ne.min(),t?o:nt())).next(a=>(x2(i,tV(e),a),{documents:a,ls:o})))}function E2(n,e){const t=me(n),i=me(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function I2(n,e){const t=me(n),i=t.rs.get(e)||Ne.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,_L(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(x2(t,e,r),r))}function x2(n,e,t){let i=n.rs.get(e)||Ne.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function EC(){return EC=(0,ee.Z)(function*(n,e,t,i){const r=me(n);let o=nt(),s=Or();for(const d of t){const f=e.hs(d.metadata.name);d.document&&(o=o.add(f));const p=e.Ps(d);p.setReadTime(e.Is(d.metadata.readTime)),s=s.insert(f,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield lh(r,(f=i,vr(Zu(Dt.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>w2(d,a,s).next(f=>(a.apply(d),f)).next(f=>r.qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>r.qr.addMatchingKeys(d,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,f.us,f.cs)).next(()=>f.us)))}),EC.apply(this,arguments)}function hX(n,e){return IC.apply(this,arguments)}function IC(){return IC=(0,ee.Z)(function*(n,e,t=nt()){const i=yield lh(n,vr(aC(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Qn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(fi.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),IC.apply(this,arguments)}function T2(n,e){return`firestore_clients_${n}_${e}`}function C2(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function xC(n,e){return`firestore_targets_${n}_${e}`}class Db{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new se(r.error.code,r.error.message))),s?new Db(e,t,r.state,o):(Zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Op{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new se(i.error.code,i.error.message))),o?new Op(e,i.state,r):(Zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ab{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=QT();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=EL(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Ab(e,o):(Zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class TC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new TC(t.clientId,t.onlineState):(Zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class CC{constructor(){this.activeTargetIds=QT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new an(Ke),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=T2(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new CC),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ee.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(T2(e.persistenceKey,r));if(o){const s=Ab.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(xC(this.persistenceKey,e));if(i){const r=Op.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xC(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le("SharedClientState","READ",e,t),t}setItem(e,t){le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=Xr._e;if(null!=s)try{const l=JSON.parse(s);ke("number"==typeof l),a=l}catch(l){Zn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Xr._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new Db(this.currentUser,e,t,i),o=C2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=C2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=xC(this.persistenceKey,e),o=new Op(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return Ab.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return Db.Ts(new vi(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return Op.Ts(r,t)}Ms(e){return TC.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=QT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class D2{constructor(){this.eo=new CC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new CC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fX{ro(e){}shutdown(){}}class A2{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sb=null;function AC(){return null===Sb?Sb=268435456+Math.round(2147483648*Math.random()):Sb++,"0x"+Sb.toString(16)}const mX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pX{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Yi="WebChannelConnection";class gX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=AC(),l=this.So(t,i);le("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,o,s),this.Do(t,l,d,r).then(f=>(le("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Pr("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ju,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${mX[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=AC();return new Promise((s,a)=>{const l=new fQ;l.setWithCredentials(!0),l.listenOnce(uQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case OT.NO_ERROR:const f=l.getResponseJson();le(Yi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case OT.TIMEOUT:le(Yi,`RPC '${e}' ${o} timed out`),a(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case OT.HTTP_ERROR:const p=l.getStatus();if(le(Yi,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const b=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(k)>=0?k:B.UNKNOWN}(y.status);a(new se(b,y.message))}else a(new se(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(B.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{le(Yi,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);le(Yi,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",d,i,15)})}vo(e,t,i){const r=AC(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cQ(),a=dQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const f=o.join("");le(Yi,`Creating RPC '${e}' stream ${r}: ${f}`,l);const p=s.createWebChannel(f,l);let g=!1,y=!1;const b=new pX({co:I=>{y?le(Yi,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(g||(le(Yi,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),le(Yi,`RPC '${e}' stream ${r} sending:`,I),p.send(I))},lo:()=>p.close()}),w=(I,k,A)=>{I.listen(k,L=>{try{A(L)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Jv.EventType.OPEN,()=>{y||le(Yi,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Jv.EventType.CLOSE,()=>{y||(y=!0,le(Yi,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Jv.EventType.ERROR,I=>{y||(y=!0,Pr(Yi,`RPC '${e}' stream ${r} transport errored:`,I),b.Ro(new se(B.UNAVAILABLE,"The operation could not be completed")))}),w(p,Jv.EventType.MESSAGE,I=>{var k;if(!y){const A=I.data[0];ke(!!A);const Y=A.error||(null===(k=A[0])||void 0===k?void 0:k.error);if(Y){le(Yi,`RPC '${e}' stream ${r} received error:`,Y);const de=Y.status;let Pe=function(Ir){const Fr=ii[Ir];if(void 0!==Fr)return bV(Fr)}(de),qe=Y.message;void 0===Pe&&(Pe=B.INTERNAL,qe="Unknown error status: "+de+" with message "+Y.message),y=!0,b.Ro(new se(Pe,qe)),p.close()}else le(Yi,`RPC '${e}' stream ${r} received:`,A),b.Vo(A)}}),w(a,hQ.STAT_EVENT,I=>{I.stat===uL.PROXY?le(Yi,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===uL.NOPROXY&&le(Yi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function S2(){return typeof window<"u"?window:null}function Mb(){return typeof document<"u"?document:null}function Fp(n){return new CY(n,!0)}class SC{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class M2{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new SC(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,ee.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,ee.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,ee.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===B.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new se(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,ee.Z)(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _X extends M2{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function SY(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:xe(),r=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(ke(void 0===f||"string"==typeof f),fi.fromBase64String(f||"")):(ke(void 0===f||f instanceof Uint8Array),fi.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const f=void 0===d.code?B.UNKNOWN:bV(d.code);return new se(f,d.message||"")}(s);t=new TV(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=As(n,i.document.name),o=Qn(i.document.updateTime),s=i.document.createTime?Qn(i.document.createTime):Ne.min(),a=new ki({mapValue:{fields:i.document.fields}}),l=pn.newFoundDocument(r,o,s,a);t=new pb(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=As(n,i.document),o=i.readTime?Qn(i.readTime):Ne.min(),s=pn.newNoDocument(r,o);t=new pb([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=As(n,i.document);t=new pb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new bY(r,o);t=new xV(i.targetId,s)}}var d;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?Qn(s.readTime):Ne.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Dp(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=lb(l)?{documents:OV(o,l)}:{query:sC(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SV(o,s.resumeToken);const d=nC(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ne.min())>0){a.readTime=nh(o,s.snapshotVersion.toTimestamp());const d=nC(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function RY(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.e_(t)}}class yX extends M2{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function MY(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(r,o){let s=Qn(r.updateTime?r.updateTime:o);return s.isEqual(Ne.min())&&(s=Qn(o)),new gY(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.I_(i,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dp(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ap(this.serializer,i))};this.e_(t)}}class vX extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new se(B.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class wX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Zn(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class EX{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,ee.Z)(function*(){var l;fl(s)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ee.Z)(function*(f){const p=me(f);p.C_.add(4),yield dh(p),p.M_.set("Unknown"),p.C_.delete(4),yield Lp(p)}),function d(f){return l.apply(this,arguments)})(s))}))}),this.M_=new wX(i,r)}}function Lp(n){return RC.apply(this,arguments)}function RC(){return RC=(0,ee.Z)(function*(n){if(fl(n))for(const e of n.v_)yield e(!0)}),RC.apply(this,arguments)}function dh(n){return kC.apply(this,arguments)}function kC(){return kC=(0,ee.Z)(function*(n){for(const e of n.v_)yield e(!1)}),kC.apply(this,arguments)}function Rb(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),OC(t)?NC(t):hh(t).Ho()&&PC(t,e))}function Vp(n,e){const t=me(n),i=hh(t);t.D_.delete(e),i.Ho()&&R2(t,e),0===t.D_.size&&(i.Ho()?i.Zo():fl(t)&&t.M_.set("Unknown"))}function PC(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hh(n).u_(e)}function R2(n,e){n.x_.Oe(e),hh(n).c_(e)}function NC(n){n.x_=new EY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),hh(n).start(),n.M_.g_()}function OC(n){return fl(n)&&!hh(n).jo()&&n.D_.size>0}function fl(n){return 0===me(n).C_.size}function k2(n){n.x_=void 0}function IX(n){return FC.apply(this,arguments)}function FC(){return FC=(0,ee.Z)(function*(n){n.D_.forEach((e,t)=>{PC(n,e)})}),FC.apply(this,arguments)}function xX(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,ee.Z)(function*(n,e){k2(n),OC(n)?(n.M_.w_(e),NC(n)):n.M_.set("Unknown")}),LC.apply(this,arguments)}function TX(n,e,t){return VC.apply(this,arguments)}function VC(){return VC=(0,ee.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof TV&&2===e.state&&e.cause)try{yield(i=(0,ee.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield kb(n,i)}else if(e instanceof pb?n.x_.$e(e):e instanceof xV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Ne.min()))try{const i=yield b2(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.D_.get(d);f&&o.D_.set(d,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{const f=o.D_.get(l);if(!f)return;o.D_.set(l,f.withResumeToken(fi.EMPTY_BYTE_STRING,f.snapshotVersion)),R2(o,l);const p=new da(f.target,l,d,f.sequenceNumber);PC(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield kb(n,i)}var i}),VC.apply(this,arguments)}function kb(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,ee.Z)(function*(n,e,t){if(!tl(e))throw e;n.C_.add(1),yield dh(n),n.M_.set("Offline"),t||(t=()=>b2(n.localStore)),n.asyncQueue.enqueueRetryable((0,ee.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Lp(n)}))}),UC.apply(this,arguments)}function P2(n,e){return e().catch(t=>kb(n,t,e))}function uh(n){return BC.apply(this,arguments)}function BC(){return BC=(0,ee.Z)(function*(n){const e=me(n),t=ml(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;CX(e);)try{const r=yield dX(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,DX(e,r)}catch(r){yield kb(e,r)}N2(e)&&O2(e)}),BC.apply(this,arguments)}function CX(n){return fl(n)&&n.b_.length<10}function DX(n,e){n.b_.push(e);const t=ml(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function N2(n){return fl(n)&&!ml(n).jo()&&n.b_.length>0}function O2(n){ml(n).start()}function AX(n){return jC.apply(this,arguments)}function jC(){return jC=(0,ee.Z)(function*(n){ml(n).E_()}),jC.apply(this,arguments)}function SX(n){return $C.apply(this,arguments)}function $C(){return $C=(0,ee.Z)(function*(n){const e=ml(n);for(const t of n.b_)e.P_(t.mutations)}),$C.apply(this,arguments)}function MX(n,e,t){return zC.apply(this,arguments)}function zC(){return zC=(0,ee.Z)(function*(n,e,t){const i=n.b_.shift(),r=JT.from(i,e,t);yield P2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield uh(n)}),zC.apply(this,arguments)}function RX(n,e){return HC.apply(this,arguments)}function HC(){return HC=(0,ee.Z)(function*(n,e){var t;e&&ml(n).h_&&(yield(t=(0,ee.Z)(function*(r,o){if(vV(a=o.code)&&a!==B.ABORTED){const s=r.b_.shift();ml(r).Yo(),yield P2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield uh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),N2(n)&&O2(n)}),HC.apply(this,arguments)}function F2(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,ee.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=fl(t);t.C_.add(3),yield dh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Lp(t)}),qC.apply(this,arguments)}function GC(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,ee.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield Lp(t)):e||(t.C_.add(2),yield dh(t),t.M_.set("Unknown"))}),WC.apply(this,arguments)}function hh(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new _X(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:IX.bind(null,n),Io:xX.bind(null,n),a_:TX.bind(null,n)}),n.v_.push(function(){var e=(0,ee.Z)(function*(t){t?(n.O_.Yo(),OC(n)?NC(n):n.M_.set("Unknown")):(yield n.O_.stop(),k2(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function ml(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new yX(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:AX.bind(null,n),Io:RX.bind(null,n),T_:SX.bind(null,n),I_:MX.bind(null,n)}),n.v_.push(function(){var e=(0,ee.Z)(function*(t){t?(n.N_.Yo(),yield uh(n)):(yield n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class KC{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new KC(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fh(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),tl(n))return new se(B.UNAVAILABLE,`${e}: ${n}`);throw n}class mh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=vp(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new mh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new mh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class L2{constructor(){this.B_=new an(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):xe():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ph{constructor(e,t,i,r,o,s,a,l,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new ph(e,t,mh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class kX{constructor(){this.k_=void 0,this.listeners=[]}}class PX{constructor(){this.queries=new la(e=>eV(e),_p),this.onlineState="Unknown",this.q_=new Set}}function ZC(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,ee.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new kX),r)try{o.k_=yield t.onListen(i)}catch(s){const a=fh(s,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&JC(t)}),QC.apply(this,arguments)}function YC(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,ee.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),XC.apply(this,arguments)}function NX(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&JC(t)}function OX(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function JC(n){n.q_.forEach(e=>{e.next()})}class eD{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ph(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class FX{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class V2{constructor(e){this.serializer=e}hs(e){return As(this.serializer,e)}Ps(e){return e.metadata.exists?NV(this.serializer,e.document,!1):pn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Qn(e)}}class LX{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=U2(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Dt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new V2(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||nt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,ee.Z)(function*(){const t=yield function uX(n,e,t,i){return EC.apply(this,arguments)}(e.localStore,new V2(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield hX(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function U2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class B2{constructor(e){this.key=e}}class j2{constructor(e){this.key=e}}class $2{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=nt(),this.mutatedKeys=nt(),this._a=nV(e),this.aa=new mh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new L2,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{const g=r.get(f),y=yp(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;g&&y?g.data.isEqual(y.data)?b!==w&&(i.track({type:3,doc:y}),I=!0):this.ha(g,y)||(i.track({type:2,doc:y}),I=!0,(l&&this._a(y,l)>0||d&&this._a(y,d)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),I=!0):g&&!y&&(i.track({type:1,doc:g}),I=!0,(l||d)&&(a=!0)),I&&(y?(s=s.add(y),o=w?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const f="F"===this.query.limitType?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((f,p)=>function(y,b){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return w(y)-w(b)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i),r=null!=r&&r;const a=t&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,d=l!==this.sa;return this.sa=l,0!==s.length||d?{snapshot:new ph(this.query,e.aa,o,s,e.mutatedKeys,0===l,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new L2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=nt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new j2(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new B2(i))}),t}da(e){this.ia=e.ls,this.oa=nt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return ph.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class VX{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UX{constructor(e){this.key=e,this.Ra=!1}}class BX{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new la(a=>eV(a),_p),this.fa=new Map,this.ga=new Set,this.pa=new an(ge.comparator),this.ya=new Map,this.wa=new mC,this.Sa={},this.ba=new Map,this.Da=Hc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function jX(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,ee.Z)(function*(n,e){const t=xD(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield lh(t.localStore,vr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield nD(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Rb(t.remoteStore,s)}return r}),tD.apply(this,arguments)}function nD(n,e,t,i,r){return iD.apply(this,arguments)}function iD(){return iD=(0,ee.Z)(function*(n,e,t,i,r){n.va=(p,g,y)=>{return(b=(0,ee.Z)(function*(I,k,A,L){let Y=k.view.ca(A);Y.Zi&&(Y=yield Cb(I.localStore,k.query,!1).then(({documents:Ut})=>k.view.ca(Ut,Y)));const de=L&&L.targetChanges.get(k.targetId),Pe=L&&null!=L.targetMismatches.get(k.targetId),qe=k.view.applyChanges(Y,I.isPrimaryClient,de,Pe);return fD(I,k.targetId,qe.Ta),qe.snapshot}),function w(I,k,A,L){return b.apply(this,arguments)})(n,p,g,y);var b};const o=yield Cb(n.localStore,e,!0),s=new $2(e,o.ls),a=s.ca(o.documents),l=Tp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=s.applyChanges(a,n.isPrimaryClient,l);fD(n,t,d.Ta);const f=new VX(e,t,s);return n.ma.set(e,f),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),iD.apply(this,arguments)}function $X(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,ee.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!_p(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ch(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Vp(t.remoteStore,i.targetId),gh(t,i.targetId)}).catch(el))):(gh(t,i.targetId),yield ch(t.localStore,i.targetId,!0))}),rD.apply(this,arguments)}function oD(){return oD=(0,ee.Z)(function*(n,e,t){const i=TD(n);try{const r=yield function(s,a){const l=me(s),d=En.now(),f=a.reduce((y,b)=>y.add(b.key),nt());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Or(),w=nt();return l.ss.getEntries(y,f).next(I=>{b=I,b.forEach((k,A)=>{A.isValidDocument()||(w=w.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(I=>{p=I;const k=[];for(const A of a){const L=yY(A,p.get(A.key).overlayedDocument);null!=L&&k.push(new ca(A.key,L,UL(L.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,k,a)}).next(I=>{g=I;const k=I.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(y,I.batchId,k)})}).then(()=>({batchId:g.batchId,changes:rV(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.Sa[s.currentUser.toKey()];d||(d=new an(Ke)),d=d.insert(a,l),s.Sa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield ua(i,r.changes),yield uh(i.remoteStore)}catch(r){const o=fh(r,"Failed to persist write");t.reject(o)}}),oD.apply(this,arguments)}function z2(n,e){return sD.apply(this,arguments)}function sD(){return sD=(0,ee.Z)(function*(n,e){const t=me(n);try{const i=yield function cX(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((f,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,f.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);var w,I,k;null!==e.targetMismatches.get(p)?y=y.withResumeToken(fi.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(p,y),I=y,k=f,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Or(),d=nt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(w2(o,s,e.documentUpdates).next(f=>{l=f.us,d=f.cs})),!i.isEqual(Ne.min())){const f=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(f)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ke(s.Ra):r.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield ua(t,i,e)}catch(i){yield el(i)}}),sD.apply(this,arguments)}function H2(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let d=!1;l.queries.forEach((f,p)=>{for(const g of p.listeners)g.Q_(a)&&(d=!0)}),d&&JC(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function HX(n,e,t){return aD.apply(this,arguments)}function aD(){return aD=(0,ee.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new an(ge.comparator);s=s.insert(o,pn.newNoDocument(o,Ne.min()));const a=nt().add(o),l=new xp(Ne.min(),new Map,new an(Ke),s,a);yield z2(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),mD(i)}else yield ch(i.localStore,e,!1).then(()=>gh(i,e,t)).catch(el)}),aD.apply(this,arguments)}function qX(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,ee.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function lX(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,d,f){const p=d.batch,g=p.keys();let y=F.resolve();return g.forEach(b=>{y=y.next(()=>f.getEntry(l,b)).next(w=>{const I=d.docVersions.get(b);ke(null!==I),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),f.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=nt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);hD(t,i,null),uD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ua(t,r)}catch(r){yield el(r)}}),lD.apply(this,arguments)}function GX(n,e,t){return cD.apply(this,arguments)}function cD(){return cD=(0,ee.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,a).next(p=>(ke(null!==p),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,e);hD(i,e,t),uD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ua(i,r)}catch(r){yield el(r)}}),cD.apply(this,arguments)}function dD(){return dD=(0,ee.Z)(function*(n,e){const t=me(n);fl(t.remoteStore)||le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=fh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),dD.apply(this,arguments)}function uD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function hD(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function gh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||q2(n,i)})}function q2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Vp(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),mD(n))}function fD(n,e,t){for(const i of t)i instanceof B2?(n.wa.addReference(i.key,e),KX(n,i)):i instanceof j2?(le("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||q2(n,i.key)):xe()}function KX(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(i),mD(n))}function mD(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(Dt.fromString(e)),i=n.Da.next();n.ya.set(i,new UX(t)),n.pa=n.pa.insert(t,i),Rb(n.remoteStore,new da(vr(Zu(t.path)),i,"TargetPurposeLimboResolution",Xr._e))}}function ua(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=(0,ee.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(d=>{if((d||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);const f=vC.Qi(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,ee.Z)(function*(d,f){const p=me(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>F.forEach(f,y=>F.forEach(y.ki,b=>p.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>F.forEach(y.qi,b=>p.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!tl(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const b=p.ts.get(y),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(y,I)}}}),function l(d,f){return a.apply(this,arguments)})(i.localStore,o))}),pD.apply(this,arguments)}function ZX(n,e){return gD.apply(this,arguments)}function gD(){return gD=(0,ee.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=yield v2(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new se(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ua(t,i._s)}var o}),gD.apply(this,arguments)}function QX(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return nt().add(i.key);{let r=nt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function YX(n,e){return _D.apply(this,arguments)}function _D(){return _D=(0,ee.Z)(function*(n,e){const t=me(n),i=yield Cb(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&fD(t,e.targetId,r.Ta),r}),_D.apply(this,arguments)}function XX(n,e){return yD.apply(this,arguments)}function yD(){return yD=(0,ee.Z)(function*(n,e){const t=me(n);return I2(t.localStore,e).then(i=>ua(t,i))}),yD.apply(this,arguments)}function JX(n,e,t,i){return vD.apply(this,arguments)}function vD(){return vD=(0,ee.Z)(function*(n,e,t,i){const r=me(n),o=yield function(a,l){const d=me(a),f=me(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.Cn(p,l).next(g=>g?d.localDocuments.getDocuments(p,g):F.resolve(null)))}(r.localStore,e);var l;null!==o?("pending"===t?yield uh(r.remoteStore):"acknowledged"===t||"rejected"===t?(hD(r,e,i||null),uD(r,e),l=e,me(me(r.localStore).mutationQueue).Fn(l)):xe(),yield ua(r,o)):le("SyncEngine","Cannot apply mutation batch with id: "+e)}),vD.apply(this,arguments)}function bD(){return bD=(0,ee.Z)(function*(n,e){const t=me(n);if(xD(t),TD(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield G2(t,i.toArray());t.Ca=!0,yield GC(t.remoteStore,!0);for(const o of r)Rb(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(gh(t,s),ch(t.localStore,s,!0))),Vp(t.remoteStore,s)}),yield r,yield G2(t,i),function(s){const a=me(s);a.ya.forEach((l,d)=>{Vp(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new an(ge.comparator)}(t),t.Ca=!1,yield GC(t.remoteStore,!1)}}),bD.apply(this,arguments)}function G2(n,e,t){return wD.apply(this,arguments)}function wD(){return wD=(0,ee.Z)(function*(n,e,t){const i=me(n),r=[],o=[];for(const s of e){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield lh(i.localStore,vr(l[0]));for(const d of l){const f=i.ma.get(d),p=yield YX(i,f);p.snapshot&&o.push(p.snapshot)}}else{const d=yield E2(i.localStore,s);a=yield lh(i.localStore,d),yield nD(i,W2(d),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),wD.apply(this,arguments)}function W2(n){return YL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tJ(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function nJ(n,e,t,i){return ED.apply(this,arguments)}function ED(){return ED=(0,ee.Z)(function*(n,e,t,i){const r=me(n);if(r.Ca)return void le("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield I2(r.localStore,tV(o[0])),a=xp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fi.EMPTY_BYTE_STRING);yield ua(r,s,a);break}case"rejected":yield ch(r.localStore,e,!0),gh(r,e,i);break;default:xe()}}),ED.apply(this,arguments)}function iJ(n,e,t){return ID.apply(this,arguments)}function ID(){return ID=(0,ee.Z)(function*(n,e,t){const i=xD(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){le("SyncEngine","Adding an already active target "+r);continue}const o=yield E2(i.localStore,r),s=yield lh(i.localStore,o);yield nD(i,W2(o),s.targetId,!1,s.resumeToken),Rb(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield ch(i.localStore,r,!1).then(()=>{Vp(i.remoteStore,r),gh(i,r)}).catch(el))}}),ID.apply(this,arguments)}function xD(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HX.bind(null,e),e.Va.a_=NX.bind(null,e.eventManager),e.Va.Fa=OX.bind(null,e.eventManager),e}function TD(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GX.bind(null,e),e}class Up{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ee.Z)(function*(){t.serializer=Fp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return y2(this.persistence,new _2,e.initialUser,this.serializer)}createPersistence(e){return new pC(Ib.jr,this.serializer)}createSharedClientState(e){return new D2}terminate(){var e=this;return(0,ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CD extends Up{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ee.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield TD(i.xa.syncEngine),yield uh(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return y2(this.persistence,new _2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new l2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new MQ(t,this.persistence);return new SQ(e.asyncQueue,i)}createPersistence(e){const t=yC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new _C(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,S2(),Mb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new D2}}class K2 extends CD{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ee.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof DC&&(i.sharedClientState.syncEngine={Ys:JX.bind(null,r),Zs:nJ.bind(null,r),Xs:iJ.bind(null,r),Bi:tJ.bind(null,r),Js:XX.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,ee.Z)(function*(s){yield function eJ(n,e){return bD.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=S2();if(!DC.D(t))throw new se(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=yC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class _h{initialize(e,t){var i=this;return(0,ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>H2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZX.bind(null,i.syncEngine),yield GC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new PX}createDatastore(e){const t=Fp(e.databaseInfo.databaseId),i=new gX(e.databaseInfo);return new vX(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>H2(this.syncEngine,t,0),a=A2.D()?new A2:new fX,new EX(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,d,f){const p=new BX(r,o,s,a,l,d);return f&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ee.Z)(function*(i){const r=me(i);le("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield dh(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function Z2(n,e=10240){let t=0;return{read:()=>(0,ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sJ{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new hi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,ee.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,ee.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,ee.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new FX(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,ee.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class aJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new se(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ee.Z)(function*(s,a){const l=me(s),d=Dp(l.serializer)+"/documents",f={documents:a.map(b=>Cp(l.serializer,b))},p=yield l.Co("BatchGetDocuments",d,f,a.length),g=new Map;p.forEach(b=>{const w=function AY(n,e){return"found"in e?function(i,r){ke(!!r.found);const o=As(i,r.found.name),s=Qn(r.found.updateTime),a=r.found.createTime?Qn(r.found.createTime):Ne.min(),l=new ki({mapValue:{fields:r.found.fields}});return pn.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(i,r){ke(!!r.missing),ke(!!r.readTime);const o=As(i,r.missing),s=Qn(r.readTime);return pn.newNoDocument(o,s)}(n,e):xe()}(l.serializer,b);g.set(w.key.toString(),w)});const y=[];return a.forEach(b=>{const w=g.get(b.toString());ke(!!w),y.push(w)}),y}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ge.fromPath(r);e.mutations.push(new YT(o,e.precondition(o)))}),yield(i=(0,ee.Z)(function*(o,s){const a=me(o),l=Dp(a.serializer)+"/documents",d={writes:s.map(f=>Ap(a.serializer,f))};yield a.wo("Commit",l,d)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xe();t=Ne.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new se(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ne.min())?In.exists(!1):In.updateTime(t):In.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ne.min()))throw new se(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return In.updateTime(t)}return In.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lJ{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new SC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,ee.Z)(function*(){const t=new aJ(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!cp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vV(t)}return!1}}class cJ{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=vi.UNAUTHENTICATED,this.clientId=pL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,ee.Z)(function*(a){le("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=fh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Nb(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ee.Z)(function*(o){i.isEqual(o)||(yield v2(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),DD.apply(this,arguments)}function AD(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MD(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>F2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>F2(e.remoteStore,o)),n._onlineComponents=e}),SD.apply(this,arguments)}function Q2(n){return"FirebaseError"===n.name?n.code===B.FAILED_PRECONDITION||n.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function MD(n){return RD.apply(this,arguments)}function RD(){return RD=(0,ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Q2(t))throw t;Pr("Error using user provided cache. Falling back to memory cache: "+t),yield Nb(n,new Up)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield Nb(n,new Up);return n._offlineComponents}),RD.apply(this,arguments)}function Ob(n){return kD.apply(this,arguments)}function kD(){return kD=(0,ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield AD(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield AD(n,new _h))),n._onlineComponents}),kD.apply(this,arguments)}function Y2(n){return MD(n).then(e=>e.persistence)}function yh(n){return MD(n).then(e=>e.localStore)}function X2(n){return Ob(n).then(e=>e.remoteStore)}function PD(n){return Ob(n).then(e=>e.syncEngine)}function vh(n){return ND.apply(this,arguments)}function ND(){return ND=(0,ee.Z)(function*(n){const e=yield Ob(n),t=e.eventManager;return t.onListen=jX.bind(null,e.syncEngine),t.onUnlisten=$X.bind(null,e.syncEngine),t}),ND.apply(this,arguments)}function eU(n,e,t={}){const i=new hi;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(o,s,a,l,d){const f=new Pb({next:g=>{s.enqueueAndForget(()=>YC(o,p));const y=g.docs.has(a);!y&&g.fromCache?d.reject(new se(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?d.reject(new se(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new eD(Zu(a.path),f,{includeMetadataChanges:!0,J_:!0});return ZC(o,p)}(yield vh(n),n.asyncQueue,e,t,i)})),i.promise}function tU(n,e,t={}){const i=new hi;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(o,s,a,l,d){const f=new Pb({next:g=>{s.enqueueAndForget(()=>YC(o,p)),g.fromCache&&"server"===l.source?d.reject(new se(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new eD(a,f,{includeMetadataChanges:!0,J_:!0});return ZC(o,p)}(yield vh(n),n.asyncQueue,e,t,i)})),i.promise}function nU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iU=new Map;function OD(n,e,t){if(!t)throw new se(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rU(n,e,t,i){if(!0===e&&!0===i)throw new se(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oU(n){if(!ge.isDocumentKey(n))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sU(n){if(ge.isDocumentKey(n))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":xe()}function gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fb(n);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aU(n,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lU(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new _Q;switch(i.type){case"firstParty":return new wQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iU.get(t);i&&(le("ComponentProvider","Removing Datastore"),iU.delete(t),i.terminate())}(this),Promise.resolve()}}class Pi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Ss extends Pi{constructor(e,t,i){super(e,t,Zu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ge(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function dU(n,e,...t){if(n=(0,Xt.m9)(n),OD("collection","path",e),n instanceof Bp){const i=Dt.fromString(e,...t);return sU(i),new Ss(n,null,i)}{if(!(n instanceof gn||n instanceof Ss))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return sU(i),new Ss(n.firestore,null,i)}}function Lb(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=pL.newId()),OD("doc","path",e),n instanceof Bp){const i=Dt.fromString(e,...t);return oU(i),new gn(n,null,new ge(i))}{if(!(n instanceof gn||n instanceof Ss))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return oU(i),new gn(n.firestore,n instanceof Ss?n.converter:null,new ge(i))}}function uU(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof gn||n instanceof Ss)&&(e instanceof gn||e instanceof Ss)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function FD(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Pi&&e instanceof Pi&&n.firestore===e.firestore&&_p(n._query,e._query)&&n.converter===e.converter}class wJ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new SC(this,"async_queue_retry"),this.iu=()=>{const t=Mb();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Mb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Mb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new hi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,ee.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!tl(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=KC.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&xe()}verifyOperationInProgress(){}uu(){var e=this;return(0,ee.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function LD(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class EJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ln extends Bp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new wJ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hU(this),this._firestoreClient.terminate()}}function jn(n){return n._firestoreClient||hU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hU(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YQ(n._databaseId,l,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nU(f.experimentalLongPollingOptions),f.useFetchStreams));var l,f;n._firestoreClient=new cJ(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function fU(n,e,t){const i=new hi;return n.asyncQueue.enqueue((0,ee.Z)(function*(){try{yield Nb(n,t),yield AD(n,e),i.resolve()}catch(r){const o=r;if(!Q2(o))throw o;Pr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function mU(n){if(n._initialized||n._terminated)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(fi.fromBase64String(e))}catch(t){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ms(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ha{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gc{constructor(e){this._methodName=e}}class Vb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const PJ=/^__.*__$/;class NJ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new eh(e,this.data,t,this.fieldTransforms)}}class pU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Ub{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ub(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return $b(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(gU(this.Iu)&&PJ.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class OJ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fp(e)}pu(e,t,i,r=!1){return new Ub({Iu:e,methodName:t,gu:i,path:mn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(n){const e=n._freezeSettings(),t=Fp(n._databaseId);return new OJ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bb(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);jD("Data must be an object, but it was:",s,i);const a=vU(i,s);let l,d;if(o.merge)l=new Nr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const g=zp(e,p,t);if(!s.contains(g))throw new se(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wU(f,g)||f.push(g)}l=new Nr(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new NJ(new ki(a),l,d)}class $p extends Gc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $p}}function _U(n,e,t){return new Ub({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class VD extends Gc{_toFieldTransform(e){return new wp(e.path,new Xu)}isEqual(e){return e instanceof VD}}class FJ extends Gc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=_U(this,e,!0),i=this.yu.map(o=>Kc(o,t)),r=new Lc(i);return new wp(e.path,r)}isEqual(e){return this===e}}class LJ extends Gc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=_U(this,e,!0),i=this.yu.map(o=>Kc(o,t)),r=new Vc(i);return new wp(e.path,r)}isEqual(e){return this===e}}class VJ extends Gc{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Ju(e.serializer,lV(e.serializer,this.wu));return new wp(e.path,t)}isEqual(e){return this===e}}function UD(n,e,t,i){const r=n.pu(1,e,t);jD("Data must be an object, but it was:",r,i);const o=[],s=ki.empty();nl(i,(l,d)=>{const f=jb(e,l,t);d=(0,Xt.m9)(d);const p=r.Ru(f);if(d instanceof $p)o.push(f);else{const g=Kc(d,p);null!=g&&(o.push(f),s.set(f,g))}});const a=new Nr(o);return new pU(s,a,r.fieldTransforms)}function BD(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[zp(e,i,t)],l=[r];if(o.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(zp(e,o[g])),l.push(o[g+1]);const d=[],f=ki.empty();for(let g=a.length-1;g>=0;--g)if(!wU(d,a[g])){const y=a[g];let b=l[g];b=(0,Xt.m9)(b);const w=s.Ru(y);if(b instanceof $p)d.push(y);else{const I=Kc(b,w);null!=I&&(d.push(y),f.set(y,I))}}const p=new Nr(d);return new pU(f,p,s.fieldTransforms)}function yU(n,e,t,i=!1){return Kc(t,n.pu(i?4:3,e))}function Kc(n,e){if(bU(n=(0,Xt.m9)(n)))return jD("Unsupported field value:",e,n),vU(n,e);if(n instanceof Gc)return function(i,r){if(!gU(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Kc(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,Xt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return lV(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=En.fromDate(i);return{timestampValue:nh(r.serializer,o)}}if(i instanceof En){const o=new En(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nh(r.serializer,o)}}if(i instanceof Vb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ms)return{bytesValue:SV(r.serializer,i._byteString)};if(i instanceof gn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iC(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Fb(i)}`)}(n,e)}function vU(n,e){const t={};return ML(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(n,(i,r)=>{const o=Kc(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function bU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof En||n instanceof Vb||n instanceof Ms||n instanceof gn||n instanceof Gc)}function jD(n,e,t){if(!bU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=Fb(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function zp(n,e,t){if((e=(0,Xt.m9)(e))instanceof ha)return e._internalPath;if("string"==typeof e)return jb(n,e);throw $b("Field path arguments must be of type string or ",n,!1,void 0,t)}const UJ=new RegExp("[~\\*/\\[\\]]");function jb(n,e,t){if(e.search(UJ)>=0)throw $b(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ha(...e.split("."))._internalPath}catch{throw $b(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $b(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new se(B.INVALID_ARGUMENT,a+n+l)}function wU(n,e){return n.some(t=>t.isEqual(e))}class Hp{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BJ extends Hp{data(){return super.data()}}function zb(n,e){return"string"==typeof e?jb(n,e):e instanceof ha?e._internalPath:e._delegate._internalPath}function EU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $D{}class qp extends $D{}function pl(n,e,...t){let i=[];e instanceof $D&&i.push(e),i=i.concat(t),function(o){const s=o.filter(l=>l instanceof bh).length,a=o.filter(l=>l instanceof Gp).length;if(s>1||s>0&&a>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Gp extends qp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gp(e,t,i)}_apply(e){const t=this._parse(e);return CU(e._query,t),new Pi(e.firestore,e.converter,ZT(e._query,t))}_parse(e){const t=Wc(e.firestore);return function(o,s,a,l,d,f,p){let g;if(d.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){TU(p,f);const y=[];for(const b of p)y.push(xU(l,o,b));g={arrayValue:{values:y}}}else g=xU(l,o,p)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||TU(p,f),g=yU(a,"where",p,"in"===f||"not-in"===f);return vt.create(d,f,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class bh extends $D{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)CU(s,l),s=ZT(s,l)}(e._query,t),new Pi(e.firestore,e.converter,ZT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zD extends qp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zD(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pp(o,s)}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new aa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Hb extends qp{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Hb(e,t,i)}_apply(e){return new Pi(e.firestore,e.converter,db(e._query,this._limit,this._limitType))}}class qb extends qp{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new qb(e,t,i)}_apply(e){const t=IU(e,this.type,this._docOrFields,this._inclusive);return new Pi(e.firestore,e.converter,(o=t,new aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Gb extends qp{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Gb(e,t,i)}_apply(e){const t=IU(e,this.type,this._docOrFields,this._inclusive);return new Pi(e.firestore,e.converter,(o=t,new aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function IU(n,e,t,i){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof Hp)return function(o,s,a,l,d){if(!l)throw new se(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const p of Qu(o))if(p.field.isKeyField())f.push(Oc(s,l.key));else{const g=l.data.field(p.field);if(ib(g))throw new se(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=p.field.canonicalString();throw new se(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(g)}return new ll(f,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Wc(n.firestore);return function(s,a,l,d,f,p){const g=s.explicitOrderBy;if(f.length>g.length)throw new se(B.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let b=0;b<f.length;b++){const w=f[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new se(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!KT(s)&&-1!==w.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const I=s.path.child(Dt.fromString(w));if(!ge.isDocumentKey(I))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const k=new ge(I);y.push(Oc(a,k))}else{const I=yU(l,d,w);y.push(I)}}return new ll(y,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function xU(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&-1!==t.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Dt.fromString(t));if(!ge.isDocumentKey(i))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oc(n,new ge(i))}if(t instanceof gn)return Oc(n,t._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fb(t)}.`)}function TU(n,e){if(!Array.isArray(n)||0===n.length)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CU(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new se(B.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HD{convertValue(e,t="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return nl(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Vb(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(up(e));default:return null}}convertTimestamp(e){const t=il(e);return new En(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Dt.fromString(e);ke(UV(i));const r=new rl(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||Zn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Wb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ZJ extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}class Zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends Hp{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wp extends fa{data(e={}){return super.data(e)}}class gl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wp(this._firestore,this._userDataWriter,i.key,i,new Zc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Wp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Wp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:YJ(a.type),doc:l,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YJ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function AU(n,e){return n instanceof fa&&e instanceof fa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gl&&e instanceof gl&&n._firestore===e._firestore&&FD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class _l extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function SU(n,e,t){n=gt(n,gn);const i=gt(n.firestore,ln),r=Wb(n.converter,e,t);return wh(i,[Bb(Wc(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,In.none())])}function MU(n,e,t,...i){n=gt(n,gn);const r=gt(n.firestore,ln),o=Wc(r);let s;return s="string"==typeof(e=(0,Xt.m9)(e))||e instanceof ha?BD(o,"updateDoc",n._key,e,t,i):UD(o,"updateDoc",n._key,e),wh(r,[s.toMutation(n._key,In.exists(!0))])}function RU(n,...e){var t,i,r;n=(0,Xt.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||LD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(LD(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let l,d,f;if(n instanceof gn)d=gt(n.firestore,ln),f=Zu(n._key.path),l={next:p=>{e[s]&&e[s](qD(d,n,p))},error:e[s+1],complete:e[s+2]};else{const p=gt(n,Pi);d=gt(p.firestore,ln),f=p._query;const g=new _l(d);l={next:y=>{e[s]&&e[s](new gl(d,g,p,y))},error:e[s+1],complete:e[s+2]},EU(n._query)}return function(g,y,b,w){const I=new Pb(w),k=new eD(y,I,b);return g.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return ZC(yield vh(g),k)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return YC(yield vh(g),k)}))}}(jn(d),f,a,l)}function wh(n,e){return function(i,r){const o=new hi;return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function zX(n,e,t){return oD.apply(this,arguments)}(yield PD(i),r,o)})),o.promise}(jn(n),e)}function qD(n,e,t){const i=t.docs.get(e._key),r=new _l(n);return new fa(n,r,e._key,i,new Zc(t.hasPendingWrites,t.fromCache),e.converter)}const pee={maxAttempts:5};class kU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wc(e)}set(e,t,i){this._verifyNotCommitted();const r=yl(e,this._firestore),o=Wb(r.converter,t,i),s=Bb(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,In.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=yl(e,this._firestore);let s;return s="string"==typeof(t=(0,Xt.m9)(t))||t instanceof ha?BD(this._dataReader,"WriteBatch.update",o._key,t,i,r):UD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,In.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yl(e,this._firestore);return this._mutations=this._mutations.concat(new th(t._key,In.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yl(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new se(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gee extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Wc(t)}get(t){const i=yl(t,this._firestore),r=new ZJ(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return xe();const s=o[0];if(s.isFoundDocument())return new Hp(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Hp(this._firestore,r,i._key,null,i.converter);throw xe()})}set(t,i,r){const o=yl(t,this._firestore),s=Wb(o.converter,i,r),a=Bb(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=yl(t,this._firestore);let a;return a="string"==typeof(i=(0,Xt.m9)(i))||i instanceof ha?BD(this._dataReader,"Transaction.update",s._key,i,r,o):UD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=yl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yl(e,this._firestore),i=new _l(this._firestore);return super.get(e).then(r=>new fa(this._firestore,i,t._key,r._document,new Zc(!1,!1),t.converter))}}function WD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function FU(){if(typeof Uint8Array>"u")throw new se("unimplemented","Uint8Arrays are not available in this environment.")}function LU(){if(!function ZQ(){return typeof atob<"u"}())throw new se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ju=Ru.SDK_VERSION,(0,Ru._registerComponent)(new KO.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ln(new vQ(i.getProvider("auth-internal")),new EQ(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ru.registerVersion)(hL,"4.4.0",e),(0,Ru.registerVersion)(hL,"4.4.0","esm2017")}();class Kp{constructor(e){this._delegate=e}static fromBase64String(e){return LU(),new Kp(Ms.fromBase64String(e))}static fromUint8Array(e){return FU(),new Kp(Ms.fromUint8Array(e))}toBase64(){return LU(),this._delegate.toBase64()}toUint8Array(){return FU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KD(n){return function Cee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Dee{enableIndexedDbPersistence(e,t){return function xJ(n,e){mU(n=gt(n,ln));const t=jn(n);if(t._uninitializedComponentsProvider)throw new se(B.FAILED_PRECONDITION,"SDK cache is already specified.");Pr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new _h;return fU(t,r,new CD(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TJ(n){mU(n=gt(n,ln));const e=jn(n);if(e._uninitializedComponentsProvider)throw new se(B.FAILED_PRECONDITION,"SDK cache is already specified.");Pr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new _h;return fU(e,i,new K2(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function CJ(n){if(n._initialized&&!n._terminated)throw new se(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{yield(t=(0,ee.Z)(function*(r){if(!zo.D())return Promise.resolve();const o=r+"main";yield zo.delete(o)}),function i(r){return t.apply(this,arguments)})(yC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function cU(n,e,t,i={}){var r;const o=(n=gt(n,Bp))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=vi.MOCK_USER;else{a=(0,Xt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vi(d)}n._authCredentials=new yQ(new fL(a,l))}}(this._delegate,e,t,i)}enableNetwork(){return function AJ(n){return function dJ(n){return n.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield Y2(n),t=yield X2(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.C_.delete(0),Lp(o)}(t)}))}(jn(n=gt(n,ln)))}(this._delegate)}disableNetwork(){return function SJ(n){return function uJ(n){return n.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield Y2(n),t=yield X2(n);return e.setNetworkEnabled(!1),(i=(0,ee.Z)(function*(o){const s=me(o);s.C_.add(0),yield dh(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(jn(n=gt(n,ln)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,rU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function DJ(n){return function(t){const i=new hi;return t.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function WX(n,e){return dD.apply(this,arguments)}(yield PD(t),i)})),i.promise}(jn(n=gt(n,ln)))}(this._delegate)}onSnapshotsInSync(e){return function see(n,e){return function mJ(n,e){const t=new Pb(e);return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return r=yield vh(n),o=t,me(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return r=yield vh(n),o=t,void me(r).q_.delete(o);var r,o}))}}(jn(n=gt(n,ln)),LD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Eh(this,dU(this._delegate,e))}catch(t){throw br(t,"collection()","Firestore.collection()")}}doc(e){try{return new Io(this,Lb(this._delegate,e))}catch(t){throw br(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wr(this,function bJ(n,e){if(n=gt(n,Bp),OD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pi(n,null,(i=e,new aa(Dt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw br(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _ee(n,e,t){n=gt(n,ln);const i=Object.assign(Object.assign({},pee),t);return function(o){if(o.maxAttempts<1)throw new se(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new hi;return o.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){const d=yield function J2(n){return Ob(n).then(e=>e.datastore)}(o);new lJ(o.asyncQueue,d,a,s,l).run()})),l.promise}(jn(n),r=>e(new gee(n,r)),i)}(this._delegate,t=>e(new UU(this,t)))}batch(){return jn(this._delegate),new BU(new kU(this._delegate,e=>wh(this._delegate,e)))}loadBundle(e){return function MJ(n,e){const t=jn(n=gt(n,ln)),i=new EJ;return function pJ(n,e,t,i){const r=function(s,a){let l;return l="string"==typeof s?wV().encode(s):s,f=function(f,p){if(f instanceof Uint8Array)return Z2(f,p);if(f instanceof ArrayBuffer)return Z2(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new sJ(f,a);var f}(t,Fp(e));n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){!function rJ(n,e,t){const i=me(n);var r;(r=(0,ee.Z)(function*(s,a,l){try{const d=yield a.getMetadata();if(yield function(b,w){const I=me(b),k=Qn(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(k)>=0)}(s.localStore,d))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=d).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(U2(d));const f=new LX(d,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const y=yield f.ea(p);y&&l._updateProgress(y),p=yield a.Ma()}const g=yield f.complete();return yield ua(s,g.ra,void 0),yield function(b,w){const I=me(b);return I.persistence.runTransaction("Save bundle","readwrite",k=>I.Kr.saveBundleMetadata(k,w))}(s.localStore,d),l._completeWith(g.progress),Promise.resolve(g.na)}catch(d){return Pr("SyncEngine",`Loading bundle failed with ${d}`),l._failWith(d),Promise.resolve(new Set)}var b}),function o(s,a,l){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield PD(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function RJ(n,e){return function gJ(n,e){return n.asyncQueue.enqueue((0,ee.Z)(function*(){return function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield yh(n),e)}))}(jn(n=gt(n,ln)),e).then(t=>t?new Pi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new wr(this,t):null)}}class Zb extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kp(new Ms(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Io.forKey(t,this.firestore,null)}}class UU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zb(e)}get(e){const t=Yc(e);return this._delegate.get(t).then(i=>new Zp(this._firestore,new fa(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Yc(e);return i?(WD("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Yc(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Yc(e);return this._delegate.delete(t),this}}class BU{constructor(e){this._delegate=e}set(e,t,i){const r=Yc(e);return i?(WD("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Yc(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Yc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qc{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Wp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qp(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qc.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Qc(e,new Zb(e),t),r.set(t,o)),o}}Qc.INSTANCES=new WeakMap;class Io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zb(e)}static forPath(e,t,i){if(e.length%2!=0)throw new se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Io(t,new gn(t._delegate,i,new ge(e)))}static forKey(e,t,i){return new Io(t,new gn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Eh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Eh(this.firestore,dU(this._delegate,e))}catch(t){throw br(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof gn&&uU(this._delegate,e)}set(e,t){t=WD("DocumentReference.set",t);try{return t?SU(this._delegate,e,t):SU(this._delegate,e)}catch(i){throw br(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?MU(this._delegate,e):MU(this._delegate,e,t,...i)}catch(r){throw br(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ree(n){return wh(gt(n.firestore,ln),[new th(n._key,In.none())])}(this._delegate)}onSnapshot(...e){const t=jU(e),i=$U(e,r=>new Zp(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return RU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function JJ(n){n=gt(n,gn);const e=gt(n.firestore,ln),t=jn(e),i=new _l(e);return function hJ(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(i=(0,ee.Z)(function*(o,s,a){try{const l=yield function(f,p){const g=me(f);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,p))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new se(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const d=fh(l,`Failed to get document '${s} from cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield yh(n),e,t);var i})),t.promise}(t,n._key).then(r=>new fa(e,i,n._key,r,new Zc(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function eee(n){n=gt(n,gn);const e=gt(n.firestore,ln);return eU(jn(e),n._key,{source:"server"}).then(t=>qD(e,n,t))}(this._delegate):function XJ(n){n=gt(n,gn);const e=gt(n.firestore,ln);return eU(jn(e),n._key).then(t=>qD(e,n,t))}(this._delegate),t.then(i=>new Zp(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Io(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}function br(n,e,t){return n.message=n.message.replace(e,t),n}function jU(n){for(const e of n)if("object"==typeof e&&!KD(e))return e;return{}}function $U(n,e){var t,i;let r;return r=KD(n[0])?n[0]:KD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Zp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Io(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AU(this._delegate,e._delegate)}}class Qp extends Zp{data(e){const t=this._delegate.data(e);return this._delegate._converter||function gQ(n,e){n||xe()}(void 0!==t),t}}class wr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zb(e)}where(e,t,i){try{return new wr(this.firestore,pl(this._delegate,function jJ(n,e,t){const i=e,r=zb("where",n);return Gp._create(r,i,t)}(e,t,i)))}catch(r){throw br(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wr(this.firestore,pl(this._delegate,function $J(n,e="asc"){const t=e,i=zb("orderBy",n);return zD._create(i,t)}(e,t)))}catch(i){throw br(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wr(this.firestore,pl(this._delegate,function zJ(n){return aU("limit",n),Hb._create("limit",n,"F")}(e)))}catch(t){throw br(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wr(this.firestore,pl(this._delegate,function HJ(n){return aU("limitToLast",n),Hb._create("limitToLast",n,"L")}(e)))}catch(t){throw br(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wr(this.firestore,pl(this._delegate,function qJ(...n){return qb._create("startAt",n,!0)}(...e)))}catch(t){throw br(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wr(this.firestore,pl(this._delegate,function GJ(...n){return qb._create("startAfter",n,!1)}(...e)))}catch(t){throw br(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wr(this.firestore,pl(this._delegate,function WJ(...n){return Gb._create("endBefore",n,!1)}(...e)))}catch(t){throw br(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wr(this.firestore,pl(this._delegate,function KJ(...n){return Gb._create("endAt",n,!0)}(...e)))}catch(t){throw br(t,"endAt()","Query.endAt()")}}isEqual(e){return FD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function nee(n){n=gt(n,Pi);const e=gt(n.firestore,ln),t=jn(e),i=new _l(e);return function fJ(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(i=(0,ee.Z)(function*(o,s,a){try{const l=yield Cb(o,s,!0),d=new $2(s,l.ls),f=d.ca(l.documents),p=d.applyChanges(f,!1);a.resolve(p.snapshot)}catch(l){const d=fh(l,`Failed to execute query '${s} against cache`);a.reject(d)}}),function r(o,s,a){return i.apply(this,arguments)})(yield yh(n),e,t);var i})),t.promise}(t,n._query).then(r=>new gl(e,i,n,r))}(this._delegate):"server"===e?.source?function iee(n){n=gt(n,Pi);const e=gt(n.firestore,ln),t=jn(e),i=new _l(e);return tU(t,n._query,{source:"server"}).then(r=>new gl(e,i,n,r))}(this._delegate):function tee(n){n=gt(n,Pi);const e=gt(n.firestore,ln),t=jn(e),i=new _l(e);return EU(n._query),tU(t,n._query).then(r=>new gl(e,i,n,r))}(this._delegate),t.then(i=>new ZD(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=jU(e),i=$U(e,r=>new ZD(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return RU(this._delegate,t,i)}withConverter(e){return new wr(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}class See{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new See(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Qp(this._firestore,i))})}isEqual(e){return AU(this._delegate,e._delegate)}}class Eh extends wr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Io(this.firestore,e):null}doc(e){try{return new Io(this.firestore,void 0===e?Lb(this._delegate):Lb(this._delegate,e))}catch(t){throw br(t,"doc()","CollectionReference.doc()")}}add(e){return function oee(n,e){const t=gt(n.firestore,ln),i=Lb(n),r=Wb(n.converter,e);return wh(t,[Bb(Wc(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,In.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Io(this.firestore,t))}isEqual(e){return uU(this._delegate,e._delegate)}withConverter(e){return new Eh(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}function Yc(n){return gt(n,gn)}class QD{constructor(...e){this._delegate=new ha(...e)}static documentId(){return new QD(mn.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof ha&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vee(){return new VD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xc(e)}static delete(){const e=function yee(){return new $p("deleteField")}();return e._methodName="FieldValue.delete",new Xc(e)}static arrayUnion(...e){const t=function bee(...n){return new FJ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xc(t)}static arrayRemove(...e){const t=function wee(...n){return new LJ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xc(t)}static increment(e){const t=function Eee(n){return new VJ("increment",n)}(e);return t._methodName="FieldValue.increment",new Xc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mee={Firestore:VU,GeoPoint:Vb,Timestamp:En,Blob:Kp,Transaction:UU,WriteBatch:BU,DocumentReference:Io,DocumentSnapshot:Zp,Query:wr,QueryDocumentSnapshot:Qp,QuerySnapshot:ZD,CollectionReference:Eh,FieldPath:QD,FieldValue:Xc,setLogLevel:function Aee(n){!function pQ(n){Ja.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zU(n,e){return function Pee(n,e=Hx){return new st(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function YD(n,e){return zU(n,e).pipe(_e(t=>({payload:t,type:"query"})))}!function kee(n){(function Ree(n,e){n.INTERNAL.registerComponent(new KO.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Mee)))})(n,(e,t)=>new VU(e,t,new Dee)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(ia.Z);class HU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=QU(i,t);return new WU(r,o,this.afs)}snapshotChanges(){return function Nee(n,e){return zU(n,e).pipe(Vm(void 0),Wx(),_e(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zr)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return D(this.ref.get(e)).pipe(Zr)}}function Qb(n,e){return YD(n,e).pipe(Vm(void 0),Wx(),_e(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const d=o.find(p=>p.doc.ref.isEqual(a.ref)),f=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function qU(n,e,t){return Qb(n,t).pipe(Dv((i,r)=>function Oee(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Fee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return XD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XD(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),dn(),_e(i=>i.map(r=>({type:r.type,payload:r}))))}function XD(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function GU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class WU{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Qb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(_e(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Vm(void 0),Wx(),kr(([i,r])=>r.length>0||!i),_e(([,i])=>i),Zr)}auditTrail(e){return this.stateChanges(e).pipe(Dv((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GU(e);return qU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr)}valueChanges(e={}){return YD(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Zr)}get(e){return D(this.query.get(e)).pipe(Zr)}add(e){return this.ref.add(e)}doc(e){return new HU(this.ref.doc(e),this.afs)}}class Lee{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qb(this.query,this.afs.schedulers.outsideAngular).pipe(_e(t=>t.filter(i=>e.indexOf(i.type)>-1)),kr(t=>t.length>0),Zr):Qb(this.query,this.afs.schedulers.outsideAngular).pipe(Zr)}auditTrail(e){return this.stateChanges(e).pipe(Dv((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GU(e);return qU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr)}valueChanges(e={}){return YD(this.query,this.afs.schedulers.outsideAngular).pipe(_e(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),Zr)}get(e){return D(this.query.get(e)).pipe(Zr)}}const KU=new ie("angularfire2.enableFirestorePersistence"),ZU=new ie("angularfire2.firestore.persistenceSettings"),Vee=new ie("angularfire2.firestore.settings"),Uee=new ie("angularfire2.firestore.use-emulator");function QU(n,e=(t=>t)){return{query:e(n),ref:n}}let YU=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,l,d,f,p,g,y,b,w,I,k,A){this.schedulers=l;const L=qx(t,a,i),Y=f;p&&WO(L,a,g,b,w,I,y,k),[this.firestore,this.persistenceEnabled$]=FO(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const de=a.runOutsideAngular(()=>L.firestore());if(o&&de.settings(o),Y&&de.useEmulator(...Y),r&&!tv(s)){const Pe=()=>{try{return D(de.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(qe){return typeof console<"u"&&console.warn(qe),G(!1)}};return[de,a.runOutsideAngular(Pe)]}return[de,G(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=QU(r,i),a=this.schedulers.ngZone.run(()=>o);return new WU(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Lee(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new HU(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(J(Ev),J(Iv,8),J(KU,8),J(Vee,8),J(Po),J(pt),J(NO),J(ZU,8),J(Uee,8),J(Gx,8),J(jO,8),J($O,8),J(zO,8),J(HO,8),J(qO,8),J(GO,8),J(kO,8))};static \u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Bee=(()=>{class n{constructor(){ia.Z.registerVersion("angularfire",wv.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:KU,useValue:!0},{provide:ZU,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=wt({providers:[YU]})}return n})();const{isArray:$ee}=Array,{getPrototypeOf:zee,prototype:Hee,keys:qee}=Object;const{isArray:Wee}=Array;function Yb(...n){const e=Ko(n),t=function ga(n){return E(Wo(n))?n.pop():void 0}(n),{args:i,keys:r}=function XU(n){if(1===n.length){const e=n[0];if($ee(e))return{args:e,keys:null};if(function Gee(n){return n&&"object"==typeof n&&zee(n)===Hee}(e)){const t=qee(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return D([],e);const o=new st(function Zee(n,e,t=_n){return i=>{tB(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)tB(e,()=>{const d=D(n[l],e);let f=!1;d.subscribe(ve(i,p=>{o[l]=p,f||(f=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>function eB(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,s):_n));return t?o.pipe(function JU(n){return _e(e=>function Kee(n,e){return Wee(e)?n(...e):n(e)}(n,e))}(t)):o}function tB(n,e,t){n?On(t,n,e):e()}function nB(n){return new st(e=>{he(n()).subscribe(e)})}function Ih(n,e){const t=E(n)?n:()=>n,i=r=>r.error(t());return new st(e?r=>e.schedule(i,0,r):i)}function JD(){return H((n,e)=>{let t=null;n._refCount++;const i=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class iB extends st{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;const t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return JD()(this)}}function xh(n,e){return E(e)?Pt(n,e,1):Pt(n,1)}function vl(n){return H((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ve(t,void 0,void 0,s=>{o=he(n(s,vl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function eA(n){return n<=0?()=>nn:H((e,t)=>{let i=[];e.subscribe(ve(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Th(n){return H((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xb(n){return H((e,t)=>{he(n).subscribe(ve(t,()=>t.complete(),Te)),!t.closed&&e.subscribe(t)})}const it="primary",Yp=Symbol("RouteTitle");class Xee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ch(n){return new Xee(n)}function Jee(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Rs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!rB(n[r],e[r]))return!1;return!0}function rB(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function oB(n){return n.length>0?n[n.length-1]:null}function bl(n){return function jee(n){return!!n&&(n instanceof st||E(n.lift)&&E(n.subscribe))}(n)?n:fm(n)?D(Promise.resolve(n)):G(n)}const tte={exact:function lB(n,e,t){if(!Jc(n.segments,e.segments)||!Jb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!lB(n.children[i],e.children[i],t))return!1;return!0},subset:cB},sB={exact:function nte(n,e){return Rs(n,e)},subset:function ite(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rB(n[t],e[t]))},ignored:()=>!0};function aB(n,e,t){return tte[t.paths](n.root,e.root,t.matrixParams)&&sB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cB(n,e,t){return dB(n,e,e.segments,t)}function dB(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Jc(r,t)||e.hasChildren()||!Jb(r,t,i))}if(n.segments.length===t.length){if(!Jc(n.segments,t)||!Jb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!cB(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Jc(n.segments,r)&&Jb(n.segments,r,i)&&n.children[it])&&dB(n.children[it],e,o,i)}}function Jb(n,e,t){return e.every((i,r)=>sB[t](n[r].parameters,i.parameters))}class Dh{constructor(e=new zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ch(this.queryParams)),this._queryParamMap}toString(){return ste.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ew(this)}}class Xp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ch(this.parameters)),this._parameterMap}toString(){return fB(this)}}function Jc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Jp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return new tA},providedIn:"root"})}return n})();class tA{parse(e){const t=new _te(e);return new Dh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${eg(e.root,!0)}`,i=function cte(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${tw(t)}=${tw(r)}`).join("&"):`${tw(t)}=${tw(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function ate(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const ste=new tA;function ew(n){return n.segments.map(e=>fB(e)).join("/")}function eg(n,e){if(!n.hasChildren())return ew(n);if(e){const t=n.children[it]?eg(n.children[it],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==it&&i.push(`${r}:${eg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ote(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===it&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===it?[eg(n.children[it],!1)]:[`${r}:${eg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${ew(n)}/${t[0]}`:`${ew(n)}/(${t.join("//")})`}}function uB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tw(n){return uB(n).replace(/%3B/gi,";")}function nA(n){return uB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nw(n){return decodeURIComponent(n)}function hB(n){return nw(n.replace(/\+/g,"%20"))}function fB(n){return`${nA(n.path)}${function lte(n){return Object.keys(n).map(e=>`;${nA(e)}=${nA(n[e])}`).join("")}(n.parameters)}`}const dte=/^[^\/()?;#]+/;function iA(n){const e=n.match(dte);return e?e[0]:""}const ute=/^[^\/()?;=#]+/,fte=/^[^=?&#]+/,pte=/^[^&#]+/;class _te{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[it]=new zt(e,t)),i}parseSegment(){const e=iA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Xp(nw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function hte(n){const e=n.match(ute);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=iA(this.remaining);r&&(i=r,this.capture(i))}e[nw(t)]=nw(i)}parseQueryParam(e){const t=function mte(n){const e=n.match(fte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function gte(n){const e=n.match(pte);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=hB(t),o=hB(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=iA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new O(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[it]:new zt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function mB(n){return n.segments.length>0?new zt([],{[it]:n}):n}function pB(n){const e={};for(const i of Object.keys(n.children)){const o=pB(n.children[i]);if(i===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function yte(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function ed(n){return n instanceof Dh}function gB(n){let e;const r=mB(function t(o){const s={};for(const l of o.children){const d=t(l);s[l.outlet]=d}const a=new zt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function _B(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return rA(r,r,r,t,i);const o=function bte(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new vB(t,e,i)}(e);if(o.toRoot())return rA(r,r,new zt([],{}),t,i);const s=function wte(n,e,t){if(n.isAbsolute)return new rw(e,!0,0);if(!t)return new rw(e,!1,NaN);if(null===t.parent)return new rw(t,!0,0);const i=iw(n.commands[0])?0:1;return function Ete(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new rw(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?ng(s.segmentGroup,s.index,o.commands):bB(s.segmentGroup,s.index,o.commands);return rA(r,s.segmentGroup,a,t,i)}function iw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tg(n){return"object"==typeof n&&null!=n&&n.outlets}function rA(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=n===e?t:yB(n,e,t);const a=mB(pB(s));return new Dh(a,o,r)}function yB(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:yB(o,e,t)}),new zt(n.segments,i)}class vB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&iw(i[0]))throw new O(4003,!1);const r=i.find(tg);if(r&&r!==oB(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rw{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function bB(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return ng(n,e,t);const i=function xte(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(tg(a))break;const l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!EB(l,d,s))return o;i+=2}else{if(!EB(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new zt(n.segments.slice(0,i.pathIndex),{});return o.children[it]=new zt(n.segments.slice(i.pathIndex),n.children),ng(o,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?oA(n,e,t):i.match?ng(n,0,r):oA(n,e,t)}function ng(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function Ite(n){return tg(n[0])?n[0].outlets:{[it]:n}}(t),r={};if(Object.keys(i).some(o=>o!==it)&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const o=ng(n.children[it],e,t);return new zt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=bB(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new zt(n.segments,r)}}function oA(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(tg(o)){const l=Tte(o.outlets);return new zt(i,l)}if(0===r&&iw(t[0])){i.push(new Xp(n.segments[e].path,wB(t[0]))),r++;continue}const s=tg(o)?o.outlets[it]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&iw(a)?(i.push(new Xp(s,wB(a))),r+=2):(i.push(new Xp(s,{})),r++)}return new zt(i,{})}function Tte(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=oA(new zt([],{}),0,i))}),e}function wB(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function EB(n,e,t){return n==t.path&&Rs(e,t.parameters)}const ig="imperative";class ks{constructor(e,t){this.id=e,this.url=t}}class ow extends ks{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wl extends ks{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rg extends ks{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ah extends ks{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class sw extends ks{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IB extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cte extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dte extends ks{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ate extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ste extends ks{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nte{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ote{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xB{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sA{}class aA{constructor(e){this.url=e}}class Fte{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new og,this.attachRef=null}}let og=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Fte,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lA(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=lA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return cA(e,this._root).map(t=>t.value)}}function lA(n,e){if(n===e.value)return e;for(const t of e.children){const i=lA(n,t);if(i)return i}return null}function cA(n,e){if(n===e.value)return[e];for(const t of e.children){const i=cA(n,t);if(i.length)return i.unshift(e),i}return[]}class ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CB extends TB{constructor(e,t){super(e),this.snapshot=t,dA(this,e)}toString(){return this.snapshot.toString()}}function DB(n,e){const t=function Lte(n,e){const s=new aw([],{},{},"",{},it,e,null,{});return new SB("",new ma(s,[]))}(0,e),i=new N([new Xp("",{})]),r=new N({}),o=new N({}),s=new N({}),a=new N(""),l=new Mh(i,r,s,a,o,it,e,t.root);return l.snapshot=t.root,new CB(new ma(l,[]),t)}class Mh{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(d=>d[Yp]))??G(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Ch(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Ch(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Vte(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class aw{get title(){return this.data?.[Yp]}constructor(e,t,i,r,o,s,a,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ch(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ch(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SB extends TB{constructor(e,t){super(t),this.url=e,dA(this,t)}toString(){return MB(this._root)}}function dA(n,e){e.value._routerState=n,e.children.forEach(t=>dA(n,t))}function MB(n){const e=n.children.length>0?` { ${n.children.map(MB).join(", ")} } `:"";return`${n.value}${e}`}function uA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rs(e.params,t.params)||n.paramsSubject.next(t.params),function ete(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Rs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hA(n,e){const t=Rs(n.params,e.params)&&function rte(n,e){return Jc(n,e)&&n.every((t,i)=>Rs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hA(n.parent,e.parent))}let fA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new hn,this.deactivateEvents=new hn,this.attachEvents=new hn,this.detachEvents=new hn,this.parentContexts=fe(og),this.location=fe(Lo),this.changeDetector=fe(Tm),this.environmentInjector=fe(jr),this.inputBinder=fe(lw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ute(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ji]})}return n})();class Ute{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Mh?this.route:e===og?this.childContexts:this.parent.get(e,t)}}const lw=new ie("");let RB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Yb([i.queryParams,i.params,i.data]).pipe(Ct(([o,s,a],l)=>(a={...o,...s,...a},0===l?G(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function l8(n){const e=ft(n);if(!e)return null;const t=new lm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();function sg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function jte(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sg(n,i,r);return sg(n,i)})}(n,e,t);return new ma(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sg(n,a)),s}}const i=function $te(n){return new Mh(new N(n.url),new N(n.params),new N(n.queryParams),new N(n.fragment),new N(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>sg(n,o));return new ma(i,r)}}const mA="ngNavigationCancelingError";function kB(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ed(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=PB(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function PB(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[mA]=!0,i.cancellationCode=e,t&&(i.url=t),i}function NB(n){return n&&n[mA]}let OB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=lr({type:n,selectors:[["ng-component"]],standalone:!0,features:[PP],decls:1,vars:0,template:function(i,r){1&i&&_o(0,"router-outlet")},dependencies:[fA],encapsulation:2})}return n})();function pA(n){const e=n.children&&n.children.map(pA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=OB),t}function Ho(n){return n.outlet||it}function ag(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Qte{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),uA(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Sh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Sh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Sh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Sh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ote(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pte(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(uA(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ag(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class FB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cw{constructor(e,t){this.component=e,this.route=t}}function Yte(n,e,t){const i=n._root;return lg(i,e?e._root:null,t,[i.value])}function Rh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Uw(n){return null!==Ml(n)}(n)?e.get(n):n:i}function lg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sh(e);return n.children.forEach(s=>{(function Jte(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function ene(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jc(n.url,e.url)||!Rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hA(n,e)||!Rs(n.queryParams,e.queryParams);default:return!hA(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new FB(i)):(o.data=s.data,o._resolvedData=s._resolvedData),lg(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new cw(a.outlet.component,s))}else s&&cg(e,a,r),r.canActivateChecks.push(new FB(i)),lg(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>cg(a,t.getContext(s),r)),r}function cg(n,e,t){const i=Sh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{cg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new cw(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function dg(n){return"function"==typeof n}function LB(n){return n instanceof xv||"EmptyError"===n?.name}const dw=Symbol("INITIAL_VALUE");function kh(){return Ct(n=>Yb(n.map(e=>e.pipe(Dc(1),Vm(dw)))).pipe(_e(e=>{for(const t of e)if(!0!==t){if(t===dw)return dw;if(!1===t||t instanceof Dh)return t}return!0}),kr(e=>e!==dw),Dc(1)))}function VB(n){return function xr(...n){return Tr(n)}(Kn(e=>{if(ed(e))throw kB(0,e)}),_e(e=>!0===e))}class uw{constructor(e){this.segmentGroup=e||null}}class UB{constructor(e){this.urlTree=e}}function Ph(n){return Ih(new uw(n))}function BB(n){return Ih(new UB(n))}class bne{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new O(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return G(i);if(r.numberOfChildren>1||!r.children[it])return Ih(new O(4e3,!1));r=r.children[it]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Dh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new zt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const gA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wne(n,e,t,i,r){const o=_A(n,e,t);return o.matched?(i=function Hte(n,e){return n.providers&&!n._injector&&(n._injector=fI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function _ne(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?G(r.map(s=>{const a=Rh(s,n);return bl(function sne(n){return n&&dg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(kh(),VB()):G(!0)}(i,e,t).pipe(_e(s=>!0===s?o:{...gA}))):G(o)}function _A(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Jee)(t,n,e);if(!r)return{...gA};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jB(n,e,t,i){return t.length>0&&function xne(n,e,t){return t.some(i=>hw(n,e,i)&&Ho(i)!==it)}(n,t,i)?{segmentGroup:new zt(e,Ine(i,new zt(t,n.children))),slicedSegments:[]}:0===t.length&&function Tne(n,e,t){return t.some(i=>hw(n,e,i))}(n,t,i)?{segmentGroup:new zt(n.segments,Ene(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new zt(n.segments,n.children),slicedSegments:t}}function Ene(n,e,t,i,r){const o={};for(const s of i)if(hw(n,t,s)&&!r[Ho(s)]){const a=new zt([],{});o[Ho(s)]=a}return{...r,...o}}function Ine(n,e){const t={};t[it]=e;for(const i of n)if(""===i.path&&Ho(i)!==it){const r=new zt([],{});t[Ho(i)]=r}return t}function hw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Sne{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new bne(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,!1)}recognize(){const e=jB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(vl(t=>{if(t instanceof UB)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof uw?this.noMatchError(t):t}),_e(t=>{const i=new aw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),r=new ma(i,t),o=new SB("",r),s=function vte(n,e,t=null,i=null){return _B(gB(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(vl(i=>{throw i instanceof uw?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=AB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return D(r).pipe(xh(o=>{const s=i.children[o],a=function Kte(n,e){const t=n.filter(i=>Ho(i)===e);return t.push(...n.filter(i=>Ho(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Dv((o,s)=>(o.push(...s),o)),Tv(null),function Qee(n,e){const t=arguments.length>=2;return i=>i.pipe(n?kr((r,o)=>n(r,o,i)):_n,eA(1),t?Tv(e):UO(()=>new xv))}(),Pt(o=>{if(null===o)return Ph(i);const s=$B(o);return function Mne(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),G(s)}))}processSegment(e,t,i,r,o,s){return D(t).pipe(xh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(vl(l=>{if(l instanceof uw)return G(null);throw l}))),Qa(a=>!!a),vl(a=>{if(LB(a))return function Dne(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?G([]):Ph(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Cne(n,e,t,i){return!!(Ho(n)===i||i!==it&&hw(e,t,n))&&("**"===n.path||_A(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Ph(r):Ph(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BB(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Pt(s=>{const a=new zt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:f}=_A(t,r,o);if(!a)return Ph(t);const p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,f);return r.redirectTo.startsWith("/")?BB(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Pt(g=>this.processSegment(e,i,t,g.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?oB(r).parameters:{};a=G({snapshot:new aw(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zB(i),Ho(i),i.component??i._loadedComponent??null,i,HB(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=wne(t,i,r,e).pipe(_e(({matched:l,consumedSegments:d,remainingSegments:f,parameters:p})=>l?{snapshot:new aw(d,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zB(i),Ho(i),i.component??i._loadedComponent??null,i,HB(i)),consumedSegments:d,remainingSegments:f}:null));return a.pipe(Ct(l=>null===l?Ph(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Ct(({routes:d})=>{const f=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:b,slicedSegments:w}=jB(t,g,y,d);if(0===w.length&&b.hasChildren())return this.processChildren(f,d,b).pipe(_e(k=>null===k?null:[new ma(p,k)]));if(0===d.length&&0===w.length)return G([new ma(p,[])]);const I=Ho(i)===o;return this.processSegment(f,d,b,w,I?it:o,!0).pipe(_e(k=>[new ma(p,k)]))}))))}getChildConfig(e,t,i){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function gne(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?G(!0):G(r.map(s=>{const a=Rh(s,n);return bl(function nne(n){return n&&dg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(kh(),VB())}(e,t,i).pipe(Pt(r=>r?this.configLoader.loadChildren(e,t).pipe(Kn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function vne(n){return Ih(PB(!1,3))}())):G({routes:[],injector:e})}}function Rne(n){const e=n.value.routeConfig;return e&&""===e.path}function $B(n){const e=[],t=new Set;for(const i of n){if(!Rne(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=$B(i.children);e.push(new ma(i.value,r))}return e.filter(i=>!t.has(i))}function zB(n){return n.data||{}}function HB(n){return n.resolve||{}}function qB(n){return"string"==typeof n.title||null===n.title}function yA(n){return Ct(e=>{const t=n(e);return t?D(t).pipe(_e(()=>e)):G(e)})}const Nh=new ie("ROUTES");let vA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(EN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=bl(t.loadComponent()).pipe(_e(GB),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Th(()=>{this.componentLoaders.delete(t)})),r=new iB(i,()=>new z).pipe(JD());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Vne(n,e,t,i){return bl(n.loadChildren()).pipe(_e(GB),Pt(r=>r instanceof RP||Array.isArray(r)?G(r):D(e.compileModuleAsync(r))),_e(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Nh,[],{optional:!0,self:!0}).flat()),{routes:s.map(pA),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Th(()=>{this.childrenLoaders.delete(i)})),s=new iB(o,()=>new z).pipe(JD());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GB(n){return function Une(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let fw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=fe(vA),this.environmentInjector=fe(jr),this.urlSerializer=fe(Jp),this.rootContexts=fe(og),this.inputBindingEnabled=null!==fe(lw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Rte(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Mte(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new N({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ig,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(o=>0!==o.id),_e(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Ct(o=>{this.currentTransition=o;let s=!1,a=!1;return G(o).pipe(Kn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ct(l=>{const d=l.currentBrowserUrl.toString(),f=!t.navigated||l.extractedUrl.toString()!==d||d!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Ah(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),nn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Ct(g=>{const y=this.transitions?.getValue();return this.events.next(new ow(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?nn:Promise.resolve(g)}),function kne(n,e,t,i,r,o){return Pt(s=>function Ane(n,e,t,i,r,o,s="emptyOnly"){return new Sne(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(_e(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Kn(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new IB(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:b,restoredState:w,extras:I}=l,k=new ow(g,this.urlSerializer.serialize(y),b,w);this.events.next(k);const A=DB(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:A,urlAfterRedirects:y,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},G(o)}{const g="";return this.events.next(new Ah(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),nn}}),Kn(l=>{const d=new Cte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),_e(l=>(this.currentTransition=o={...l,guards:Yte(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function lne(n,e){return Pt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?G({...t,guardsResult:!0}):function cne(n,e,t,i){return D(n).pipe(Pt(r=>function pne(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?G(o.map(a=>{const l=ag(e)??r,d=Rh(a,l);return bl(function one(n){return n&&dg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):l.runInContext(()=>d(n,e,t,i))).pipe(Qa())})).pipe(kh()):G(!0)}(r.component,r.route,t,e,i)),Qa(r=>!0!==r,!0))}(s,i,r,n).pipe(Pt(a=>a&&function tne(n){return"boolean"==typeof n}(a)?function dne(n,e,t,i){return D(e).pipe(xh(r=>Cv(function hne(n,e){return null!==n&&e&&e(new kte(n)),G(!0)}(r.route.parent,i),function une(n,e){return null!==n&&e&&e(new Nte(n)),G(!0)}(r.route,i),function mne(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Xte(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>nB(()=>G(s.guards.map(l=>{const d=ag(s.node)??t,f=Rh(l,d);return bl(function rne(n){return n&&dg(n.canActivateChild)}(f)?f.canActivateChild(i,n):d.runInContext(()=>f(i,n))).pipe(Qa())})).pipe(kh())));return G(o).pipe(kh())}(n,r.path,t),function fne(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return G(!0);const r=i.map(o=>nB(()=>{const s=ag(e)??t,a=Rh(o,s);return bl(function ine(n){return n&&dg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Qa())}));return G(r).pipe(kh())}(n,r.route,t))),Qa(r=>!0!==r,!0))}(i,o,n,e):G(a)),_e(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Kn(l=>{if(o.guardsResult=l.guardsResult,ed(l.guardsResult))throw kB(0,l.guardsResult);const d=new Dte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),kr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),yA(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Kn(d=>{const f=new Ate(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Ct(d=>{let f=!1;return G(d).pipe(function Pne(n,e){return Pt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return G(t);let o=0;return D(r).pipe(xh(s=>function Nne(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!qB(r)&&(o[Yp]=r.title),function One(n,e,t,i){const r=function Fne(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return G({});const o={};return D(r).pipe(Pt(s=>function Lne(n,e,t,i){const r=ag(e)??i,o=Rh(n,r);return bl(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Qa(),Kn(a=>{o[s]=a}))),eA(1),function Yee(n){return _e(()=>n)}(o),vl(s=>LB(s)?nn:Ih(s)))}(o,n,e,i).pipe(_e(s=>(n._resolvedData=s,n.data=AB(n,t).resolve,r&&qB(r)&&(n.data[Yp]=r.title),null)))}(s.route,i,n,e)),Kn(()=>o++),eA(1),Pt(s=>o===r.length?G(t):nn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),Kn(d=>{const f=new Ste(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),yA(l=>{const d=f=>{const p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Kn(g=>{f.component=g}),_e(()=>{})));for(const g of f.children)p.push(...d(g));return p};return Yb(d(l.targetSnapshot.root)).pipe(Tv(),Dc(1))}),yA(()=>this.afterPreactivation()),_e(l=>{const d=function Bte(n,e,t){const i=sg(n,e._root,t?t._root:void 0);return new CB(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:d},o}),Kn(()=>{this.events.next(new sA)}),((n,e,t,i)=>_e(r=>(new Qte(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dc(1),Kn({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Xb(this.transitionAbortSubject.pipe(Kn(l=>{throw l}))),Th(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vl(l=>{if(a=!0,NB(l))this.events.next(new rg(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function zte(n){return NB(n)&&ed(n.url)}(l)?this.events.next(new aA(l.url)):o.resolve(!1);else{this.events.next(new sw(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(d){o.reject(d)}}return nn}))}))}cancelNavigationTransition(t,i,r){const o=new rg(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WB(n){return n!==ig}let KB=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===it);return i}getResolvedTitleForRoute(t){return t.data[Yp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return fe(Bne)},providedIn:"root"})}return n})(),Bne=(()=>{class n extends KB{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(J(H1))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return fe(zne)},providedIn:"root"})}return n})();class $ne{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let zne=(()=>{class n extends $ne{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Fn(n)))(r||n)}}();static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mw=new ie("",{providedIn:"root",factory:()=>({})});let Hne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:function(){return fe(qne)},providedIn:"root"})}return n})(),qne=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ug=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ug||{});function ZB(n,e){n.events.pipe(kr(t=>t instanceof wl||t instanceof rg||t instanceof sw||t instanceof Ah),_e(t=>t instanceof wl||t instanceof Ah?ug.COMPLETE:t instanceof rg&&(0===t.code||1===t.code)?ug.REDIRECTING:ug.FAILED),kr(t=>t!==ug.REDIRECTING),Dc(1)).subscribe(()=>{e()})}function Gne(n){throw n}function Wne(n,e,t){return e.parse("/")}const Kne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(wN),this.isNgZoneEnabled=!1,this._events=new z,this.options=fe(mw,{optional:!0})||{},this.pendingTasks=fe(Ly),this.errorHandler=this.options.errorHandler||Gne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(Hne),this.routeReuseStrategy=fe(jne),this.titleStrategy=fe(KB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(Nh,{optional:!0})?.flat()??[],this.navigationTransitions=fe(fw),this.urlSerializer=fe(Jp),this.location=fe(HI),this.componentInputBindingEnabled=!!fe(lw,{optional:!0}),this.eventsSubscription=new rt,this.isNgZoneEnabled=fe(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(QB(i)&&this._events.next(i));if(i instanceof ow)WB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Ah)this.rawUrlTree=r.rawUrl;else if(i instanceof IB){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof sA)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof rg)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof aA){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||WB(r.source)};this.scheduleNavigation(o,ig,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof sw&&this.restoreHistory(r,!0),i instanceof wl&&(this.navigated=!0),QB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ig,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s;let p,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{p=gB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return _B(p,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ed(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ig,null,i)}navigate(t,i={skipLocationChange:!1}){return function Qne(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new O(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Kne}:!1===i?{...Zne}:i,ed(t))return aB(this.currentUrlTree,t,r);const o=this.parseUrl(t);return aB(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((p,g)=>{a=p,l=g});const f=this.pendingTasks.add();return ZB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QB(n){return!(n instanceof sA||n instanceof aA)}class YB{}let Jne=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(kr(t=>t instanceof wl),xh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=fI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return D(r).pipe(Mt())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):G(null);const o=r.pipe(Pt(s=>null===s?G(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?D([o,this.loader.loadComponent(i)]).pipe(Mt()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(J(Jr),J(EN),J(jr),J(YB),J(vA))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wA=new ie("");let XB=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ow?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ah&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function _R(){throw new Error("invalid")}()};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();function pa(n,e){return{\u0275kind:n,\u0275providers:e}}function ej(){const n=fe(Sr);return e=>{const t=n.get(bc);if(e!==t.components[0])return;const i=n.get(Jr),r=n.get(tj);1===n.get(EA)&&i.initialNavigation(),n.get(nj,null,ht.Optional)?.setUpPreloading(),n.get(wA,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const tj=new ie("",{factory:()=>new z}),EA=new ie("",{providedIn:"root",factory:()=>1}),nj=new ie("");function iie(n){return pa(0,[{provide:nj,useExisting:Jne},{provide:YB,useExisting:n}])}const ij=new ie("ROUTER_FORROOT_GUARD"),oie=[HI,{provide:Jp,useClass:tA},Jr,og,{provide:Mh,useFactory:function JB(n){return n.routerState.root},deps:[Jr]},vA,[]];function sie(){return new SN("Router",Jr)}let IA=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[oie,[],{provide:Nh,multi:!0,useValue:t},{provide:ij,useFactory:die,deps:[[Jr,new hs,new dc]]},{provide:mw,useValue:i||{}},i?.useHash?{provide:Ec,useClass:f8}:{provide:Ec,useClass:a1},{provide:wA,useFactory:()=>{const n=fe(O9),e=fe(pt),t=fe(mw),i=fe(fw),r=fe(Jp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XB(r,i,n,e,t)}},i?.preloadingStrategy?iie(i.preloadingStrategy).\u0275providers:[],{provide:SN,multi:!0,useFactory:sie},i?.initialNavigation?uie(i):[],i?.bindToComponentInputs?pa(8,[RB,{provide:lw,useExisting:RB}]).\u0275providers:[],[{provide:rj,useFactory:ej},{provide:NI,multi:!0,useExisting:rj}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Nh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(J(ij,8))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})();function die(n){return"guarded"}function uie(n){return["disabled"===n.initialNavigation?pa(3,[{provide:CI,multi:!0,useFactory:()=>{const e=fe(Jr);return()=>{e.setUpLocationChangeListener()}}},{provide:EA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?pa(2,[{provide:EA,useValue:0},{provide:CI,multi:!0,deps:[Sr],useFactory:e=>{const t=e.get(u8,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Jr),o=e.get(tj);ZB(r,()=>{i(!0)}),e.get(fw).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const rj=new ie(""),fie=[];let TA,mie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[IA.forRoot(fie),IA]})}return n})(),oj=(()=>{class n{constructor(t,i){this.firestore=t,this.router=i}ngOnDestroy(){}static#e=this.\u0275fac=function(i){return new(i||n)(J(YU),J(Jr))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ps(n){return null!=n&&"false"!=`${n}`}function sj(n,e=0){return function pie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function aj(n){return Array.isArray(n)?n:[n]}function xA(n){return n instanceof qn?n.nativeElement:n}try{TA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TA=!1}let fg,hg=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function N9(n){return n===C1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!TA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(J(Po))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mg(n){return function gie(){if(null==fg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fg=!0}))}finally{fg=fg||!1}return fg}()?n:!!n.capture}function DA(n,e=Hx){return H((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function l(){const d=s+n,f=e.now();if(f<d)return r=this.schedule(void 0,d-f),void i.add(r);a()}t.subscribe(ve(i,d=>{o=d,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}const uj=new Set;let nd,jie=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $ie(n,e){if(!uj.has(n))try{nd||(nd=document.createElement("style"),e&&(nd.nonce=e),nd.setAttribute("type","text/css"),document.head.appendChild(nd)),nd.sheet&&(nd.sheet.insertRule(`@media ${n} {body{ }}`,0),uj.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(J(hg),J(fE,8))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Hie=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return hj(aj(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Yb(hj(aj(t)).map(s=>this._registerQuery(s).observable));return o=Cv(o.pipe(Dc(1)),o.pipe(function Bie(n){return kr((e,t)=>n<=t)}(1),DA(0))),o.pipe(_e(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new st(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Vm(i),_e(({matches:s})=>({query:t,matches:s})),Xb(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(J(jie),J(pt))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const gj="cdk-high-contrast-black-on-white",_j="cdk-high-contrast-white-on-black",AA="cdk-high-contrast-active";let ire=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=fe(Hie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(AA,gj,_j),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(AA,gj):2===i&&t.add(AA,_j)}}static#e=this.\u0275fac=function(i){return new(i||n)(J(hg),J(Sn))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})();const are=new ie("mat-sanity-checks",{providedIn:"root",factory:function sre(){return!0}});let Xi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function bie(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(J(ire),J(are,8),J(Sn))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[yj,yj]})}return n})();class cre{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wj=mg({passive:!0,capture:!0});class dre{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function vie(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,wj)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,wj)))}}const Ej={enterDuration:225,exitDuration:150},Ij=mg({passive:!0,capture:!0}),xj=["mousedown","touchstart"],Tj=["mouseup","mouseleave","touchend","touchcancel"];class gw{static#e=this._eventManager=new dre;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xA(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Ej,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function hre(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-s+"px",f.style.top=l-s+"px",f.style.height=2*s+"px",f.style.width=2*s+"px",null!=i.color&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);const p=window.getComputedStyle(f),y=p.transitionDuration,b="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,w=new cre(this,f,i,b);f.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);f.addEventListener("transitionend",k),f.addEventListener("transitioncancel",A),I={onTransitionEnd:k,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Ej,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=xA(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,xj.forEach(i=>{gw._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Tj.forEach(t=>{this._triggerElement.addEventListener(t,this,Ij)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function ere(n){return 0===n.buttons||0===n.detail}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function tre(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(xj.forEach(t=>gw._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Tj.forEach(t=>e.removeEventListener(t,this,Ij)))}}const SA=new ie("mat-ripple-global-options");let fre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Xi]})}return n})(),mre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi]})}return n})(),Cj=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pre=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=xA(t);return new st(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new z,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(J(Cj))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ps(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=sj(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new hn,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(DA(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(W(pre),W(qn),W(pt))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),Aj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({providers:[Cj]})}return n})(),gre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Xi]})}return n})();const rd=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>yg}),yg="always";let y4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})();const HA=new ie("NgModelWithFormControlWarning");let O4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[y4]})}return n})(),moe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rd,useValue:t.callSetDisabledState??yg}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[O4]})}return n})(),poe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:HA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:rd,useValue:t.callSetDisabledState??yg}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[O4]})}return n})();const F4=["*"],V4=["unscopedContent"],goe=["text"],_oe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],yoe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],U4=new ie("ListOption");let B4=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(W(qn))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),j4=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(W(qn))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),Foe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),$4=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(W(U4,8))};static#t=this.\u0275dir=Ee({type:n,hostVars:4,hostBindings:function(i,r){2&i&&yo("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),Loe=(()=>{class n extends $4{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Fn(n)))(r||n)}}();static#t=this.\u0275dir=Ee({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[xt]})}return n})(),Voe=(()=>{class n extends $4{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Fn(n)))(r||n)}}();static#t=this.\u0275dir=Ee({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[xt]})}return n})();const Uoe=new ie("MAT_LIST_CONFIG");let Lh=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=fe(Uoe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ps(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Ps(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,hostVars:1,hostBindings:function(i,r){2&i&&mr("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),YA=(()=>{class n{set lines(t){this._explicitLines=sj(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=Ps(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=Ps(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new rt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new gw(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Z(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(W(qn),W(pt),W(Lh,8),W(hg),W(SA,8),W(em,8))};static#t=this.\u0275dir=Ee({type:n,contentQueries:function(i,r,o){if(1&i&&(ys(o,Loe,4),ys(o,Voe,4)),2&i){let s;Hr(s=qr())&&(r._avatars=s),Hr(s=qr())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(mr("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),yo("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Boe=(()=>{class n extends Lh{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Fn(n)))(r||n)}}();static#t=this.\u0275cmp=lr({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Qt([{provide:Lh,useExisting:n}]),xt],ngContentSelectors:F4,decls:1,vars:0,template:function(i,r){1&i&&(za(),Gn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return n})(),joe=(()=>{class n extends YA{get activated(){return this._activated}set activated(t){this._activated=Ps(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(W(qn),W(pt),W(Lh,8),W(hg),W(SA,8),W(em,8))};static#t=this.\u0275cmp=lr({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(ys(o,j4,5),ys(o,B4,5),ys(o,Foe,5)),2&i){let s;Hr(s=qr())&&(r._lines=s),Hr(s=qr())&&(r._titles=s),Hr(s=qr())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(Ny(V4,5),Ny(goe,5)),2&i){let o;Hr(o=qr())&&(r._unscopedContent=o.first),Hr(o=qr())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(mr("aria-current",r._getAriaCurrent()),yo("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[xt],ngContentSelectors:yoe,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(za(_oe),Gn(0),Ln(1,"span",0),Gn(2,1),Gn(3,2),Ln(4,"span",1,2),Gi("cdkObserveContent",function(){return r._updateItemLines(!0)}),Gn(6,3),gi()(),Gn(7,4),Gn(8,5),_o(9,"div",3))},dependencies:[Dj],encapsulation:2,changeDetection:0})}return n})(),Goe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Aj,Sm,Xi,fre,mre,gre]})}return n})(),Woe=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(W(oj))};static#t=this.\u0275cmp=lr({type:n,selectors:[["app-sidebar"]],decls:8,vars:0,consts:[[1,"sidebar-wrapper"],[2,"margin","40px 10px 40px 10px"],[1,"sidebar-title"],[2,"cursor","pointer"],[1,"logout"]],template:function(i,r){1&i&&(Ln(0,"div",0)(1,"mat-list",1)(2,"mat-list-item")(3,"p",2),iI(4," Global Insight "),gi()(),Ln(5,"mat-list-item",3)(6,"p",4),iI(7," Log out "),gi()()()())},dependencies:[Boe,joe],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:calc(120vh - 35px);overflow:auto;width:260px;z-index:4;padding-bottom:100px;background-color:#877c6e}p[_ngcontent-%COMP%]{color:#e5eeed;text-transform:uppercase}.sidebar-title[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:10px;text-align:center;font-family:Montserrat,sans-serif!important}.menu-item-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;margin-top:auto;margin-bottom:auto}.logout[_ngcontent-%COMP%]{display:flex;transition:all 2s ease-in;justify-content:center;padding-top:10px;margin-top:30px;border-top:1px solid black;padding-bottom:10px;text-align:center;font-family:Montserrat,sans-serif!important}.mat-icon[_ngcontent-%COMP%]{margin:11px 10px 11px 0!important;color:#fff}.mat-mdc-list-item[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive), .mat-mdc-list-option[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive){cursor:pointer!important}.mat-mdc-list-item.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive), .mat-mdc-list-option.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive){background-color:#fff;border-radius:20px!important}.mat-mdc-list-item.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive)   p[_ngcontent-%COMP%], .mat-mdc-list-option.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive)   p[_ngcontent-%COMP%], .mat-mdc-list-item.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive)   mat-icon[_ngcontent-%COMP%], .mat-mdc-list-option.active[_ngcontent-%COMP%]:not(.mat-mdc-list-item-interactive)   mat-icon[_ngcontent-%COMP%]{color:#000!important}.displayNone[_ngcontent-%COMP%]{display:none!important}"]})}return n})(),Koe=(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(i){return new(i||n)(W(oj))};static#t=this.\u0275cmp=lr({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"wrapper"],["data-color","red",1,"sidebar"],[1,"main-panel"]],template:function(i,r){1&i&&(Ln(0,"div",0)(1,"div",1),_o(2,"app-sidebar"),gi(),Ln(3,"div",2),_o(4,"router-outlet"),gi()())},dependencies:[fA,Woe],styles:[".main-panel[_ngcontent-%COMP%]{position:relative;float:right;width:calc(100% - 260px);transition:all .5s cubic-bezier(.685,.0473,.346,1)}.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%;width:260px;z-index:1030;inset:0 auto 0 0;visibility:visible;overflow-y:visible;padding:0;transition:all .5s cubic-bezier(.685,.0473,.346,1);transform:translate(0)}@media only screen and (max-width:800px){.wrapper[_ngcontent-%COMP%]{overflow:scroll;width:300%}}"]})}return n})();const Zoe_firebaseConfig={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};class Cw{}class Dw{}class Ns{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ns;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Qoe{encodeKey(e){return H4(e)}encodeValue(e){return H4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Xoe=/%(\d[a-f0-9])/gi,Joe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H4(n){return encodeURIComponent(n).replace(Xoe,(e,t)=>Joe[t]??e)}function Aw(n){return`${n}`}class Tl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qoe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yoe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Aw):[Aw(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Tl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Aw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Aw(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ese{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function q4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function G4(n){return typeof Blob<"u"&&n instanceof Blob}function W4(n){return typeof FormData<"u"&&n instanceof FormData}class wg{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tse(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ns),this.context||(this.context=new ese),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Tl,this.urlWithParams=t}serializeBody(){return null===this.body?null:q4(this.body)||G4(this.body)||W4(this.body)||function nse(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||W4(this.body)?null:G4(this.body)?this.body.type||null:q4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,d=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new wg(t,i,o,{params:d,headers:l,context:f,reportProgress:a,responseType:r,withCredentials:s})}}var Vh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vh||{});class XA{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ns,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class JA extends XA{constructor(e={}){super(e),this.type=Vh.ResponseHeader}clone(e={}){return new JA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Uh extends XA{constructor(e={}){super(e),this.type=Vh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Uh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class K4 extends XA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function eS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tS=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof wg)o=t;else{let l,d;l=r.headers instanceof Ns?r.headers:new Ns(r.headers),r.params&&(d=r.params instanceof Tl?r.params:new Tl({fromObject:r.params})),o=new wg(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=G(o).pipe(xh(l=>this.handler.handle(l)));if(t instanceof wg||"events"===r.observe)return s;const a=s.pipe(kr(l=>l instanceof Uh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(_e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(_e(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Tl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,eS(r,i))}post(t,i,r={}){return this.request("POST",t,eS(r,i))}put(t,i,r={}){return this.request("PUT",t,eS(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(J(Cw))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();function Y4(n,e){return e(n)}function rse(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const sse=new ie(""),Eg=new ie(""),X4=new ie("");function ase(){let n=null;return(e,t)=>{null===n&&(n=(fe(sse,{optional:!0})??[]).reduceRight(rse,Y4));const i=fe(Ly),r=i.add();return n(e,t).pipe(Th(()=>i.remove(r)))}}let J4=(()=>{class n extends Cw{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=fe(Ly)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Eg),...this.injector.get(X4,[])]));this.chain=r.reduceRight((o,s)=>function ose(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),Y4)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Th(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(J(Dw),J(jr))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const use=/^\)\]\}',?\n/;let t$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new O(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?D(i.\u0275loadImpl()):G(null)).pipe(Ct(()=>new st(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const w=s.statusText||"OK",I=new Ns(s.getAllResponseHeaders()),k=function hse(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new JA({headers:I,status:s.status,statusText:w,url:k}),l},f=()=>{let{headers:w,status:I,statusText:k,url:A}=d(),L=null;204!==I&&(L=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=L?200:0);let Y=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof L){const de=L;L=L.replace(use,"");try{L=""!==L?JSON.parse(L):null}catch(Pe){L=de,Y&&(Y=!1,L={error:Pe,text:L})}}Y?(o.next(new Uh({body:L,headers:w,status:I,statusText:k,url:A||void 0})),o.complete()):o.error(new K4({error:L,headers:w,status:I,statusText:k,url:A||void 0}))},p=w=>{const{url:I}=d(),k=new K4({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(k)};let g=!1;const y=w=>{g||(o.next(d()),g=!0);let I={type:Vh.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),"text"===t.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},b=w=>{let I={type:Vh.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Vh.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(J(D1))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();const nS=new ie("XSRF_ENABLED"),n$=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),i$=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class r${}let pse=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_1(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(J(Sn),J(Po),J(n$))};static#t=this.\u0275prov=we({token:n,factory:n.\u0275fac})}return n})();function gse(n,e){const t=n.url.toLowerCase();if(!fe(nS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=fe(r$).getToken(),r=fe(i$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Cl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Cl||{});function _se(...n){const e=[tS,t$,J4,{provide:Cw,useExisting:J4},{provide:Dw,useExisting:t$},{provide:Eg,useValue:gse,multi:!0},{provide:nS,useValue:!0},{provide:r$,useClass:pse}];for(const t of n)e.push(...t.\u0275providers);return function sE(n){return{\u0275providers:n}}(e)}const o$=new ie("LEGACY_INTERCEPTOR_FN");function yse(){return function sd(n,e){return{\u0275kind:n,\u0275providers:e}}(Cl.LegacyInterceptors,[{provide:o$,useFactory:ase},{provide:Eg,useExisting:o$,multi:!0}])}let vse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({providers:[_se(yse())]})}return n})(),Mse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Xi]})}return n})(),rS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Sm,Aj,Xi]})}return n})(),Lse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Xi]})}return n})(),Hse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,Sm,Xi]})}return n})(),qse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({})}return n})(),Gse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=wt({imports:[Xi,rS,rS,qse,Xi]})}return n})(),Wse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=It({type:n}),n.\u0275inj=wt({imports:[Sm]}),n})(),Kse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n,bootstrap:[Koe]});static#n=this.\u0275inj=wt({imports:[NK,PK,IA,px,mie,vse,eZ.initializeApp(Zoe_firebaseConfig),Bee,sZ,Wse,moe,poe,rS,Lse,Hse,Gse,Goe,Mse]})}return n})();CW().bootstrapModule(Kse).catch(n=>console.error(n))},668:()=>{const tr=":";const kt=function(P,...M){if(kt.translate){const re=kt.translate(P,M);P=re[0],M=re[1]}let j=xn(P[0],P.raw[0]);for(let re=1;re<P.length;re++)j+=M[re-1]+xn(P[re],P.raw[re]);return j},Xn=":";function xn(P,M){return M.charAt(0)===Xn?P.substring(function $(P,M){for(let j=1,re=1;j<P.length;j++,re++)if("\\"===M[re])re++;else if(P[j]===tr)return j;throw new Error(`Unterminated $localize metadata block in "${M}".`)}(P,M)+1):P}globalThis.$localize=kt},320:(tr,Rn,He)=>{He.d(Rn,{Z:()=>cn});var E=He(51),Oe=He(426),q=He(451),Ue=He(135);class rt{constructor(Be,Ze){this._delegate=Be,this.firebase=Ze,(0,q._addComponent)(Be,new Oe.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Be,Ze=q._DEFAULT_ENTRY_NAME){var kn;this._delegate.checkDestroyed();const Pn=this._delegate.container.getProvider(Be);return!Pn.isInitialized()&&"EXPLICIT"===(null===(kn=Pn.getComponent())||void 0===kn?void 0:kn.instantiationMode)&&Pn.initialize(),Pn.getImmediate({identifier:Ze})}_removeServiceInstance(Be,Ze=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Ze)}_addComponent(Be){(0,q._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,q._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const en=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function ot(){const bt=function Yn(bt){const Be={},Ze={__esModule:!0,initializeApp:function Lt(Ge,Nn={}){const X=q.initializeApp(Ge,Nn);if((0,E.r3)(Be,X.name))return Be[X.name];const Ht=new bt(X,Ze);return Be[X.name]=Ht,Ht},app:Pn,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function Rt(Ge){const Nn=Ge.name,X=Nn.replace("-compat","");if(q._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Ht=(qt=Pn())=>{if("function"!=typeof qt[X])throw en.create("invalid-app-argument",{appName:Nn});return qt[X]()};void 0!==Ge.serviceProps&&(0,E.ZB)(Ht,Ge.serviceProps),Ze[X]=Ht,bt.prototype[X]=function(...qt){return this._getService.bind(this,Nn).apply(this,Ge.multipleInstances?qt:[])}}return"PUBLIC"===Ge.type?Ze[X]:null},removeApp:function kn(Ge){delete Be[Ge]},useAsService:function mi(Ge,Nn){return"serverAuth"===Nn?null:Nn},modularAPIs:q}};function Pn(Ge){if(!(0,E.r3)(Be,Ge=Ge||q._DEFAULT_ENTRY_NAME))throw en.create("no-app",{appName:Ge});return Be[Ge]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function et(){return Object.keys(Be).map(Ge=>Be[Ge])}}),Pn.App=bt,Ze}(rt);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:ot,extendNamespace:function Be(Ze){(0,E.ZB)(bt,Ze)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),bt}(),ce=new Ue.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const cn=te;!function _t(bt){(0,q.registerVersion)("@firebase/app-compat","0.2.24",bt)}()},451:(tr,Rn,He)=>{He.r(Rn),He.d(Rn,{FirebaseError:()=>Ue.ZR,SDK_VERSION:()=>Wo,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>ir,_addOrOverwriteComponent:()=>On,_apps:()=>Tn,_clearComponents:()=>nn,_components:()=>Ii,_getProvider:()=>Pt,_registerComponent:()=>$n,_removeServiceInstance:()=>Mt,deleteApp:()=>xi,getApp:()=>Ko,getApps:()=>_a,initializeApp:()=>ga,onLog:()=>ya,registerVersion:()=>Zo,setLogLevel:()=>dd});var E=He(483),Oe=He(426),q=He(135),Ue=He(51);const rt=(V,S)=>S.some(ae=>V instanceof ae);let Jt,en;const te=new WeakMap,ce=new WeakMap,Te=new WeakMap,Je=new WeakMap,_t=new WeakMap;let Be={get(V,S,ae){if(V instanceof IDBTransaction){if("done"===S)return ce.get(V);if("objectStoreNames"===S)return V.objectStoreNames||Te.get(V);if("store"===S)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Lt(V[S])},set:(V,S,ae)=>(V[S]=ae,!0),has:(V,S)=>V instanceof IDBTransaction&&("done"===S||"store"===S)||S in V};function Pn(V){return"function"==typeof V?function kn(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ot(){return en||(en=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...S){return V.apply(et(this),S),Lt(te.get(this))}:function(...S){return Lt(V.apply(et(this),S))}:function(S,...ae){const De=V.call(et(this),S,...ae);return Te.set(De,S.sort?S.sort():[S]),Lt(De)}}(V):(V instanceof IDBTransaction&&function bt(V){if(ce.has(V))return;const S=new Promise((ae,De)=>{const We=()=>{V.removeEventListener("complete",ut),V.removeEventListener("error",O),V.removeEventListener("abort",O)},ut=()=>{ae(),We()},O=()=>{De(V.error||new DOMException("AbortError","AbortError")),We()};V.addEventListener("complete",ut),V.addEventListener("error",O),V.addEventListener("abort",O)});ce.set(V,S)}(V),rt(V,function Yn(){return Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Be):V)}function Lt(V){if(V instanceof IDBRequest)return function cn(V){const S=new Promise((ae,De)=>{const We=()=>{V.removeEventListener("success",ut),V.removeEventListener("error",O)},ut=()=>{ae(Lt(V.result)),We()},O=()=>{De(V.error),We()};V.addEventListener("success",ut),V.addEventListener("error",O)});return S.then(ae=>{ae instanceof IDBCursor&&te.set(ae,V)}).catch(()=>{}),_t.set(S,V),S}(V);if(Je.has(V))return Je.get(V);const S=Pn(V);return S!==V&&(Je.set(V,S),_t.set(S,V)),S}const et=V=>_t.get(V),Ge=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],X=new Map;function Ht(V,S){if(!(V instanceof IDBDatabase)||S in V||"string"!=typeof S)return;if(X.get(S))return X.get(S);const ae=S.replace(/FromIndex$/,""),De=S!==ae,We=Nn.includes(ae);if(!(ae in(De?IDBIndex:IDBObjectStore).prototype)||!We&&!Ge.includes(ae))return;const ut=function(){var O=(0,E.Z)(function*(vn,...Ae){const dt=this.transaction(vn,We?"readwrite":"readonly");let ba=dt.store;return De&&(ba=ba.index(Ae.shift())),(yield Promise.all([ba[ae](...Ae),We&&dt.done]))[0]});return function(Ae){return O.apply(this,arguments)}}();return X.set(S,ut),ut}!function Ze(V){Be=V(Be)}(V=>({...V,get:(S,ae,De)=>Ht(S,ae)||V.get(S,ae,De),has:(S,ae)=>!!Ht(S,ae)||V.has(S,ae)}));class qt{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function _n(V){const S=V.getComponent();return"VERSION"===S?.type}(ae)){const De=ae.getImmediate();return`${De.library}/${De.version}`}return null}).filter(ae=>ae).join(" ")}}const xr="@firebase/app",st=new q.Yd("@firebase/app"),at="[DEFAULT]",yn={[xr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,Ii=new Map;function ir(V,S){try{V.container.addComponent(S)}catch(ae){st.debug(`Component ${S.name} failed to register with FirebaseApp ${V.name}`,ae)}}function On(V,S){V.container.addOrOverwriteComponent(S)}function $n(V){const S=V.name;if(Ii.has(S))return st.debug(`There were multiple attempts to register component ${S}.`),!1;Ii.set(S,V);for(const ae of Tn.values())ir(ae,V);return!0}function Pt(V,S){const ae=V.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),V.container.getProvider(S)}function Mt(V,S,ae=at){Pt(V,S).clearInstance(ae)}function nn(){Ii.clear()}const Ni=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oi{constructor(S,ae,De){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new Oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Wo="10.7.0";function ga(V,S={}){let ae=V;"object"!=typeof S&&(S={name:S});const De=Object.assign({name:at,automaticDataCollectionEnabled:!1},S),We=De.name;if("string"!=typeof We||!We)throw Ni.create("bad-app-name",{appName:String(We)});if(ae||(ae=(0,Ue.aH)()),!ae)throw Ni.create("no-options");const ut=Tn.get(We);if(ut){if((0,Ue.vZ)(ae,ut.options)&&(0,Ue.vZ)(De,ut.config))return ut;throw Ni.create("duplicate-app",{appName:We})}const O=new Oe.H0(We);for(const Ae of Ii.values())O.addComponent(Ae);const vn=new Oi(ae,De,O);return Tn.set(We,vn),vn}function Ko(V=at){const S=Tn.get(V);if(!S&&V===at&&(0,Ue.aH)())return ga();if(!S)throw Ni.create("no-app",{appName:V});return S}function _a(){return Array.from(Tn.values())}function xi(V){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,E.Z)(function*(V){const S=V.name;Tn.has(S)&&(Tn.delete(S),yield Promise.all(V.container.getProviders().map(ae=>ae.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Zo(V,S,ae){var De;let We=null!==(De=yn[V])&&void 0!==De?De:V;ae&&(We+=`-${ae}`);const ut=We.match(/\s|\//),O=S.match(/\s|\//);if(ut||O){const vn=[`Unable to register library "${We}" with version "${S}":`];return ut&&vn.push(`library name "${We}" contains illegal characters (whitespace or "/")`),ut&&O&&vn.push("and"),O&&vn.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void st.warn(vn.join(" "))}$n(new Oe.wA(`${We}-version`,()=>({library:We,version:S}),"VERSION"))}function ya(V,S){if(null!==V&&"function"!=typeof V)throw Ni.create("invalid-log-argument");(0,q.Am)(V,S)}function dd(V){(0,q.Ub)(V)}const Al="firebase-heartbeat-database",va=1,C="firebase-heartbeat-store";let T=null;function D(){return T||(T=function Rt(V,S,{blocked:ae,upgrade:De,blocking:We,terminated:ut}={}){const O=indexedDB.open(V,S),vn=Lt(O);return De&&O.addEventListener("upgradeneeded",Ae=>{De(Lt(O.result),Ae.oldVersion,Ae.newVersion,Lt(O.transaction),Ae)}),ae&&O.addEventListener("blocked",Ae=>ae(Ae.oldVersion,Ae.newVersion,Ae)),vn.then(Ae=>{ut&&Ae.addEventListener("close",()=>ut()),We&&Ae.addEventListener("versionchange",dt=>We(dt.oldVersion,dt.newVersion,dt))}).catch(()=>{}),vn}(Al,va,{upgrade:(V,S)=>{0===S&&V.createObjectStore(C)}}).catch(V=>{throw Ni.create("idb-open",{originalErrorMessage:V.message})})),T}function N(){return(N=(0,E.Z)(function*(V){try{return yield(yield D()).transaction(C).objectStore(C).get(tt(V))}catch(S){if(S instanceof Ue.ZR)st.warn(S.message);else{const ae=Ni.create("idb-get",{originalErrorMessage:S?.message});st.warn(ae.message)}}})).apply(this,arguments)}function G(V,S){return je.apply(this,arguments)}function je(){return(je=(0,E.Z)(function*(V,S){try{const De=(yield D()).transaction(C,"readwrite");yield De.objectStore(C).put(S,tt(V)),yield De.done}catch(ae){if(ae instanceof Ue.ZR)st.warn(ae.message);else{const De=Ni.create("idb-set",{originalErrorMessage:ae?.message});st.warn(De.message)}}})).apply(this,arguments)}function tt(V){return`${V.name}!${V.options.appId}`}class Jn{constructor(S){this.container=S,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new Bt(ae),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var S=this;return(0,E.Z)(function*(){var ae,De;const ut=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=Ce();if((null!=(null===(ae=S._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||(S._heartbeatsCache=yield S._heartbeatsCachePromise,null!=(null===(De=S._heartbeatsCache)||void 0===De?void 0:De.heartbeats)))&&S._heartbeatsCache.lastSentHeartbeatDate!==O&&!S._heartbeatsCache.heartbeats.some(vn=>vn.date===O))return S._heartbeatsCache.heartbeats.push({date:O,agent:ut}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(vn=>{const Ae=new Date(vn.date).valueOf();return Date.now()-Ae<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,E.Z)(function*(){var ae;if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null==(null===(ae=S._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||0===S._heartbeatsCache.heartbeats.length)return"";const De=Ce(),{heartbeatsToSend:We,unsentEntries:ut}=function ri(V,S=1024){const ae=[];let De=V.slice();for(const We of V){const ut=ae.find(O=>O.agent===We.agent);if(ut){if(ut.dates.push(We.date),to(ae)>S){ut.dates.pop();break}}else if(ae.push({agent:We.agent,dates:[We.date]}),to(ae)>S){ae.pop();break}De=De.slice(1)}return{heartbeatsToSend:ae,unsentEntries:De}}(S._heartbeatsCache.heartbeats),O=(0,Ue.L)(JSON.stringify({version:2,heartbeats:We}));return S._heartbeatsCache.lastSentHeartbeatDate=De,ut.length>0?(S._heartbeatsCache.heartbeats=ut,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),O})()}}function Ce(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,E.Z)(function*(){if(yield S._canUseIndexedDBPromise){const De=yield function Z(V){return N.apply(this,arguments)}(S.app);return De?.heartbeats?De:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(S){var ae=this;return(0,E.Z)(function*(){var De;if(yield ae._canUseIndexedDBPromise){const ut=yield ae.read();return G(ae.app,{lastSentHeartbeatDate:null!==(De=S.lastSentHeartbeatDate)&&void 0!==De?De:ut.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var ae=this;return(0,E.Z)(function*(){var De;if(yield ae._canUseIndexedDBPromise){const ut=yield ae.read();return G(ae.app,{lastSentHeartbeatDate:null!==(De=S.lastSentHeartbeatDate)&&void 0!==De?De:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...S.heartbeats]})}})()}}function to(V){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:V})).length}!function ud(V){$n(new Oe.wA("platform-logger",S=>new qt(S),"PRIVATE")),$n(new Oe.wA("heartbeat",S=>new Jn(S),"PRIVATE")),Zo(xr,"0.9.24",V),Zo(xr,"0.9.24","esm2017"),Zo("fire-js","")}("")},426:(tr,Rn,He)=>{He.d(Rn,{H0:()=>Yn,wA:()=>q});var E=He(483),Oe=He(51);class q{constructor(te,ce,Te){this.name=te,this.instanceFactory=ce,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ue="[DEFAULT]";class rt{constructor(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){const Te=new Oe.BH;if(this.instancesDeferred.set(ce,Te),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:ce});Je&&Te.resolve(Je)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(te){var ce;const Te=this.normalizeInstanceIdentifier(te?.identifier),Je=null!==(ce=te?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(_t){if(Je)return null;throw _t}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function en(ot){return"EAGER"===ot.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[ce,Te]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(ce);try{const _t=this.getOrInitializeService({instanceIdentifier:Je});Te.resolve(_t)}catch{}}}}clearInstance(te=Ue){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,E.Z)(function*(){const ce=Array.from(te.instances.values());yield Promise.all([...ce.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ce.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ue){return this.instances.has(te)}getOptions(te=Ue){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ce={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:Te,options:ce});for(const[_t,cn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(_t)&&cn.resolve(Je);return Je}onInit(te,ce){var Te;const Je=this.normalizeInstanceIdentifier(ce),_t=null!==(Te=this.onInitCallbacks.get(Je))&&void 0!==Te?Te:new Set;_t.add(te),this.onInitCallbacks.set(Je,_t);const cn=this.instances.get(Je);return cn&&te(cn,Je),()=>{_t.delete(te)}}invokeOnInitCallbacks(te,ce){const Te=this.onInitCallbacks.get(ce);if(Te)for(const Je of Te)try{Je(te,ce)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ce={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(ot=te,ot===Ue?void 0:ot),options:ce}),this.instances.set(te,Te),this.instancesOptions.set(te,ce),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch{}var ot;return Te||null}normalizeInstanceIdentifier(te=Ue){return this.component?this.component.multipleInstances?te:Ue:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yn{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ce.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ce=new rt(te,this);return this.providers.set(te,ce),ce}getProviders(){return Array.from(this.providers.values())}}},135:(tr,Rn,He)=>{He.d(Rn,{Am:()=>ot,Ub:()=>Yn,Yd:()=>en,in:()=>Oe});const E=[];var Oe=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Oe||{});const q={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ue=Oe.INFO,rt={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Jt=(te,ce,...Te)=>{if(ce<te.logLevel)return;const Je=(new Date).toISOString(),_t=rt[ce];if(!_t)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[_t](`[${Je}]  ${te.name}:`,...Te)};class en{constructor(ce){this.name=ce,this._logLevel=Ue,this._logHandler=Jt,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in Oe))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?q[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...ce),this._logHandler(this,Oe.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...ce),this._logHandler(this,Oe.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...ce),this._logHandler(this,Oe.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...ce),this._logHandler(this,Oe.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...ce),this._logHandler(this,Oe.ERROR,...ce)}}function Yn(te){E.forEach(ce=>{ce.setLogLevel(te)})}function ot(te,ce){for(const Te of E){let Je=null;ce&&ce.level&&(Je=q[ce.level]),Te.userLogHandler=null===te?null:(_t,cn,...bt)=>{const Be=bt.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");cn>=(Je??_t.logLevel)&&te({level:Oe[cn].toLowerCase(),message:Be,args:bt,type:_t.name})}}}},872:(tr,Rn,He)=>{He.r(Rn);var E=He(483),Oe=He(320),q=He(51),Ue=He(451),rt=He(135),Jt=He(356),en=He(426);const ot={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const cn=function Je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kn=new rt.Yd("@firebase/auth");function Lt(h,...c){kn.logLevel<=rt.in.ERROR&&kn.error(`Auth (${Ue.SDK_VERSION}): ${h}`,...c)}function et(h,...c){throw Nn(h,...c)}function Rt(h,...c){return Nn(h,...c)}function mi(h,c,u){const m=Object.assign(Object.assign({},bt()),{[c]:u});return new q.LL("auth","Firebase",m).create(c,{appName:h.name})}function Ge(h,c,u){if(!(c instanceof u))throw u.name!==c.constructor.name&&et(h,"argument-error"),mi(h,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nn(h,...c){if("string"!=typeof h){const u=c[0],m=[...c.slice(1)];return m[0]&&(m[0].appName=h.name),h._errorFactory.create(u,...m)}return Be.create(h,...c)}function X(h,c,...u){if(!h)throw Nn(c,...u)}function Ht(h){const c="INTERNAL ASSERTION FAILED: "+h;throw Lt(c),new Error(c)}function qt(h,c){h||Ht(c)}function _n(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function xr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class nr{constructor(c,u){this.shortDelay=c,this.longDelay=u,qt(u>c,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xr()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function U(h,c){qt(h.emulator,"Emulator should always be set here");const{url:u}=h.emulator;return c?`${u}${c.startsWith("/")?c.slice(1):c}`:u}class ${static initialize(c,u,m){this.fetchImpl=c,u&&(this.headersImpl=u),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},K=new nr(3e4,6e4);function ne(h,c){return h.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:h.tenantId}):c}function H(h,c,u,m){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.Z)(function*(h,c,u,m,_={}){return ct(h,_,(0,E.Z)(function*(){let v={},x={};m&&("GET"===c?x=m:v={body:JSON.stringify(m)});const R=(0,q.xO)(Object.assign({key:h.config.apiKey},x)).slice(1),Q=yield h._getAdditionalHeaders();return Q["Content-Type"]="application/json",h.languageCode&&(Q["X-Firebase-Locale"]=h.languageCode),$.fetch()(Kt(h,h.config.apiHost,u,R),Object.assign({method:c,headers:Q,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function ct(h,c,u){return _e.apply(this,arguments)}function _e(){return(_e=(0,E.Z)(function*(h,c,u){h._canInitEmulator=!1;const m=Object.assign(Object.assign({},z),c);try{const _=new Xn(h),v=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const x=yield v.json();if("needConfirmation"in x)throw xn(h,"account-exists-with-different-credential",x);if(v.ok&&!("errorMessage"in x))return x;{const R=v.ok?x.errorMessage:x.error.message,[Q,pe]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Q)throw xn(h,"credential-already-in-use",x);if("EMAIL_EXISTS"===Q)throw xn(h,"email-already-in-use",x);if("USER_DISABLED"===Q)throw xn(h,"user-disabled",x);const Ie=m[Q]||Q.toLowerCase().replace(/[_\s]+/g,"-");if(pe)throw mi(h,Ie,pe);et(h,Ie)}}catch(_){if(_ instanceof q.ZR)throw _;et(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Me(h,c,u,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,E.Z)(function*(h,c,u,m,_={}){const v=yield H(h,c,u,m,_);return"mfaPendingCredential"in v&&et(h,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function Kt(h,c,u,m){const _=`${c}${u}?${m}`;return h.config.emulator?U(h.config,_):`${h.config.apiScheme}://${_}`}function kt(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((u,m)=>{this.timer=setTimeout(()=>m(Rt(this.auth,"network-request-failed")),K.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(h,c,u){const m={appName:h.name};u.email&&(m.email=u.email),u.phoneNumber&&(m.phoneNumber=u.phoneNumber);const _=Rt(h,c,m);return _.customData._tokenResponse=u,_}function P(h){return void 0!==h&&void 0!==h.getResponse}function M(h){return void 0!==h&&void 0!==h.enterprise}class j{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===c)return kt(u.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function ue(){return(ue=(0,E.Z)(function*(h){return(yield H(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function he(h,c){return tn.apply(this,arguments)}function tn(){return(tn=(0,E.Z)(function*(h,c){return H(h,"GET","/v2/recaptchaConfig",ne(h,c))})).apply(this,arguments)}function at(){return(at=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Tn(){return(Tn=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ir(){return(ir=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function On(h){if(h)try{const c=new Date(Number(h));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Mt(){return(Mt=(0,E.Z)(function*(h,c=!1){const u=(0,q.m9)(h),m=yield u.getIdToken(c),_=Go(m);X(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,x=v?.sign_in_provider;return{claims:_,token:m,authTime:On(nn(_.auth_time)),issuedAtTime:On(nn(_.iat)),expirationTime:On(nn(_.exp)),signInProvider:x||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function nn(h){return 1e3*Number(h)}function Go(h){const[c,u,m]=h.split(".");if(void 0===c||void 0===u||void 0===m)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,q.tV)(u);return _?JSON.parse(_):(Lt("Failed to decode base64 JWT payload"),null)}catch(_){return Lt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Oi(h,c){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,E.Z)(function*(h,c,u=!1){if(u)return c;try{return yield c}catch(m){throw m instanceof q.ZR&&function ga({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(m)&&h.auth.currentUser===h&&(yield h.auth.signOut()),m}})).apply(this,arguments)}class Ko{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var u;if(c){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var u=this;if(!this.isRunning)return;const m=this.getInterval(c);this.timerId=setTimeout((0,E.Z)(function*(){yield u.iteration()}),m)}iteration(){var c=this;return(0,E.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&c.schedule(!0))}c.schedule()})()}}class _a{constructor(c,u){this.createdAt=c,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xi(h){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,E.Z)(function*(h){var c;const u=h.auth,m=yield h.getIdToken(),_=yield Oi(h,function Ii(h,c){return ir.apply(this,arguments)}(u,{idToken:m}));X(_?.users.length,u,"internal-error");const v=_.users[0];h._notifyReloadListener(v);const x=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?function Al(h){return h.map(c=>{var{providerId:u}=c,m=(0,Jt._T)(c,["providerId"]);return{providerId:u,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(v.providerUserInfo):[],R=function dd(h,c){return[...h.filter(m=>!c.some(_=>_.providerId===m.providerId)),...c]}(h.providerData,x),Ie=!!h.isAnonymous&&!(h.email&&v.passwordHash||R?.length),Se={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new _a(v.createdAt,v.lastLoginAt),isAnonymous:Ie};Object.assign(h,Se)}),Fi.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(h){const c=(0,q.m9)(h);yield xi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function C(){return(C=(0,E.Z)(function*(h,c){const u=yield ct(h,{},(0,E.Z)(function*(){const m=(0,q.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=h.config,x=Kt(h,_,"/v1/token",`key=${v}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(x,{method:"POST",headers:R,body:m})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,E.Z)(function*(h,c){return H(h,"POST","/v2/accounts:revokeToken",ne(h,c))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){X(c.idToken,"internal-error"),X(typeof c.idToken<"u","internal-error"),X(typeof c.refreshToken<"u","internal-error");const u="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ni(h){const c=Go(h);return X(c,"internal-error"),X(typeof c.exp<"u","internal-error"),X(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,u)}getToken(c,u=!1){var m=this;return(0,E.Z)(function*(){return X(!m.accessToken||m.refreshToken,c,"user-token-expired"),u||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(c,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,u){var m=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:x}=yield function va(h,c){return C.apply(this,arguments)}(c,u);m.updateTokensAndExpiration(_,v,Number(x))})()}updateTokensAndExpiration(c,u,m){this.refreshToken=u||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(c,u){const{refreshToken:m,accessToken:_,expirationTime:v}=u,x=new Z;return m&&(X("string"==typeof m,"internal-error",{appName:c}),x.refreshToken=m),_&&(X("string"==typeof _,"internal-error",{appName:c}),x.accessToken=_),v&&(X("number"==typeof v,"internal-error",{appName:c}),x.expirationTime=v),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function N(h,c){X("string"==typeof h||typeof h>"u","internal-error",{appName:c})}class G{constructor(c){var{uid:u,auth:m,stsTokenManager:_}=c,v=(0,Jt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new _a(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var u=this;return(0,E.Z)(function*(){const m=yield Oi(u,u.stsTokenManager.getToken(u.auth,c));return X(m,u.auth,"internal-error"),u.accessToken!==m&&(u.accessToken=m,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),m})()}getIdTokenResult(c){return function Pt(h){return Mt.apply(this,arguments)}(this,c)}reload(){return function Zo(h){return ya.apply(this,arguments)}(this)}_assign(c){this!==c&&(X(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(u=>Object.assign({},u)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const u=new G(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(c){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,u=!1){var m=this;return(0,E.Z)(function*(){let _=!1;c.idToken&&c.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(c),_=!0),u&&(yield xi(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var c=this;return(0,E.Z)(function*(){const u=yield c.getIdToken();return yield Oi(c,function Tt(h,c){return at.apply(this,arguments)}(c.auth,{idToken:u})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,u){var m,_,v,x,R,Q,pe,Ie;const Se=null!==(m=u.displayName)&&void 0!==m?m:void 0,wn=null!==(_=u.email)&&void 0!==_?_:void 0,Ur=null!==(v=u.phoneNumber)&&void 0!==v?v:void 0,eu=null!==(x=u.photoURL)&&void 0!==x?x:void 0,B_=null!==(R=u.tenantId)&&void 0!==R?R:void 0,Ba=null!==(Q=u._redirectEventId)&&void 0!==Q?Q:void 0,qf=null!==(pe=u.createdAt)&&void 0!==pe?pe:void 0,j_=null!==(Ie=u.lastLoginAt)&&void 0!==Ie?Ie:void 0,{uid:tu,emailVerified:V0,isAnonymous:Gf,providerData:$_,stsTokenManager:z_}=u;X(tu&&z_,c,"internal-error");const U0=Z.fromJSON(this.name,z_);X("string"==typeof tu,c,"internal-error"),N(Se,c.name),N(wn,c.name),X("boolean"==typeof V0,c,"internal-error"),X("boolean"==typeof Gf,c,"internal-error"),N(Ur,c.name),N(eu,c.name),N(B_,c.name),N(Ba,c.name),N(qf,c.name),N(j_,c.name);const uc=new G({uid:tu,auth:c,email:wn,emailVerified:V0,displayName:Se,isAnonymous:Gf,photoURL:eu,phoneNumber:Ur,tenantId:B_,stsTokenManager:U0,createdAt:qf,lastLoginAt:j_});return $_&&Array.isArray($_)&&(uc.providerData=$_.map(zS=>Object.assign({},zS))),Ba&&(uc._redirectEventId=Ba),uc}static _fromIdTokenResponse(c,u,m=!1){return(0,E.Z)(function*(){const _=new Z;_.updateFromServerResponse(u);const v=new G({uid:u.localId,auth:c,stsTokenManager:_,isAnonymous:m});return yield xi(v),v})()}}const je=new Map;function tt(h){qt(h instanceof Function,"Expected a class definition");let c=je.get(h);return c?(qt(c instanceof h,"Instance stored in cache mismatched with class"),c):(c=new h,je.set(h,c),c)}const dn=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(u,m){var _=this;return(0,E.Z)(function*(){_.storage[u]=m})()}_get(u){var m=this;return(0,E.Z)(function*(){const _=m.storage[u];return void 0===_?null:_})()}_remove(u){var m=this;return(0,E.Z)(function*(){delete m.storage[u]})()}_addListener(u,m){}_removeListener(u,m){}}return h.type="NONE",h})();function Jn(h,c,u){return`firebase:${h}:${c}:${u}`}class Ce{constructor(c,u,m){this.persistence=c,this.auth=u,this.userKey=m;const{config:_,name:v}=this.auth;this.fullUserKey=Jn(this.userKey,_.apiKey,v),this.fullPersistenceKey=Jn("persistence",_.apiKey,v),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.Z)(function*(){const u=yield c.persistence._get(c.fullUserKey);return u?G._fromJSON(c.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var u=this;return(0,E.Z)(function*(){if(u.persistence===c)return;const m=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=c,m?u.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,u,m="authUser"){return(0,E.Z)(function*(){if(!u.length)return new Ce(tt(dn),c,m);const _=(yield Promise.all(u.map(function(){var pe=(0,E.Z)(function*(Ie){if(yield Ie._isAvailable())return Ie});return function(Ie){return pe.apply(this,arguments)}}()))).filter(pe=>pe);let v=_[0]||tt(dn);const x=Jn(m,c.config.apiKey,c.name);let R=null;for(const pe of u)try{const Ie=yield pe._get(x);if(Ie){const Se=G._fromJSON(c,Ie);pe!==v&&(R=Se),v=pe;break}}catch{}const Q=_.filter(pe=>pe._shouldAllowMigration);return v._shouldAllowMigration&&Q.length?(v=Q[0],R&&(yield v._set(x,R.toJSON())),yield Promise.all(u.map(function(){var pe=(0,E.Z)(function*(Ie){if(Ie!==v)try{yield Ie._remove(x)}catch{}});return function(Ie){return pe.apply(this,arguments)}}())),new Ce(v,c,m)):new Ce(v,c,m)})()}}function ri(h){const c=h.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(V(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Bt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ae(c))return"Blackberry";if(De(c))return"Webos";if(to(c))return"Safari";if((c.includes("chrome/")||ud(c))&&!c.includes("edge/"))return"Chrome";if(S(c))return"Android";{const m=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Bt(h=(0,q.z$)()){return/firefox\//i.test(h)}function to(h=(0,q.z$)()){const c=h.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function ud(h=(0,q.z$)()){return/crios\//i.test(h)}function V(h=(0,q.z$)()){return/iemobile/i.test(h)}function S(h=(0,q.z$)()){return/android/i.test(h)}function ae(h=(0,q.z$)()){return/blackberry/i.test(h)}function De(h=(0,q.z$)()){return/webos/i.test(h)}function We(h=(0,q.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function Ae(h=(0,q.z$)()){return We(h)||S(h)||De(h)||ae(h)||/windows phone/i.test(h)||V(h)}function ba(h,c=[]){let u;switch(h){case"Browser":u=ri((0,q.z$)());break;case"Worker":u=`${ri((0,q.z$)())}-${h}`;break;default:u=h}const m=c.length?c.join(","):"FirebaseCore-web";return`${u}/JsCore/${Ue.SDK_VERSION}/${m}`}class sS{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,u){const m=v=>new Promise((x,R)=>{try{x(c(v))}catch(Q){R(Q)}});m.onAbort=u,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var u=this;return(0,E.Z)(function*(){if(u.auth.currentUser===c)return;const m=[];try{for(const _ of u.queue)yield _(c),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const v of m)try{v()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Sl(){return(Sl=(0,E.Z)(function*(h,c={}){return H(h,"GET","/v2/passwordPolicy",ne(h,c))})).apply(this,arguments)}class aS{constructor(c){var u,m,_,v;const x=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=x.minPasswordLength)&&void 0!==u?u:6,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),void 0!==x.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),void 0!==x.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),void 0!==x.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),void 0!==x.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=c.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var u,m,_,v,x,R;const Q={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Q),this.validatePasswordCharacterOptions(c,Q),Q.isValid&&(Q.isValid=null===(u=Q.meetsMinPasswordLength)||void 0===u||u),Q.isValid&&(Q.isValid=null===(m=Q.meetsMaxPasswordLength)||void 0===m||m),Q.isValid&&(Q.isValid=null===(_=Q.containsLowercaseLetter)||void 0===_||_),Q.isValid&&(Q.isValid=null===(v=Q.containsUppercaseLetter)||void 0===v||v),Q.isValid&&(Q.isValid=null===(x=Q.containsNumericCharacter)||void 0===x||x),Q.isValid&&(Q.isValid=null===(R=Q.containsNonAlphanumericCharacter)||void 0===R||R),Q}validatePasswordLengthOptions(c,u){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(u.meetsMinPasswordLength=c.length>=m),_&&(u.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,u){let m;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<c.length;_++)m=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(c,u,m,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class Ow{constructor(c,u,m,_){this.app=c,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qo(this),this.idTokenSubscription=new Qo(this),this.beforeStateQueue=new sS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,u){var m=this;return u&&(this._popupRedirectResolver=tt(u)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,v;if(!m._deleted&&(m.persistenceManager=yield Ce.create(m,c),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(u),m.lastNotifiedUid=(null===(v=m.currentUser)||void 0===v?void 0:v.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.Z)(function*(){if(c._deleted)return;const u=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||u){if(c.currentUser&&u&&c.currentUser.uid===u.uid)return c._currentUser._assign(u),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(u,!0)}})()}initializeCurrentUser(c){var u=this;return(0,E.Z)(function*(){var m;const _=yield u.assertedPersistence.getCurrentUser();let v=_,x=!1;if(c&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const R=null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId,Q=v?._redirectEventId,pe=yield u.tryRedirectSignIn(c);(!R||R===Q)&&pe?.user&&(v=pe.user,x=!0)}if(!v)return u.directlySetCurrentUser(null);if(!v._redirectEventId){if(x)try{yield u.beforeStateQueue.runMiddleware(v)}catch(R){v=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(R))}return v?u.reloadAndSetCurrentUserOrClear(v):u.directlySetCurrentUser(null)}return X(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===v._redirectEventId?u.directlySetCurrentUser(v):u.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var u=this;return(0,E.Z)(function*(){let m=null;try{m=yield u._popupRedirectResolver._completeRedirectFn(u,c,!0)}catch{yield u._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(c){var u=this;return(0,E.Z)(function*(){try{yield xi(c)}catch(m){if("auth/network-request-failed"!==m?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function To(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var c=this;return(0,E.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var u=this;return(0,E.Z)(function*(){const m=c?(0,q.m9)(c):null;return m&&X(m.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(m&&m._clone(u))})()}_updateCurrentUser(c,u=!1){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return c&&X(m.tenantId===c.tenantId,m,"tenant-id-mismatch"),u||(yield m.beforeStateQueue.runMiddleware(c)),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(c),m.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var u=this;return this.queue((0,E.Z)(function*(){yield u.assertedPersistence.setPersistence(tt(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var u=this;return(0,E.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const m=u._getPasswordPolicyInternal();return m.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.Z)(function*(){const u=yield function Nw(h){return Sl.apply(this,arguments)}(c),m=new aS(u);null===c.tenantId?c._projectPasswordPolicy=m:c._tenantPasswordPolicies[c.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new q.LL("auth","Firebase",c())}onAuthStateChanged(c,u,m){return this.registerStateListener(this.authStateSubscription,c,u,m)}beforeAuthStateChanged(c,u){return this.beforeStateQueue.pushCallback(c,u)}onIdTokenChanged(c,u,m){return this.registerStateListener(this.idTokenSubscription,c,u,m)}authStateReady(){return new Promise((c,u)=>{if(this.currentUser)c();else{const m=this.onAuthStateChanged(()=>{m(),c()},u)}})}revokeAccessToken(c){var u=this;return(0,E.Z)(function*(){if(u.currentUser){const m=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:m};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function T(h,c){return D.apply(this,arguments)}(u,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,u){var m=this;return(0,E.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(u);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var u=this;return(0,E.Z)(function*(){if(!u.redirectPersistenceManager){const m=c&&tt(c)||u._popupRedirectResolver;X(m,u,"argument-error"),u.redirectPersistenceManager=yield Ce.create(u,[tt(m._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(c){var u=this;return(0,E.Z)(function*(){var m,_;return u._isInitialized&&(yield u.queue((0,E.Z)(function*(){}))),(null===(m=u._currentUser)||void 0===m?void 0:m._redirectEventId)===c?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?u.redirectUser:null})()}_persistUserIfCurrent(c){var u=this;return(0,E.Z)(function*(){if(c===u.currentUser)return u.queue((0,E.Z)(function*(){return u.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(u=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,u,m,_){if(this._deleted)return()=>{};const v="function"==typeof u?u:u.next.bind(u);let x=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(R,this,"internal-error"),R.then(()=>{x||v(this.currentUser)}),"function"==typeof u){const Q=c.addObserver(u,m,_);return()=>{x=!0,Q()}}{const Q=c.addObserver(u);return()=>{x=!0,Q()}}}directlySetCurrentUser(c){var u=this;return(0,E.Z)(function*(){u.currentUser&&u.currentUser!==c&&u._currentUser._stopProactiveRefresh(),c&&u.isProactiveRefreshEnabled&&c._startProactiveRefresh(),u.currentUser=c,c?yield u.assertedPersistence.setCurrentUser(c):yield u.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.Z)(function*(){var u;const m={"X-Client-Version":c.clientVersion};c.app.options.appId&&(m["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(u=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(m["X-Firebase-AppCheck"]=v),m})()}_getAppCheckToken(){var c=this;return(0,E.Z)(function*(){var u;const m=yield null===(u=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return m?.error&&function Pn(h,...c){kn.logLevel<=rt.in.WARN&&kn.warn(`Auth (${Ue.SDK_VERSION}): ${h}`,...c)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function rn(h){return(0,q.m9)(h)}class Qo{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,q.ne)(u=>this.observer=u)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tg(h){return new Promise((c,u)=>{const m=document.createElement("script");m.setAttribute("src",h),m.onload=c,m.onerror=_=>{const v=Rt("internal-error");v.customData=_,u(v)},m.type="text/javascript",m.charset="UTF-8",function lS(){var h,c;return null!==(c=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==c?c:document}().appendChild(m)})}function Fw(h){return`__${h}${Math.floor(1e6*Math.random())}`}class Cg{constructor(c){this.type="recaptcha-enterprise",this.auth=rn(c)}verify(c="verify",u=!1){var m=this;return(0,E.Z)(function*(){function v(){return v=(0,E.Z)(function*(R){if(!u){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var Q=(0,E.Z)(function*(pe,Ie){he(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Se=>{if(void 0!==Se.recaptchaKey){const wn=new j(Se);return null==R.tenantId?R._agentRecaptchaConfig=wn:R._tenantRecaptchaConfigs[R.tenantId]=wn,pe(wn.siteKey)}Ie(new Error("recaptcha Enterprise site key undefined"))}).catch(Se=>{Ie(Se)})});return function(pe,Ie){return Q.apply(this,arguments)}}())}),v.apply(this,arguments)}function x(R,Q,pe){const Ie=window.grecaptcha;M(Ie)?Ie.enterprise.ready(()=>{Ie.enterprise.execute(R,{action:c}).then(Se=>{Q(Se)}).catch(()=>{Q("NO_RECAPTCHA")})}):pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,Q)=>{(function _(R){return v.apply(this,arguments)})(m.auth).then(pe=>{if(!u&&M(window.grecaptcha))x(pe,R,Q);else{if(typeof window>"u")return void Q(new Error("RecaptchaVerifier is only supported in browser"));Tg("https://www.google.com/recaptcha/enterprise.js?render="+pe).then(()=>{x(pe,R,Q)}).catch(Ie=>{Q(Ie)})}}).catch(pe=>{Q(pe)})})})()}}function Vw(h,c,u){return Li.apply(this,arguments)}function Li(){return(Li=(0,E.Z)(function*(h,c,u,m=!1){const _=new Cg(h);let v;try{v=yield _.verify(u)}catch{v=yield _.verify(u,!0)}const x=Object.assign({},c);return Object.assign(x,m?{captchaResp:v}:{captchaResponse:v}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}function Fe(h,c,u,m){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,E.Z)(function*(h,c,u,m){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield Vw(h,c,u,"getOobCode"===u);return m(h,v)}return m(h,c).catch(function(){var v=(0,E.Z)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield Vw(h,c,u,"getOobCode"===u);return m(h,R)}return Promise.reject(x)});return function(x){return v.apply(this,arguments)}}())}),Dg.apply(this,arguments)}function Ml(h){const c=h.indexOf(":");return c<0?"":h.substr(0,c+1)}function Bh(h){if(!h)return null;const c=Number(h);return isNaN(c)?null:c}class Co{constructor(c,u){this.providerId=c,this.signInMethod=u}toJSON(){return Ht("not implemented")}_getIdTokenResponse(c){return Ht("not implemented")}_linkToIdToken(c,u){return Ht("not implemented")}_getReauthenticationResolver(c){return Ht("not implemented")}}function Rl(h,c){return kl.apply(this,arguments)}function kl(){return(kl=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:resetPassword",ne(h,c))})).apply(this,arguments)}function jh(){return(jh=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ht(h,c){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function pi(){return(pi=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",ne(h,c))})).apply(this,arguments)}function Rg(h,c){return kg.apply(this,arguments)}function kg(){return(kg=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithPassword",ne(h,c))})).apply(this,arguments)}function Nt(h,c){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:sendOobCode",ne(h,c))})).apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(h,c){return Nt(h,c)})).apply(this,arguments)}function $h(h,c){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,E.Z)(function*(h,c){return Nt(h,c)})).apply(this,arguments)}function Ng(h,c){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,E.Z)(function*(h,c){return Nt(h,c)})).apply(this,arguments)}function Fl(){return(Fl=(0,E.Z)(function*(h,c){return Nt(h,c)})).apply(this,arguments)}function Og(){return(Og=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithEmailLink",ne(h,c))})).apply(this,arguments)}function Fg(){return(Fg=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithEmailLink",ne(h,c))})).apply(this,arguments)}class hd extends Co{constructor(c,u,m,_=null){super("password",m),this._email=c,this._password=u,this._tenantId=_}static _fromEmailAndPassword(c,u){return new hd(c,u,"password")}static _fromEmailAndCode(c,u,m=null){return new hd(c,u,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(c){var u=this;return(0,E.Z)(function*(){switch(u.signInMethod){case"password":return Fe(c,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rg);case"emailLink":return function mS(h,c){return Og.apply(this,arguments)}(c,{email:u._email,oobCode:u._password});default:et(c,"internal-error")}})()}_linkToIdToken(c,u){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return Fe(c,{idToken:u,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ht);case"emailLink":return function pS(h,c){return Fg.apply(this,arguments)}(c,{idToken:u,email:m._email,oobCode:m._password});default:et(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function or(h,c){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithIdp",ne(h,c))})).apply(this,arguments)}class no extends Co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const u=new no(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(u.idToken=c.idToken),c.accessToken&&(u.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(u.nonce=c.nonce),c.pendingToken&&(u.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(u.accessToken=c.oauthToken,u.secret=c.oauthTokenSecret):et("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:_}=u,v=(0,Jt._T)(u,["providerId","signInMethod"]);if(!m||!_)return null;const x=new no(m,_);return x.idToken=v.idToken||void 0,x.accessToken=v.accessToken||void 0,x.secret=v.secret,x.nonce=v.nonce,x.pendingToken=v.pendingToken||null,x}_getIdTokenResponse(c){return or(c,this.buildRequest())}_linkToIdToken(c,u){const m=this.buildRequest();return m.idToken=u,or(c,m)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,or(c,u)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),c.postBody=(0,q.xO)(u)}return c}}function zh(){return(zh=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:sendVerificationCode",ne(h,c))})).apply(this,arguments)}function Yo(){return(Yo=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithPhoneNumber",ne(h,c))})).apply(this,arguments)}function io(){return(io=(0,E.Z)(function*(h,c){const u=yield Me(h,"POST","/v1/accounts:signInWithPhoneNumber",ne(h,c));if(u.temporaryProof)throw xn(h,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Hw={USER_NOT_FOUND:"user-not-found"};function md(){return(md=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithPhoneNumber",ne(h,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Hw)})).apply(this,arguments)}class fe extends Co{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,u){return new fe({verificationId:c,verificationCode:u})}static _fromTokenResponse(c,u){return new fe({phoneNumber:c,temporaryProof:u})}_getIdTokenResponse(c){return function Lg(h,c){return Yo.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,u){return function zw(h,c){return io.apply(this,arguments)}(c,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function J(h,c){return md.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:u,verificationId:m,verificationCode:_}=this.params;return c&&u?{temporaryProof:c,phoneNumber:u}:{sessionInfo:m,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:v}=c;return m||u||_||v?new fe({verificationId:u,verificationCode:m,phoneNumber:_,temporaryProof:v}):null}}class Do{constructor(c){var u,m,_,v,x,R;const Q=(0,q.zd)((0,q.pd)(c)),pe=null!==(u=Q.apiKey)&&void 0!==u?u:null,Ie=null!==(m=Q.oobCode)&&void 0!==m?m:null,Se=function pd(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Q.mode)&&void 0!==_?_:null);X(pe&&Ie&&Se,"argument-error"),this.apiKey=pe,this.operation=Se,this.code=Ie,this.continueUrl=null!==(v=Q.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(x=Q.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(R=Q.tenantId)&&void 0!==R?R:null}static parseLink(c){const u=function Hh(h){const c=(0,q.zd)((0,q.pd)(h)).link,u=c?(0,q.zd)((0,q.pd)(c)).deep_link_id:null,m=(0,q.zd)((0,q.pd)(h)).deep_link_id;return(m?(0,q.zd)((0,q.pd)(m)).link:null)||m||u||c||h}(c);try{return new Do(u)}catch{return null}}}let qh=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(u,m){return hd._fromEmailAndPassword(u,m)}static credentialWithLink(u,m){const _=Do.parseLink(m);return X(_,"argument-error"),hd._fromEmailAndCode(u,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Ao{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Vi extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class So extends Vi{static credentialFromJSON(c){const u="string"==typeof c?JSON.parse(c):c;return X("providerId"in u&&"signInMethod"in u,"argument-error"),no._fromParams(u)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return X(c.idToken||c.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return So.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return So.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:u,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:v,nonce:x,providerId:R}=c;if(!m&&!_&&!u&&!v||!R)return null;try{return new So(R)._credential({idToken:u,accessToken:m,nonce:x,pendingToken:v})}catch{return null}}}let sr=(()=>{class h extends Vi{constructor(){super("facebook.com")}static credential(u){return no._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),Lr=(()=>{class h extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(u,m){return no._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:m})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_}=u;if(!m&&!_)return null;try{return h.credential(m,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),Et=(()=>{class h extends Vi{constructor(){super("github.com")}static credential(u){return no._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class Xo extends Co{constructor(c,u){super(c,c),this.pendingToken=u}_getIdTokenResponse(c){return or(c,this.buildRequest())}_linkToIdToken(c,u){const m=this.buildRequest();return m.idToken=u,or(c,m)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,or(c,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:_,pendingToken:v}=u;return m&&_&&v&&m===_?new Xo(m,v):null}static _create(c,u){return new Xo(c,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vl extends Ao{constructor(c){X(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Vl.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Vl.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const u=Xo.fromJSON(c);return X(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:u,providerId:m}=c;if(!u||!m)return null;try{return Xo._create(m,u)}catch{return null}}}let ro=(()=>{class h extends Vi{constructor(){super("twitter.com")}static credential(u,m){return no._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:m})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=u;if(!m||!_)return null;try{return h.credential(m,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function wa(h,c){return _d.apply(this,arguments)}function _d(){return(_d=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signUp",ne(h,c))})).apply(this,arguments)}class ar{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,u,m,_=!1){return(0,E.Z)(function*(){const v=yield G._fromIdTokenResponse(c,m,_),x=yd(m);return new ar({user:v,providerId:x,_tokenResponse:m,operationType:u})})()}static _forOperation(c,u,m){return(0,E.Z)(function*(){yield c._updateTokensIfNecessary(m,!0);const _=yd(m);return new ar({user:c,providerId:_,_tokenResponse:m,operationType:u})})()}}function yd(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function vd(){return(vd=(0,E.Z)(function*(h){var c;const u=rn(h);if(yield u._initializationPromise,null!==(c=u.currentUser)&&void 0!==c&&c.isAnonymous)return new ar({user:u.currentUser,providerId:null,operationType:"signIn"});const m=yield wa(u,{returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(u,"signIn",m,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class Jo extends q.ZR{constructor(c,u,m,_){var v;super(u.code,u.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,Jo.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:u.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(c,u,m,_){return new Jo(c,u,m,_)}}function Wh(h,c,u,m){return("reauthenticate"===c?u._getReauthenticationResolver(h):u._getIdTokenResponse(h)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?Jo._fromErrorAndOperation(h,v,c,m):v})}function Kh(h){return new Set(h.map(({providerId:c})=>c).filter(c=>!!c))}function bd(){return bd=(0,E.Z)(function*(h,c){const u=(0,q.m9)(h);yield Ui(!0,u,c);const{providerUserInfo:m}=yield function yn(h,c){return Tn.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[c]}),_=Kh(m||[]);return u.providerData=u.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),bd.apply(this,arguments)}function Zh(h,c){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,E.Z)(function*(h,c,u=!1){const m=yield Oi(h,c._linkToIdToken(h.auth,yield h.getIdToken()),u);return ar._forOperation(h,"link",m)})).apply(this,arguments)}function Ui(h,c,u){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,E.Z)(function*(h,c,u){yield xi(c);const _=!1===h?"provider-already-linked":"no-such-provider";X(Kh(c.providerData).has(u)===h,c.auth,_)})).apply(this,arguments)}function Xh(h,c){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,E.Z)(function*(h,c,u=!1){const{auth:m}=h,_="reauthenticate";try{const v=yield Oi(h,Wh(m,_,c,h),u);X(v.idToken,m,"internal-error");const x=Go(v.idToken);X(x,m,"internal-error");const{sub:R}=x;return X(h.uid===R,m,"user-mismatch"),ar._forOperation(h,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&et(m,"user-mismatch"),v}})).apply(this,arguments)}function Ug(h,c){return ef.apply(this,arguments)}function ef(){return(ef=(0,E.Z)(function*(h,c,u=!1){const m="signIn",_=yield Wh(h,m,c),v=yield ar._fromIdTokenResponse(h,m,_);return u||(yield h._updateCurrentUser(v.user)),v})).apply(this,arguments)}function wd(h,c){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,E.Z)(function*(h,c){return Ug(rn(h),c)})).apply(this,arguments)}function Bg(h,c){return tf.apply(this,arguments)}function tf(){return(tf=(0,E.Z)(function*(h,c){const u=(0,q.m9)(h);return yield Ui(!1,u,c.providerId),Zh(u,c)})).apply(this,arguments)}function jg(h,c){return lr.apply(this,arguments)}function lr(){return(lr=(0,E.Z)(function*(h,c){return Xh((0,q.m9)(h),c)})).apply(this,arguments)}function nf(){return(nf=(0,E.Z)(function*(h,c){return Me(h,"POST","/v1/accounts:signInWithCustomToken",ne(h,c))})).apply(this,arguments)}function It(){return It=(0,E.Z)(function*(h,c){const u=rn(h),m=yield function Gw(h,c){return nf.apply(this,arguments)}(u,{token:c,returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(u,"signIn",m);return yield u._updateCurrentUser(_.user),_}),It.apply(this,arguments)}class Ul{constructor(c,u){this.factorId=c,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(c,u){return"phoneInfo"in u?Id._fromServerResponse(c,u):"totpInfo"in u?Ee._fromServerResponse(c,u):et(c,"internal-error")}}class Id extends Ul{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,u){return new Id(u)}}class Ee extends Ul{constructor(c){super("totp",c)}static _fromServerResponse(c,u){return new Ee(u)}}function oi(h,c,u){var m;X((null===(m=u.url)||void 0===m?void 0:m.length)>0,h,"invalid-continue-uri"),X(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),c.continueUrl=u.url,c.dynamicLinkDomain=u.dynamicLinkDomain,c.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(X(u.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),c.iOSBundleId=u.iOS.bundleId),u.android&&(X(u.android.packageName.length>0,h,"missing-android-pkg-name"),c.androidInstallApp=u.android.installApp,c.androidMinimumVersionCode=u.android.minimumVersion,c.androidPackageName=u.android.packageName)}function ft(h){return zn.apply(this,arguments)}function zn(){return(zn=(0,E.Z)(function*(h){const c=rn(h);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function es(){return(es=(0,E.Z)(function*(h,c,u){const m=rn(h),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};u&&oi(m,_,u),yield Fe(m,_,"getOobCode",$h)})).apply(this,arguments)}function xd(){return xd=(0,E.Z)(function*(h,c,u){yield Rl((0,q.m9)(h),{oobCode:c,newPassword:u}).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ft(h),_});return function(_){return m.apply(this,arguments)}}())}),xd.apply(this,arguments)}function Ea(){return Ea=(0,E.Z)(function*(h,c){yield function Mg(h,c){return pi.apply(this,arguments)}((0,q.m9)(h),{oobCode:c})}),Ea.apply(this,arguments)}function zg(h,c){return rf.apply(this,arguments)}function rf(){return(rf=(0,E.Z)(function*(h,c){const u=(0,q.m9)(h),m=yield Rl(u,{oobCode:c}),_=m.requestType;switch(X(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(m.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(m.mfaInfo,u,"internal-error");default:X(m.email,u,"internal-error")}let v=null;return m.mfaInfo&&(v=Ul._fromServerResponse(rn(u),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function ye(){return(ye=(0,E.Z)(function*(h,c){const{data:u}=yield zg((0,q.m9)(h),c);return u.email})).apply(this,arguments)}function Gt(){return(Gt=(0,E.Z)(function*(h,c,u){const m=rn(h),x=yield Fe(m,{returnSecureToken:!0,email:c,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wa).catch(Q=>{throw"auth/password-does-not-meet-requirements"===Q.code&&ft(h),Q}),R=yield ar._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(R.user),R})).apply(this,arguments)}function ei(){return(ei=(0,E.Z)(function*(h,c,u){const m=rn(h),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(x,R){X(R.handleCodeInApp,m,"argument-error"),R&&oi(m,x,R)})(_,u),yield Fe(m,_,"getOobCode",Ng)})).apply(this,arguments)}function oo(){return(oo=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h),_=qh.credentialWithLink(c,u||_n());return X(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),wd(m,_)})).apply(this,arguments)}function $e(){return($e=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:createAuthUri",ne(h,c))})).apply(this,arguments)}function Td(){return Td=(0,E.Z)(function*(h,c){const m={identifier:c,continueUri:xr()?_n():"http://localhost"},{signinMethods:_}=yield function xa(h,c){return $e.apply(this,arguments)}((0,q.m9)(h),m);return _||[]}),Td.apply(this,arguments)}function un(){return un=(0,E.Z)(function*(h,c){const u=(0,q.m9)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};c&&oi(u.auth,_,c);const{email:v}=yield function fS(h,c){return ie.apply(this,arguments)}(u.auth,_);v!==h.email&&(yield h.reload())}),un.apply(this,arguments)}function ts(){return ts=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:c};u&&oi(m.auth,v,u);const{email:x}=yield function jw(h,c){return Fl.apply(this,arguments)}(m.auth,v);x!==h.email&&(yield h.reload())}),ts.apply(this,arguments)}function Fs(){return(Fs=(0,E.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ao(){return ao=(0,E.Z)(function*(h,{displayName:c,photoURL:u}){if(void 0===c&&void 0===u)return;const m=(0,q.m9)(h),v={idToken:yield m.getIdToken(),displayName:c,photoUrl:u,returnSecureToken:!0},x=yield Oi(m,function so(h,c){return Fs.apply(this,arguments)}(m.auth,v));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const R=m.providerData.find(({providerId:Q})=>"password"===Q);R&&(R.displayName=m.displayName,R.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),ao.apply(this,arguments)}function Ca(h,c,u){return lt.apply(this,arguments)}function lt(){return lt=(0,E.Z)(function*(h,c,u){const{auth:m}=h,v={idToken:yield h.getIdToken(),returnSecureToken:!0};c&&(v.email=c),u&&(v.password=u);const x=yield Oi(h,function Sg(h,c){return jh.apply(this,arguments)}(m,v));yield h._updateTokensIfNecessary(x,!0)}),lt.apply(this,arguments)}class ns{constructor(c,u,m={}){this.isNewUser=c,this.providerId=u,this.profile=m}}class sf extends ns{constructor(c,u,m,_){super(c,u,m),this.username=_}}class lo extends ns{constructor(c,u){super(c,"facebook.com",u)}}class Cd extends sf{constructor(c,u){super(c,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class Da extends ns{constructor(c,u){super(c,"google.com",u)}}class Hl extends sf{constructor(c,u,m){super(c,"twitter.com",u,m)}}function si(h){const{user:c,_tokenResponse:u}=h;return c.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function _S(h){var c,u;if(!h)return null;const{providerId:m}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},v=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!m&&h?.idToken){const x=null===(u=null===(c=Go(h.idToken))||void 0===c?void 0:c.firebase)||void 0===u?void 0:u.sign_in_provider;if(x)return new ns(v,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new lo(v,_);case"github.com":return new Cd(v,_);case"google.com":return new Da(v,_);case"twitter.com":return new Hl(v,_,h.screenName||null);case"custom":case"anonymous":return new ns(v,null);default:return new ns(v,m,_)}}(u)}class Aa{constructor(c,u,m){this.type=c,this.credential=u,this.user=m}static _fromIdtoken(c,u){return new Aa("enroll",c,u)}static _fromMfaPendingCredential(c){return new Aa("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var u,m;if(c?.multiFactorSession){if(null!==(u=c.multiFactorSession)&&void 0!==u&&u.pendingCredential)return Aa._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(m=c.multiFactorSession)&&void 0!==m&&m.idToken)return Aa._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Gg{constructor(c,u,m){this.session=c,this.hints=u,this.signInResolver=m}static _fromError(c,u){const m=rn(c),_=u.customData._serverResponse,v=(_.mfaInfo||[]).map(R=>Ul._fromServerResponse(m,R));X(_.mfaPendingCredential,m,"internal-error");const x=Aa._fromMfaPendingCredential(_.mfaPendingCredential);return new Gg(x,v,function(){var R=(0,E.Z)(function*(Q){const pe=yield Q._process(m,x);delete _.mfaInfo,delete _.mfaPendingCredential;const Ie=Object.assign(Object.assign({},_),{idToken:pe.idToken,refreshToken:pe.refreshToken});switch(u.operationType){case"signIn":const Se=yield ar._fromIdTokenResponse(m,u.operationType,Ie);return yield m._updateCurrentUser(Se.user),Se;case"reauthenticate":return X(u.user,m,"internal-error"),ar._forOperation(u.user,u.operationType,Ie);default:et(m,"internal-error")}});return function(Q){return R.apply(this,arguments)}}())}resolveSignIn(c){var u=this;return(0,E.Z)(function*(){return u.signInResolver(c)})()}}class Wg{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(m=>Ul._fromServerResponse(c.auth,m)))})}static _fromUser(c){return new Wg(c)}getSession(){var c=this;return(0,E.Z)(function*(){return Aa._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,u){var m=this;return(0,E.Z)(function*(){const _=c,v=yield m.getSession(),x=yield Oi(m.user,_._process(m.user.auth,v,u));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(c){var u=this;return(0,E.Z)(function*(){const m="string"==typeof c?c:c.uid,_=yield u.user.getIdToken();try{const v=yield Oi(u.user,function TS(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(h,c))}(u.user.auth,{idToken:_,mfaEnrollmentId:m}));u.enrolledFactors=u.enrolledFactors.filter(({uid:x})=>x!==m),yield u.user._updateTokensIfNecessary(v),yield u.user.reload()}catch(v){throw v}})()}}const Kg=new WeakMap,lf="__sak";class cf{constructor(c,u){this.storageRetriever=c,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,u){return this.storage.setItem(c,JSON.stringify(u)),Promise.resolve()}_get(c){const u=this.storage.getItem(c);return Promise.resolve(u?JSON.parse(u):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const uo=(()=>{class h extends cf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,m)=>this.onStorageEvent(u,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zg(){const h=(0,q.z$)();return to(h)||We(h)}()&&function dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),v=this.localCache[m];_!==v&&u(m,v,_)}}onStorageEvent(u,m=!1){if(!u.key)return void this.forAllChangedKeys((R,Q,pe)=>{this.notifyListeners(R,pe)});const _=u.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(u.newValue!==R)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!m)return}const v=()=>{const R=this.storage.getItem(_);!m&&this.localCache[_]===R||this.notifyListeners(_,R)},x=this.storage.getItem(_);!function vn(){return(0,q.w1)()&&10===document.documentMode}()||x===u.newValue||u.newValue===u.oldValue?v():setTimeout(v,10)}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const v of Array.from(_))v(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,m){var _=()=>super._set,v=this;return(0,E.Z)(function*(){yield _().call(v,u,m),v.localCache[u]=JSON.stringify(m)})()}_get(u){var m=()=>super._get,_=this;return(0,E.Z)(function*(){const v=yield m().call(_,u);return _.localCache[u]=JSON.stringify(v),v})()}_remove(u){var m=()=>super._remove,_=this;return(0,E.Z)(function*(){yield m().call(_,u),delete _.localCache[u]})()}}return h.type="LOCAL",h})(),Us=(()=>{class h extends cf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,m){}_removeListener(u,m){}}return h.type="SESSION",h})();let ai=(()=>{class h{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const m=this.receivers.find(v=>v.isListeningto(u));if(m)return m;const _=new h(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var m=this;return(0,E.Z)(function*(){const _=u,{eventId:v,eventType:x,data:R}=_.data,Q=m.handlersMap[x];if(!Q?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:x});const pe=Array.from(Q).map(function(){var Se=(0,E.Z)(function*(wn){return wn(_.origin,R)});return function(wn){return Se.apply(this,arguments)}}()),Ie=yield function SS(h){return Promise.all(h.map(function(){var c=(0,E.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(m){return{fulfilled:!1,reason:m}}});return function(u){return c.apply(this,arguments)}}()))}(pe);_.ports[0].postMessage({status:"done",eventId:v,eventType:x,response:Ie})})()}_subscribe(u,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(m)}_unsubscribe(u,m){this.handlersMap[u]&&m&&this.handlersMap[u].delete(m),(!m||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function is(h="",c=10){let u="";for(let m=0;m<c;m++)u+=Math.floor(10*Math.random());return h+u}class Cr{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,u,m=50){var _=this;return(0,E.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let x,R;return new Promise((Q,pe)=>{const Ie=is("",20);v.port1.start();const Se=setTimeout(()=>{pe(new Error("unsupported_event"))},m);R={messageChannel:v,onMessage(wn){const Ur=wn;if(Ur.data.eventId===Ie)switch(Ur.data.status){case"ack":clearTimeout(Se),x=setTimeout(()=>{pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),Q(Ur.data.response);break;default:clearTimeout(Se),clearTimeout(x),pe(new Error("invalid_response"))}}},_.handlers.add(R),v.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:c,eventId:Ie,data:u},[v.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function Dn(){return window}function Ad(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function Gl(){return(Gl=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sd="firebaseLocalStorageDb",Wl="firebaseLocalStorage",uf="fbase_key";class rs{constructor(c){this.request=c}toPromise(){return new Promise((c,u)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function os(h,c){return h.transaction([Wl],c?"readwrite":"readonly").objectStore(Wl)}function Md(){const h=indexedDB.open(Sd,1);return new Promise((c,u)=>{h.addEventListener("error",()=>{u(h.error)}),h.addEventListener("upgradeneeded",()=>{const m=h.result;try{m.createObjectStore(Wl,{keyPath:uf})}catch(_){u(_)}}),h.addEventListener("success",(0,E.Z)(function*(){const m=h.result;m.objectStoreNames.contains(Wl)?c(m):(m.close(),yield function Sa(){const h=indexedDB.deleteDatabase(Sd);return new rs(h).toPromise()}(),c(yield Md()))}))})}function Kw(h,c,u){return e_.apply(this,arguments)}function e_(){return(e_=(0,E.Z)(function*(h,c,u){const m=os(h,!0).put({[uf]:c,value:u});return new rs(m).toPromise()})).apply(this,arguments)}function hf(){return(hf=(0,E.Z)(function*(h,c){const u=os(h,!1).get(c),m=yield new rs(u).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function t_(h,c){const u=os(h,!0).delete(c);return new rs(u).toPromise()}const Ma=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,E.Z)(function*(){return u.db||(u.db=yield Md()),u.db})()}_withRetries(u){var m=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const v=yield m._openDb();return yield u(v)}catch(v){if(_++>3)throw v;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,E.Z)(function*(){return Ad()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,E.Z)(function*(){u.receiver=ai._getInstance(function df(){return Ad()?self:null}()),u.receiver._subscribe("keyChanged",function(){var m=(0,E.Z)(function*(_,v){return{keyProcessed:(yield u._poll()).includes(v.key)}});return function(_,v){return m.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var m=(0,E.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return m.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,E.Z)(function*(){var m,_;if(u.activeServiceWorker=yield function Yg(){return Gl.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new Cr(u.activeServiceWorker);const v=yield u.sender._send("ping",{},800);v&&null!==(m=v[0])&&void 0!==m&&m.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var m=this;return(0,E.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function Xg(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:u},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const u=yield Md();return yield Kw(u,lf,"1"),yield t_(u,lf),!0}catch{}return!1})()}_withPendingWrite(u){var m=this;return(0,E.Z)(function*(){m.pendingWrites++;try{yield u()}finally{m.pendingWrites--}})()}_set(u,m){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(v=>Kw(v,u,m)),_.localCache[u]=m,_.notifyServiceWorker(u)}))})()}_get(u){var m=this;return(0,E.Z)(function*(){const _=yield m._withRetries(v=>function MS(h,c){return hf.apply(this,arguments)}(v,u));return m.localCache[u]=_,_})()}_remove(u){var m=this;return(0,E.Z)(function*(){return m._withPendingWrite((0,E.Z)(function*(){return yield m._withRetries(_=>t_(_,u)),delete m.localCache[u],m.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,E.Z)(function*(){const m=yield u._withRetries(x=>{const R=os(x,!1).getAll();return new rs(R).toPromise()});if(!m)return[];if(0!==u.pendingWrites)return[];const _=[],v=new Set;for(const{fbase_key:x,value:R}of m)v.add(x),JSON.stringify(u.localCache[x])!==JSON.stringify(R)&&(u.notifyListeners(x,R),_.push(x));for(const x of Object.keys(u.localCache))u.localCache[x]&&!v.has(x)&&(u.notifyListeners(x,null),_.push(x));return _})()}notifyListeners(u,m){this.localCache[u]=m;const _=this.listeners[u];if(_)for(const v of Array.from(_))v(m)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(m)}_removeListener(u,m){this.listeners[u]&&(this.listeners[u].delete(m),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),Kl=1e12;class Qw{constructor(c){this.auth=c,this.counter=Kl,this._widgets=new Map}render(c,u){const m=this.counter;return this._widgets.set(m,new Yw(c,this.auth.name,u||{})),this.counter++,m}reset(c){var u;const m=c||Kl;null===(u=this._widgets.get(m))||void 0===u||u.delete(),this._widgets.delete(m)}getResponse(c){var u;return(null===(u=this._widgets.get(c||Kl))||void 0===u?void 0:u.getResponse())||""}execute(c){var u=this;return(0,E.Z)(function*(){var m;return null===(m=u._widgets.get(c||Kl))||void 0===m||m.execute(),""})()}}class Yw{constructor(c,u,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;X(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xw(h){const c=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<h;m++)c.push(u.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":u}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rd=Fw("rcb"),Jw=new nr(3e4,6e4);class e0{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Dn().grecaptcha)||void 0===c||!c.render)}load(c,u=""){return X(function NS(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(u),c,"argument-error"),this.shouldResolveImmediately(u)&&P(Dn().grecaptcha)?Promise.resolve(Dn().grecaptcha):new Promise((m,_)=>{const v=Dn().setTimeout(()=>{_(Rt(c,"network-request-failed"))},Jw.get());Dn()[Rd]=()=>{Dn().clearTimeout(v),delete Dn()[Rd];const R=Dn().grecaptcha;if(!R||!P(R))return void _(Rt(c,"internal-error"));const Q=R.render;R.render=(pe,Ie)=>{const Se=Q(pe,Ie);return this.counter++,Se},this.hostLanguage=u,m(R)},Tg(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Rd,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(v),_(Rt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var u;return!(null===(u=Dn().grecaptcha)||void 0===u||!u.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class t0{load(c){return(0,E.Z)(function*(){return new Qw(c)})()}clearedOneInstance(){}}const ji="recaptcha",s_={theme:"light",type:"image"};class n0{constructor(c,u,m=Object.assign({},s_)){this.parameters=m,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(c),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;X(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new t0:new e0,this.validateStartingState()}verify(){var c=this;return(0,E.Z)(function*(){c.assertNotDestroyed();const u=yield c.render(),m=c.getAssertedRecaptcha();return m.getResponse(u)||new Promise(v=>{const x=R=>{R&&(c.tokenChangeListeners.delete(x),v(R))};c.tokenChangeListeners.add(x),c.isInvisible&&m.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return u=>{if(this.tokenChangeListeners.forEach(m=>m(u)),"function"==typeof c)c(u);else if("string"==typeof c){const m=Dn()[c];"function"==typeof m&&m(u)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.Z)(function*(){if(yield c.init(),!c.widgetId){let u=c.container;if(!c.isInvisible){const m=document.createElement("div");u.appendChild(m),u=m}c.widgetId=c.getAssertedRecaptcha().render(u,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.Z)(function*(){X(xr()&&!Ad(),c.auth,"internal-error"),yield function r0(){let h=null;return new Promise(c=>{"complete"!==document.readyState?(h=()=>c(),window.addEventListener("load",h)):c()}).catch(c=>{throw h&&window.removeEventListener("load",h),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const u=yield function re(h){return ue.apply(this,arguments)}(c.auth);X(u,c.auth,"internal-error"),c.parameters.sitekey=u})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kd{constructor(c,u){this.verificationId=c,this.onConfirmation=u}confirm(c){const u=fe._fromVerification(this.verificationId,c);return this.onConfirmation(u)}}function mf(){return(mf=(0,E.Z)(function*(h,c,u){const m=rn(h),_=yield Zl(m,c,(0,q.m9)(u));return new kd(_,v=>wd(m,v))})).apply(this,arguments)}function gf(){return(gf=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h);yield Ui(!1,m,"phone");const _=yield Zl(m.auth,c,(0,q.m9)(u));return new kd(_,v=>Bg(m,v))})).apply(this,arguments)}function Pd(){return(Pd=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h),_=yield Zl(m.auth,c,(0,q.m9)(u));return new kd(_,v=>jg(m,v))})).apply(this,arguments)}function Zl(h,c,u){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,E.Z)(function*(h,c,u){var m;const _=yield u.verify();try{let v;if(X("string"==typeof _,h,"argument-error"),X(u.type===ji,h,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const x=v.session;if("phoneNumber"in v)return X("enroll"===x.type,h,"internal-error"),(yield function ES(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:start",ne(h,c))}(h,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{X("signin"===x.type,h,"internal-error");const R=(null===(m=v.multiFactorHint)||void 0===m?void 0:m.uid)||v.multiFactorUid;return X(R,h,"missing-multi-factor-info"),(yield function ff(h,c){return H(h,"POST","/v2/accounts/mfaSignIn:start",ne(h,c))}(h,{mfaPendingCredential:x.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function $w(h,c){return zh.apply(this,arguments)}(h,{phoneNumber:v.phoneNumber,recaptchaToken:_});return x}}finally{u._reset()}}),Vt.apply(this,arguments)}function Ra(){return(Ra=(0,E.Z)(function*(h,c){yield Zh((0,q.m9)(h),c)})).apply(this,arguments)}let ti=(()=>{class h{constructor(u){this.providerId=h.PROVIDER_ID,this.auth=rn(u)}verifyPhoneNumber(u,m){return Zl(this.auth,u,(0,q.m9)(m))}static credential(u,m){return fe._fromVerification(u,m)}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:m,temporaryProof:_}=u;return m&&_?fe._fromTokenResponse(m,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Bs(h,c){return c?tt(c):(X(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class Nd extends Co{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return or(c,this._buildIdpRequest())}_linkToIdToken(c,u){return or(c,this._buildIdpRequest(u))}_getReauthenticationResolver(c){return or(c,this._buildIdpRequest())}_buildIdpRequest(c){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(u.idToken=c),u}}function ka(h){return Ug(h.auth,new Nd(h),h.bypassAuthState)}function ur(h){const{auth:c,user:u}=h;return X(u,c,"internal-error"),Xh(u,new Nd(h),h.bypassAuthState)}function o0(h){return yf.apply(this,arguments)}function yf(){return(yf=(0,E.Z)(function*(h){const{auth:c,user:u}=h;return X(u,c,"internal-error"),Zh(u,new Nd(h),h.bypassAuthState)})).apply(this,arguments)}class l_{constructor(c,u,m,_,v=!1){this.auth=c,this.resolver=m,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var c=this;return new Promise(function(){var u=(0,E.Z)(function*(m,_){c.pendingPromise={resolve:m,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(m,_){return u.apply(this,arguments)}}())}onAuthEvent(c){var u=this;return(0,E.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:v,tenantId:x,error:R,type:Q}=c;if(R)return void u.reject(R);const pe={auth:u.auth,requestUri:m,sessionId:_,tenantId:x||void 0,postBody:v||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(Q)(pe))}catch(Ie){u.reject(Ie)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return ka;case"linkViaPopup":case"linkViaRedirect":return o0;case"reauthViaPopup":case"reauthViaRedirect":return ur;default:et(this.auth,"internal-error")}}resolve(c){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new nr(2e3,1e4);function vf(){return(vf=(0,E.Z)(function*(h,c,u){const m=rn(h);Ge(h,c,Ao);const _=Bs(m,u);return new Ve(m,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Od(){return(Od=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h);Ge(m.auth,c,Ao);const _=Bs(m.auth,u);return new Ve(m.auth,"reauthViaPopup",c,_,m).executeNotNull()})).apply(this,arguments)}function bf(){return(bf=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h);Ge(m.auth,c,Ao);const _=Bs(m.auth,u);return new Ve(m.auth,"linkViaPopup",c,_,m).executeNotNull()})).apply(this,arguments)}let Ve=(()=>{class h extends l_{constructor(u,m,_,v,x){super(u,m,v,x),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var u=this;return(0,E.Z)(function*(){const m=yield u.execute();return X(m,u.auth,"internal-error"),m})()}onExecution(){var u=this;return(0,E.Z)(function*(){qt(1===u.filter.length,"Popup operations only handle one event");const m=is();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],m),u.authWindow.associatedEvent=m,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(Rt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const u=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,ss.get())};u()}}return h.currentPopupAction=null,h})();const h_="pendingRedirect",Fd=new Map;class s0 extends l_{constructor(c,u,m=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,m),this.eventId=null}execute(){var c=()=>super.execute,u=this;return(0,E.Z)(function*(){let m=Fd.get(u.auth._key());if(!m){try{const v=(yield function a0(h,c){return wf.apply(this,arguments)}(u.resolver,u.auth))?yield c().call(u):null;m=()=>Promise.resolve(v)}catch(_){m=()=>Promise.reject(_)}Fd.set(u.auth._key(),m)}return u.bypassAuthState||Fd.set(u.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(c){var u=()=>super.onAuthEvent,m=this;return(0,E.Z)(function*(){if("signInViaRedirect"===c.type)return u().call(m,c);if("unknown"!==c.type){if(c.eventId){const _=yield m.auth._redirectUserForId(c.eventId);if(_)return m.user=_,u().call(m,c);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function wf(){return(wf=(0,E.Z)(function*(h,c){const u=m_(c),m=f_(h);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(u));return yield m._remove(u),_})).apply(this,arguments)}function Ld(h,c){return as.apply(this,arguments)}function as(){return(as=(0,E.Z)(function*(h,c){return f_(h)._set(m_(c),"true")})).apply(this,arguments)}function Ef(h,c){Fd.set(h._key(),c)}function f_(h){return tt(h._redirectPersistence)}function m_(h){return Jn(h_,h.config.apiKey,h.name)}function c0(h,c,u){return function oe(h,c,u){return mt.apply(this,arguments)}(h,c,u)}function mt(){return(mt=(0,E.Z)(function*(h,c,u){const m=rn(h);Ge(h,c,Ao),yield m._initializationPromise;const _=Bs(m,u);return yield Ld(_,m),_._openRedirect(m,c,"signInViaRedirect")})).apply(this,arguments)}function d0(h,c,u){return function u0(h,c,u){return Hn.apply(this,arguments)}(h,c,u)}function Hn(){return(Hn=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h);Ge(m.auth,c,Ao),yield m.auth._initializationPromise;const _=Bs(m.auth,u);yield Ld(_,m.auth);const v=yield xf(m);return _._openRedirect(m.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function p_(h,c,u){return function Ql(h,c,u){return Dr.apply(this,arguments)}(h,c,u)}function Dr(){return(Dr=(0,E.Z)(function*(h,c,u){const m=(0,q.m9)(h);Ge(m.auth,c,Ao),yield m.auth._initializationPromise;const _=Bs(m.auth,u);yield Ui(!1,m,c.providerId),yield Ld(_,m.auth);const v=yield xf(m);return _._openRedirect(m.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function Yl(){return(Yl=(0,E.Z)(function*(h,c){return yield rn(h)._initializationPromise,Vd(h,c,!1)})).apply(this,arguments)}function Vd(h,c){return g_.apply(this,arguments)}function g_(){return(g_=(0,E.Z)(function*(h,c,u=!1){const m=rn(h),_=Bs(m,c),x=yield new s0(m,_,u).execute();return x&&!u&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,c)),x})).apply(this,arguments)}function xf(h){return li.apply(this,arguments)}function li(){return(li=(0,E.Z)(function*(h){const c=is(`${h.uid}:::`);return h._redirectEventId=c,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),c})).apply(this,arguments)}class Tf{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let u=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(c,m)&&(u=!0,this.sendToConsumer(c,m),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function h0(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fo(h);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=c,u=!0)),u}sendToConsumer(c,u){var m;if(c.error&&!fo(c)){const _=(null===(m=c.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";u.onError(Rt(this.auth,_))}else u.onAuthEvent(c)}isEventForConsumer(c,u){const m=null===u.eventId||!!c.eventId&&c.eventId===u.eventId;return u.filter.includes(c.type)&&m}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(c))}saveEventToCache(c){this.cachedEventUids.add(js(c)),this.lastProcessedEventTime=Date.now()}}function js(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(c=>c).join("-")}function fo({type:h,error:c}){return"unknown"===h&&"auth/no-auth-event"===c?.code}function Cf(h){return Df.apply(this,arguments)}function Df(){return(Df=(0,E.Z)(function*(h,c={}){return H(h,"GET","/v1/projects",c)})).apply(this,arguments)}const f0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Af=/^https?/;function Ud(){return(Ud=(0,E.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:c}=yield Cf(h);for(const u of c)try{if(Mf(u))return}catch{}et(h,"unauthorized-domain")})).apply(this,arguments)}function Mf(h){const c=_n(),{protocol:u,hostname:m}=new URL(c);if(h.startsWith("chrome-extension://")){const x=new URL(h);return""===x.hostname&&""===m?"chrome-extension:"===u&&h.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===u&&x.hostname===m}if(!Af.test(u))return!1;if(f0.test(h))return m===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const m0=new nr(3e4,6e4);function Rf(){const h=Dn().___jsl;if(h?.H)for(const c of Object.keys(h.H))if(h.H[c].r=h.H[c].r||[],h.H[c].L=h.H[c].L||[],h.H[c].r=[...h.H[c].L],h.CP)for(let u=0;u<h.CP.length;u++)h.CP[u]=null}let Xl=null;const y_=new nr(5e3,15e3),v_="__/auth/iframe",Pf="emulator/auth/iframe",p0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ci(h){const c=h.config;X(c.authDomain,h,"auth-domain-config-required");const u=c.emulator?U(c,Pf):`https://${h.config.authDomain}/${v_}`,m={apiKey:c.apiKey,appName:h.name,v:Ue.SDK_VERSION},_=g0.get(h.config.apiHost);_&&(m.eid=_);const v=h._getFrameworks();return v.length&&(m.fw=v.join(",")),`${u}?${(0,q.xO)(m).slice(1)}`}function Zt(){return Zt=(0,E.Z)(function*(h){const c=yield function __(h){return Xl=Xl||function kf(h){return new Promise((c,u)=>{var m,_,v;function x(){Rf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Rf(),u(Rt(h,"network-request-failed"))},timeout:m0.get()})}if(null!==(_=null===(m=Dn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=Dn().gapi)||void 0===v||!v.load){const R=Fw("iframefcb");return Dn()[R]=()=>{gapi.load?x():u(Rt(h,"network-request-failed"))},Tg(`https://apis.google.com/js/api.js?onload=${R}`).catch(Q=>u(Q))}x()}}).catch(c=>{throw Xl=null,c})}(h),Xl}(h),u=Dn().gapi;return X(u,h,"internal-error"),c.open({where:document.body,url:Ci(h),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p0,dontclear:!0},m=>new Promise(function(){var _=(0,E.Z)(function*(v,x){yield m.restyle({setHideOnLeave:!1});const R=Rt(h,"network-request-failed"),Q=Dn().setTimeout(()=>{x(R)},y_.get());function pe(){Dn().clearTimeout(Q),v(m)}m.ping(pe).then(pe,()=>{x(R)})});return function(v,x){return _.apply(this,arguments)}}()))}),Zt.apply(this,arguments)}const b_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nf{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const v0="__/auth/handler",jd="emulator/auth/handler",$d=encodeURIComponent("fac");function Pa(h,c,u,m,_,v){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,E.Z)(function*(h,c,u,m,_,v){X(h.config.authDomain,h,"auth-domain-config-required"),X(h.config.apiKey,h,"invalid-api-key");const x={apiKey:h.config.apiKey,appName:h.name,authType:u,redirectUrl:m,v:Ue.SDK_VERSION,eventId:_};if(c instanceof Ao){c.setDefaultLanguage(h.languageCode),x.providerId=c.providerId||"",(0,q.xb)(c.getCustomParameters())||(x.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ie,Se]of Object.entries(v||{}))x[Ie]=Se}if(c instanceof Vi){const Ie=c.getScopes().filter(Se=>""!==Se);Ie.length>0&&(x.scopes=Ie.join(","))}h.tenantId&&(x.tid=h.tenantId);const R=x;for(const Ie of Object.keys(R))void 0===R[Ie]&&delete R[Ie];const Q=yield h._getAppCheckToken(),pe=Q?`#${$d}=${encodeURIComponent(Q)}`:"";return`${function I_({config:h}){return h.emulator?U(h,jd):`https://${h.authDomain}/${v0}`}(h)}?${(0,q.xO)(R).slice(1)}${pe}`})).apply(this,arguments)}const zd="webStorageSupport",zs=class b0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Us,this._completeRedirectFn=Vd,this._overrideRedirectResult=Ef}_openPopup(c,u,m,_){var v=this;return(0,E.Z)(function*(){var x;qt(null===(x=v.eventManagers[c._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const R=yield Pa(c,u,m,_n(),_);return function Bd(h,c,u,m=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let R="";const Q=Object.assign(Object.assign({},b_),{width:m.toString(),height:_.toString(),top:v,left:x}),pe=(0,q.z$)().toLowerCase();u&&(R=ud(pe)?"_blank":u),Bt(pe)&&(c=c||"http://localhost",Q.scrollbars="yes");const Ie=Object.entries(Q).reduce((wn,[Ur,eu])=>`${wn}${Ur}=${eu},`,"");if(function O(h=(0,q.z$)()){var c;return We(h)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(pe)&&"_self"!==R)return function ls(h,c){const u=document.createElement("a");u.href=h,u.target=c;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(m)}(c||"",R),new Nf(null);const Se=window.open(c||"",R,Ie);X(Se,h,"popup-blocked");try{Se.focus()}catch{}return new Nf(Se)}(c,R,is())})()}_openRedirect(c,u,m,_){var v=this;return(0,E.Z)(function*(){return yield v._originValidation(c),function Qg(h){Dn().location.href=h}(yield Pa(c,u,m,_n(),_)),new Promise(()=>{})})()}_initialize(c){const u=c._key();if(this.eventManagers[u]){const{manager:_,promise:v}=this.eventManagers[u];return _?Promise.resolve(_):(qt(v,"If manager is not set, promise should be"),v)}const m=this.initAndGetManager(c);return this.eventManagers[u]={promise:m},m.catch(()=>{delete this.eventManagers[u]}),m}initAndGetManager(c){var u=this;return(0,E.Z)(function*(){const m=yield function $s(h){return Zt.apply(this,arguments)}(c),_=new Tf(c);return m.register("authEvent",v=>(X(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[c._key()]={manager:_},u.iframes[c._key()]=m,_})()}_isIframeWebStorageSupported(c,u){this.iframes[c._key()].send(zd,{type:zd},_=>{var v;const x=null===(v=_?.[0])||void 0===v?void 0:v[zd];void 0!==x&&u(!!x),et(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Sf(h){return Ud.apply(this,arguments)}(c)),this.originValidationPromises[u]}get _shouldInitProactively(){return Ae()||to()||We()}};class ec{constructor(c){this.factorId=c}_process(c,u,m){switch(u.type){case"enroll":return this._finalizeEnroll(c,u.credential,m);case"signin":return this._finalizeSignIn(c,u.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class Of extends ec{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Of(c)}_finalizeEnroll(c,u,m){return function IS(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:finalize",ne(h,c))}(c,{idToken:u,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,u){return function kS(h,c){return H(h,"POST","/v2/accounts/mfaSignIn:finalize",ne(h,c))}(c,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let OS=(()=>{class h{constructor(){}static assertion(u){return Of._fromCredential(u)}}return h.FACTOR_ID="phone",h})();var w0="@firebase/auth";class Ff{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var u=this;return(0,E.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const u=this.auth.onIdTokenChanged(m=>{c(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,u),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const u=this.internalListeners.get(c);u&&(this.internalListeners.delete(c),u(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cs(){return window}(0,q.Pz)("authIdTokenMaxAge"),function I0(h){(0,Ue._registerComponent)(new en.wA("auth",(c,{options:u})=>{const m=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:x,authDomain:R}=m.options;X(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const Q={apiKey:x,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ba(h)},pe=new Ow(m,_,v,Q);return function hS(h,c){const u=c?.persistence||[],m=(Array.isArray(u)?u:[u]).map(tt);c?.errorMap&&h._updateErrorMap(c.errorMap),h._initializeWithPersistence(m,c?.popupRedirectResolver)}(pe,u),pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,u,m)=>{c.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new en.wA("auth-internal",c=>{const u=rn(c.getProvider("auth").getImmediate());return new Ff(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(w0,"1.5.0",function tc(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(h)),(0,Ue.registerVersion)(w0,"1.5.0","esm2017")}("Browser");function Vf(){return Vf=(0,E.Z)(function*(h,c,u){var m;const{BuildInfo:_}=cs();qt(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function A_(h){return Wd.apply(this,arguments)}(c.sessionId),x={};return We()?x.ibi=_.packageName:S()?x.apn=_.packageName:et(h,"operation-not-supported-in-this-environment"),_.displayName&&(x.appDisplayName=_.displayName),x.sessionId=v,Pa(h,u,c.type,void 0,null!==(m=c.eventId)&&void 0!==m?m:void 0,x)}),Vf.apply(this,arguments)}function rc(){return(rc=(0,E.Z)(function*(h){const{BuildInfo:c}=cs(),u={};We()?u.iosBundleId=c.packageName:S()?u.androidPackageName=c.packageName:et(h,"operation-not-supported-in-this-environment"),yield Cf(h,u)})).apply(this,arguments)}function oc(){return(oc=(0,E.Z)(function*(h,c,u){const{cordova:m}=cs();let _=()=>{};try{yield new Promise((v,x)=>{let R=null;function Q(){var Se;v();const wn=null===(Se=m.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof wn&&wn(),"function"==typeof u?.close&&u.close()}function pe(){R||(R=window.setTimeout(()=>{x(Rt(h,"redirect-cancelled-by-user"))},2e3))}function Ie(){"visible"===document?.visibilityState&&pe()}c.addPassiveListener(Q),document.addEventListener("resume",pe,!1),S()&&document.addEventListener("visibilitychange",Ie,!1),_=()=>{c.removePassiveListener(Q),document.removeEventListener("resume",pe,!1),document.removeEventListener("visibilitychange",Ie,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function Wd(){return(Wd=(0,E.Z)(function*(h){const c=function S_(h){if(qt(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const c=new ArrayBuffer(h.length),u=new Uint8Array(c);for(let m=0;m<h.length;m++)u[m]=h.charCodeAt(m);return u}(h),u=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class D0 extends Tf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(c)),super.onEvent(c)}initialized(){var c=this;return(0,E.Z)(function*(){yield c.initPromise})()}}function R_(h){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,E.Z)(function*(h){const c=yield Uf()._get(ci(h));return c&&(yield Uf()._remove(ci(h))),c})).apply(this,arguments)}function sc(){const h=[];for(let u=0;u<20;u++){const m=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return h.join("")}function Uf(){return tt(uo)}function ci(h){return Jn("authEvent",h.config.apiKey,h.name)}function Na(h){if(!h?.includes("?"))return{};const[c,...u]=h.split("?");return(0,q.zd)(u.join("?"))}const Qd=class P_{constructor(){this._redirectPersistence=Us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vd,this._overrideRedirectResult=Ef}_initialize(c){var u=this;return(0,E.Z)(function*(){const m=c._key();let _=u.eventManagers.get(m);return _||(_=new D0(c),u.eventManagers.set(m,_),u.attachCallbackListeners(c,_)),_})()}_openPopup(c){et(c,"operation-not-supported-in-this-environment")}_openRedirect(c,u,m,_){var v=this;return(0,E.Z)(function*(){!function C0(h){var c,u,m,_,v,x,R,Q,pe,Ie;const Se=cs();X("function"==typeof(null===(c=Se?.universalLinks)||void 0===c?void 0:c.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(typeof(null===(u=Se?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X("function"==typeof(null===(v=null===(_=null===(m=Se?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(Q=null===(R=null===(x=Se?.cordova)||void 0===x?void 0:x.plugins)||void 0===R?void 0:R.browsertab)||void 0===Q?void 0:Q.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(Ie=null===(pe=Se?.cordova)||void 0===pe?void 0:pe.InAppBrowser)||void 0===Ie?void 0:Ie.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const x=yield v._initialize(c);yield x.initialized(),x.resetRedirect(),function l0(){Fd.clear()}(),yield v._originValidation(c);const R=function Kd(h,c,u=null){return{type:c,eventId:u,urlResponse:null,sessionId:sc(),postBody:null,tenantId:h.tenantId,error:Rt(h,"no-auth-event")}}(c,m,_);yield function Hs(h,c){return Uf()._set(ci(h),c)}(c,R);const Q=yield function mo(h,c,u){return Vf.apply(this,arguments)}(c,R,u),pe=yield function D_(h){const{cordova:c}=cs();return new Promise(u=>{c.plugins.browsertab.isAvailable(m=>{let _=null;m?c.plugins.browsertab.openUrl(h):_=c.InAppBrowser.open(h,function ut(h=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),u(_)})})}(Q);return function Gd(h,c,u){return oc.apply(this,arguments)}(c,x,pe)})()}_isIframeWebStorageSupported(c,u){throw new Error("Method not implemented.")}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function qd(h){return rc.apply(this,arguments)}(c)),this.originValidationPromises[u]}attachCallbackListeners(c,u){const{universalLinks:m,handleOpenURL:_,BuildInfo:v}=cs(),x=setTimeout((0,E.Z)(function*(){yield R_(c),u.onEvent(qs())}),500),R=function(){var Ie=(0,E.Z)(function*(Se){clearTimeout(x);const wn=yield R_(c);let Ur=null;wn&&Se?.url&&(Ur=function k_(h,c){var u,m;const _=function Fn(h){const c=Na(h),u=c.link?decodeURIComponent(c.link):void 0,m=Na(u).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Na(_).link||_||m||u||h}(c);if(_.includes("/__/auth/callback")){const v=Na(_),x=v.firebaseError?function A0(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(m=null===(u=x?.code)||void 0===u?void 0:u.split("auth/"))||void 0===m?void 0:m[1],Q=R?Rt(R):null;return Q?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:Q,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(wn,Se.url)),u.onEvent(Ur||qs())});return function(wn){return Ie.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,R);const Q=_,pe=`${v.packageName.toLowerCase()}://`;cs().handleOpenURL=function(){var Ie=(0,E.Z)(function*(Se){if(Se.toLowerCase().startsWith(pe)&&R({url:Se}),"function"==typeof Q)try{Q(Se)}catch(wn){console.error(wn)}});return function(Se){return Ie.apply(this,arguments)}}()}};function qs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}function po(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function O_(h=(0,q.z$)()){return!("file:"!==po()&&"ionic:"!==po()&&"capacitor:"!==po()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function M0(){try{const h=self.localStorage,c=is();if(h)return h.setItem(c,"1"),h.removeItem(c),!function jS(h=(0,q.z$)()){return function US(){return(0,q.w1)()&&11===document?.documentMode}()||function BS(h=(0,q.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,q.hl)()}catch{return F_()&&(0,q.hl)()}return!1}function F_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ds(){return(function LS(){return"http:"===po()||"https:"===po()}()||(0,q.ru)()||O_())&&!function VS(){return(0,q.b$)()||(0,q.UG)()}()&&M0()&&!F_()}function L_(){return O_()&&typeof document<"u"}function An(){return(An=(0,E.Z)(function*(){return!!L_()&&new Promise(h=>{const c=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),h(!0)})})})).apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},ac=X,hr="persistence";function Yd(h){return Va.apply(this,arguments)}function Va(){return(Va=(0,E.Z)(function*(h){yield h._initializationPromise;const c=V_(),u=Jn(hr,h.config.apiKey,h.name);c&&c.setItem(u,h._getPersistence())})).apply(this,arguments)}function V_(){var h;try{return(null===(h=function k0(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const $S=X;class us{constructor(){this.browserResolver=tt(zs),this.cordovaResolver=tt(Qd),this.underlyingResolver=null,this._redirectPersistence=Us,this._completeRedirectFn=Vd,this._overrideRedirectResult=Ef}_initialize(c){var u=this;return(0,E.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,u,m,_){var v=this;return(0,E.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,u,m,_)})()}_openRedirect(c,u,m,_){var v=this;return(0,E.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,u,m,_)})()}_isIframeWebStorageSupported(c,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,u)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return L_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $S(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,E.Z)(function*(){if(c.underlyingResolver)return;const u=yield function R0(){return An.apply(this,arguments)}();c.underlyingResolver=u?c.cordovaResolver:c.browserResolver})()}}function P0(h){return h.unwrap()}function jf(h){return N0(h)}function N0(h){const{_tokenResponse:c}=h instanceof q.ZR?h.customData:h;if(!c)return null;if(!(h instanceof q.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return ti.credentialFromResult(h);const u=c.providerId;if(!u||u===ot.PASSWORD)return null;let m;switch(u){case ot.GOOGLE:m=Lr;break;case ot.FACEBOOK:m=sr;break;case ot.GITHUB:m=Et;break;case ot.TWITTER:m=ro;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:x,pendingToken:R,nonce:Q}=c;return v||x||_||R?R?u.startsWith("saml.")?Xo._create(u,R):no._fromParams({providerId:u,signInMethod:u,pendingToken:R,idToken:_,accessToken:v}):new So(u).credential({idToken:_,accessToken:v,rawNonce:Q}):null}return h instanceof q.ZR?m.credentialFromError(h):m.credentialFromResult(h)}function Di(h,c){return c.catch(u=>{throw u instanceof q.ZR&&function Ua(h,c){var u;const m=null===(u=c.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new O0(h,function wS(h,c){var u;const m=(0,q.m9)(h),_=c;return X(c.customData.operationType,m,"argument-error"),X(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,m,"argument-error"),Gg._fromError(m,_)}(h,c));else if(m){const _=N0(c),v=c;_&&(v.credential=_,v.tenantId=m.tenantId||void 0,v.email=m.email||void 0,v.phoneNumber=m.phoneNumber||void 0)}}(h,u),u}).then(u=>{const _=u.user;return{operationType:u.operationType,credential:jf(u),additionalUserInfo:si(u),user:ko.getOrCreate(_)}})}function $f(h,c){return zf.apply(this,arguments)}function zf(){return(zf=(0,E.Z)(function*(h,c){const u=yield c;return{verificationId:u.verificationId,confirm:m=>Di(h,u.confirm(m))}})).apply(this,arguments)}class O0{constructor(c,u){this.resolver=u,this.auth=function fr(h){return h.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Di(P0(this.auth),this.resolver.resolveSignIn(c))}}class ko{constructor(c){this._delegate=c,this.multiFactor=function CS(h){const c=(0,q.m9)(h);return Kg.has(c)||Kg.set(c,Wg._fromUser(c)),Kg.get(c)}(c)}static getOrCreate(c){return ko.USER_MAP.has(c)||ko.USER_MAP.set(c,new ko(c)),ko.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var u=this;return(0,E.Z)(function*(){return Di(u.auth,Bg(u._delegate,c))})()}linkWithPhoneNumber(c,u){var m=this;return(0,E.Z)(function*(){return $f(m.auth,function pf(h,c,u){return gf.apply(this,arguments)}(m._delegate,c,u))})()}linkWithPopup(c){var u=this;return(0,E.Z)(function*(){return Di(u.auth,function u_(h,c,u){return bf.apply(this,arguments)}(u._delegate,c,us))})()}linkWithRedirect(c){var u=this;return(0,E.Z)(function*(){return yield Yd(rn(u.auth)),p_(u._delegate,c,us)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var u=this;return(0,E.Z)(function*(){return Di(u.auth,jg(u._delegate,c))})()}reauthenticateWithPhoneNumber(c,u){return $f(this.auth,function ho(h,c,u){return Pd.apply(this,arguments)}(this._delegate,c,u))}reauthenticateWithPopup(c){return Di(this.auth,function d_(h,c,u){return Od.apply(this,arguments)}(this._delegate,c,us))}reauthenticateWithRedirect(c){var u=this;return(0,E.Z)(function*(){return yield Yd(rn(u.auth)),d0(u._delegate,c,us)})()}sendEmailVerification(c){return function Ta(h,c){return un.apply(this,arguments)}(this._delegate,c)}unlink(c){var u=this;return(0,E.Z)(function*(){return yield function qw(h,c){return bd.apply(this,arguments)}(u._delegate,c),u})()}updateEmail(c){return function Mo(h,c){return Ca((0,q.m9)(h),c,null)}(this._delegate,c)}updatePassword(c){return function zl(h,c){return Ca((0,q.m9)(h),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function _f(h,c){return Ra.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Hg(h,c){return ao.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,u){return function $l(h,c,u){return ts.apply(this,arguments)}(this._delegate,c,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ko.USER_MAP=new WeakMap;const cc=X;let U_=(()=>{class h{constructor(u,m){if(this.app=u,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=u.options;cc(_,"invalid-api-key",{appName:u.name}),cc(_,"invalid-api-key",{appName:u.name});const v=typeof window<"u"?us:void 0;this._delegate=m.initialize({options:{persistence:Jd(_,u.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(cn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,m){!function wt(h,c,u){const m=rn(h);X(m._canInitEmulator,m,"emulator-config-failed"),X(/^https?:\/\//.test(c),m,"invalid-emulator-scheme");const _=!!u?.disableWarnings,v=Ml(c),{host:x,port:R}=function Uw(h){const c=Ml(h),u=/(\/\/)?([^?#/]+)/.exec(h.substr(c.length));if(!u)return{host:"",port:null};const m=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const v=_[1];return{host:v,port:Bh(m.substr(v.length+1))}}{const[v,x]=m.split(":");return{host:v,port:Bh(x)}}}(c);m.config.emulator={url:`${v}//${x}${null===R?"":`:${R}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Bw(){function h(){const c=document.createElement("p"),u=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,u,m)}applyActionCode(u){return function $g(h,c){return Ea.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return zg(this._delegate,u)}confirmPasswordReset(u,m){return function cr(h,c,u){return xd.apply(this,arguments)}(this._delegate,u,m)}createUserWithEmailAndPassword(u,m){var _=this;return(0,E.Z)(function*(){return Di(_._delegate,function Qe(h,c,u){return Gt.apply(this,arguments)}(_._delegate,u,m))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function jl(h,c){return Td.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function Ia(h,c){const u=Do.parseLink(c);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,E.Z)(function*(){cc(ds(),u._delegate,"operation-not-supported-in-this-environment");const m=yield function If(h,c){return Yl.apply(this,arguments)}(u._delegate,us);return m?Di(u._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function Oa(h,c){rn(h)._logFramework(c)}(this._delegate,u)}onAuthStateChanged(u,m,_){const{next:v,error:x,complete:R}=Xd(u,m,_);return this._delegate.onAuthStateChanged(v,x,R)}onIdTokenChanged(u,m,_){const{next:v,error:x,complete:R}=Xd(u,m,_);return this._delegate.onIdTokenChanged(v,x,R)}sendSignInLinkToEmail(u,m){return function Bl(h,c,u){return ei.apply(this,arguments)}(this._delegate,u,m)}sendPasswordResetEmail(u,m){return function Ti(h,c,u){return es.apply(this,arguments)}(this._delegate,u,m||void 0)}setPersistence(u){var m=this;return(0,E.Z)(function*(){let _;switch(function La(h,c){ac(Object.values(di).includes(c),h,"invalid-persistence-type"),(0,q.b$)()?ac(c!==di.SESSION,h,"unsupported-persistence-type"):(0,q.UG)()?ac(c===di.NONE,h,"unsupported-persistence-type"):F_()?ac(c===di.NONE||c===di.LOCAL&&(0,q.hl)(),h,"unsupported-persistence-type"):ac(c===di.NONE||M0(),h,"unsupported-persistence-type")}(m._delegate,u),u){case di.SESSION:_=Us;break;case di.LOCAL:_=(yield tt(Ma)._isAvailable())?Ma:uo;break;case di.NONE:_=dn;break;default:return et("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Di(this._delegate,function Vg(h){return vd.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Di(this._delegate,wd(this._delegate,u))}signInWithCustomToken(u){return Di(this._delegate,function Ww(h,c){return It.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,m){return Di(this._delegate,function Vr(h,c,u){return wd((0,q.m9)(h),qh.credential(c,u)).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ft(h),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,u,m))}signInWithEmailLink(u,m){return Di(this._delegate,function Cn(h,c,u){return oo.apply(this,arguments)}(this._delegate,u,m))}signInWithPhoneNumber(u,m){return $f(this._delegate,function a_(h,c,u){return mf.apply(this,arguments)}(this._delegate,u,m))}signInWithPopup(u){var m=this;return(0,E.Z)(function*(){return cc(ds(),m._delegate,"operation-not-supported-in-this-environment"),Di(m._delegate,function c_(h,c,u){return vf.apply(this,arguments)}(m._delegate,u,us))})()}signInWithRedirect(u){var m=this;return(0,E.Z)(function*(){return cc(ds(),m._delegate,"operation-not-supported-in-this-environment"),yield Yd(m._delegate),c0(m._delegate,u,us)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function bn(h,c){return ye.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=di,h})();function Xd(h,c,u){let m=h;"function"!=typeof h&&({next:m,error:c,complete:u}=h);const _=m;return{next:x=>_(x&&ko.getOrCreate(x)),error:c,complete:u}}function Jd(h,c){const u=function lc(h,c){const u=V_();if(!u)return[];const m=Jn(hr,h,c);switch(u.getItem(m)){case di.NONE:return[dn];case di.LOCAL:return[Ma,Us];case di.SESSION:return[Us];default:return[]}}(h,c);if(typeof self<"u"&&!u.includes(Ma)&&u.push(Ma),typeof window<"u")for(const m of[uo,Us])u.includes(m)||u.push(m);return u.includes(dn)||u.push(dn),u}class Hf{constructor(){this.providerId="phone",this._delegate=new ti(P0(Oe.Z.auth()))}static credential(c,u){return ti.credential(c,u)}verifyPhoneNumber(c,u){return this._delegate.verifyPhoneNumber(c,u)}unwrap(){return this._delegate}}Hf.PHONE_SIGN_IN_METHOD=ti.PHONE_SIGN_IN_METHOD,Hf.PROVIDER_ID=ti.PROVIDER_ID;const hs=X;class F0{constructor(c,u,m=Oe.Z.app()){var _;hs(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new n0(m.auth(),c,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function L0(h){h.INTERNAL.registerComponent(new en.wA("auth-compat",c=>{const u=c.getProvider("app-compat").getImmediate(),m=c.getProvider("auth");return new U_(u,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qh,FacebookAuthProvider:sr,GithubAuthProvider:Et,GoogleAuthProvider:Lr,OAuthProvider:So,SAMLAuthProvider:Vl,PhoneAuthProvider:Hf,PhoneMultiFactorGenerator:OS,RecaptchaVerifier:F0,TwitterAuthProvider:ro,Auth:U_,AuthCredential:Co,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.0")}(Oe.Z)},483:(tr,Rn,He)=>{function E(q,Ue,rt,Jt,en,Yn,ot){try{var te=q[Yn](ot),ce=te.value}catch(Te){return void rt(Te)}te.done?Ue(ce):Promise.resolve(ce).then(Jt,en)}function Oe(q){return function(){var Ue=this,rt=arguments;return new Promise(function(Jt,en){var Yn=q.apply(Ue,rt);function ot(ce){E(Yn,Jt,en,ot,te,"next",ce)}function te(ce){E(Yn,Jt,en,ot,te,"throw",ce)}ot(void 0)})}}He.d(Rn,{Z:()=>Oe})},356:(tr,Rn,He)=>{function Ue(U,$){var z={};for(var K in U)Object.prototype.hasOwnProperty.call(U,K)&&$.indexOf(K)<0&&(z[K]=U[K]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(K=Object.getOwnPropertySymbols(U);ne<K.length;ne++)$.indexOf(K[ne])<0&&Object.prototype.propertyIsEnumerable.call(U,K[ne])&&(z[K[ne]]=U[K[ne]])}return z}function Te(U,$,z,K){return new(z||(z=Promise))(function(H,ve){function ct(yt){try{Me(K.next(yt))}catch(Kt){ve(Kt)}}function _e(yt){try{Me(K.throw(yt))}catch(Kt){ve(Kt)}}function Me(yt){yt.done?H(yt.value):function ne(H){return H instanceof z?H:new z(function(ve){ve(H)})}(yt.value).then(ct,_e)}Me((K=K.apply(U,$||[])).next())})}function Lt(U){return this instanceof Lt?(this.v=U,this):new Lt(U)}function et(U,$,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,K=z.apply(U,$||[]),H=[];return ne={},ve("next"),ve("throw"),ve("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function ve(kt){K[kt]&&(ne[kt]=function(Xn){return new Promise(function(xn,P){H.push([kt,Xn,xn,P])>1||ct(kt,Xn)})})}function ct(kt,Xn){try{!function _e(kt){kt.value instanceof Lt?Promise.resolve(kt.value.v).then(Me,yt):Kt(H[0][2],kt)}(K[kt](Xn))}catch(xn){Kt(H[0][3],xn)}}function Me(kt){ct("next",kt)}function yt(kt){ct("throw",kt)}function Kt(kt,Xn){kt(Xn),H.shift(),H.length&&ct(H[0][0],H[0][1])}}function mi(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,$=U[Symbol.asyncIterator];return $?$.call(U):(U=function bt(U){var $="function"==typeof Symbol&&Symbol.iterator,z=$&&U[$],K=0;if(z)return z.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&K>=U.length&&(U=void 0),{value:U&&U[K++],done:!U}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z);function K(H){z[H]=U[H]&&function(ve){return new Promise(function(ct,_e){!function ne(H,ve,ct,_e){Promise.resolve(_e).then(function(Me){H({value:Me,done:ct})},ve)}(ct,_e,(ve=U[H](ve)).done,ve.value)})}}}He.d(Rn,{FC:()=>et,KL:()=>mi,_T:()=>Ue,mG:()=>Te,qq:()=>Lt}),"function"==typeof SuppressedError&&SuppressedError}},tr=>{var Rn=E=>tr(tr.s=E);Rn(668),Rn(261)}]);